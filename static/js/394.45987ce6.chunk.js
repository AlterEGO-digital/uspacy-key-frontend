(self.webpackChunkcontainer=self.webpackChunkcontainer||[]).push([[394],{181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}},611:(e,t,a)=>{"use strict";var r;a.r(t),a.d(t,{NIL:()=>_,parse:()=>m,stringify:()=>c,v1:()=>v,v3:()=>C,v4:()=>L,v5:()=>O,validate:()=>n,version:()=>E});var i=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,n=function(e){return"string"==typeof e&&d.test(e)};for(var o=[],l=0;l<256;++l)o.push((l+256).toString(16).substr(1));const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!n(a))throw TypeError("Stringified UUID is invalid");return a};var u,p,y=0,g=0;const v=function(e,t,a){var r=t&&a||0,i=t||new Array(16),d=(e=e||{}).node||u,n=void 0!==e.clockseq?e.clockseq:p;if(null==d||null==n){var o=e.random||(e.rng||s)();null==d&&(d=u=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==n&&(n=p=16383&(o[6]<<8|o[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:g+1,m=l-y+(v-g)/1e4;if(m<0&&void 0===e.clockseq&&(n=n+1&16383),(m<0||l>y)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=l,g=v,p=n;var f=(1e4*(268435455&(l+=122192928e5))+v)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var h=l/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=255&h,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=n>>>8|128,i[r++]=255&n;for(var S=0;S<6;++S)i[r+S]=d[S];return t||c(i)},m=function(e){if(!n(e))throw TypeError("Invalid UUID");var t,a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=255&t,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=255&t,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=255&t,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=255&t,a};function f(e,t,a){function r(e,r,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}(e)),"string"==typeof r&&(r=m(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+e.length);if(d.set(r),d.set(e,r.length),(d=a(d))[6]=15&d[6]|t,d[8]=63&d[8]|128,i){s=s||0;for(var n=0;n<16;++n)i[s+n]=d[n];return i}return c(d)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function h(e){return 14+(e+64>>>9<<4)+1}function S(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function F(e,t,a,r,i,s){return S((d=S(S(t,e),S(r,s)))<<(n=i)|d>>>32-n,a);var d,n}function k(e,t,a,r,i,s,d){return F(t&a|~t&r,e,t,i,s,d)}function b(e,t,a,r,i,s,d){return F(t&r|a&~r,e,t,i,s,d)}function T(e,t,a,r,i,s,d){return F(t^a^r,e,t,i,s,d)}function j(e,t,a,r,i,s,d){return F(a^(t|~r),e,t,i,s,d)}const C=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var a=0;a<t.length;++a)e[a]=t.charCodeAt(a)}return function(e){for(var t=[],a=32*e.length,r="0123456789abcdef",i=0;i<a;i+=8){var s=e[i>>5]>>>i%32&255,d=parseInt(r.charAt(s>>>4&15)+r.charAt(15&s),16);t.push(d)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[h(t)-1]=t;for(var a=1732584193,r=-271733879,i=-1732584194,s=271733878,d=0;d<e.length;d+=16){var n=a,o=r,l=i,c=s;a=k(a,r,i,s,e[d],7,-680876936),s=k(s,a,r,i,e[d+1],12,-389564586),i=k(i,s,a,r,e[d+2],17,606105819),r=k(r,i,s,a,e[d+3],22,-1044525330),a=k(a,r,i,s,e[d+4],7,-176418897),s=k(s,a,r,i,e[d+5],12,1200080426),i=k(i,s,a,r,e[d+6],17,-1473231341),r=k(r,i,s,a,e[d+7],22,-45705983),a=k(a,r,i,s,e[d+8],7,1770035416),s=k(s,a,r,i,e[d+9],12,-1958414417),i=k(i,s,a,r,e[d+10],17,-42063),r=k(r,i,s,a,e[d+11],22,-1990404162),a=k(a,r,i,s,e[d+12],7,1804603682),s=k(s,a,r,i,e[d+13],12,-40341101),i=k(i,s,a,r,e[d+14],17,-1502002290),a=b(a,r=k(r,i,s,a,e[d+15],22,1236535329),i,s,e[d+1],5,-165796510),s=b(s,a,r,i,e[d+6],9,-1069501632),i=b(i,s,a,r,e[d+11],14,643717713),r=b(r,i,s,a,e[d],20,-373897302),a=b(a,r,i,s,e[d+5],5,-701558691),s=b(s,a,r,i,e[d+10],9,38016083),i=b(i,s,a,r,e[d+15],14,-660478335),r=b(r,i,s,a,e[d+4],20,-405537848),a=b(a,r,i,s,e[d+9],5,568446438),s=b(s,a,r,i,e[d+14],9,-1019803690),i=b(i,s,a,r,e[d+3],14,-187363961),r=b(r,i,s,a,e[d+8],20,1163531501),a=b(a,r,i,s,e[d+13],5,-1444681467),s=b(s,a,r,i,e[d+2],9,-51403784),i=b(i,s,a,r,e[d+7],14,1735328473),a=T(a,r=b(r,i,s,a,e[d+12],20,-1926607734),i,s,e[d+5],4,-378558),s=T(s,a,r,i,e[d+8],11,-2022574463),i=T(i,s,a,r,e[d+11],16,1839030562),r=T(r,i,s,a,e[d+14],23,-35309556),a=T(a,r,i,s,e[d+1],4,-1530992060),s=T(s,a,r,i,e[d+4],11,1272893353),i=T(i,s,a,r,e[d+7],16,-155497632),r=T(r,i,s,a,e[d+10],23,-1094730640),a=T(a,r,i,s,e[d+13],4,681279174),s=T(s,a,r,i,e[d],11,-358537222),i=T(i,s,a,r,e[d+3],16,-722521979),r=T(r,i,s,a,e[d+6],23,76029189),a=T(a,r,i,s,e[d+9],4,-640364487),s=T(s,a,r,i,e[d+12],11,-421815835),i=T(i,s,a,r,e[d+15],16,530742520),a=j(a,r=T(r,i,s,a,e[d+2],23,-995338651),i,s,e[d],6,-198630844),s=j(s,a,r,i,e[d+7],10,1126891415),i=j(i,s,a,r,e[d+14],15,-1416354905),r=j(r,i,s,a,e[d+5],21,-57434055),a=j(a,r,i,s,e[d+12],6,1700485571),s=j(s,a,r,i,e[d+3],10,-1894986606),i=j(i,s,a,r,e[d+10],15,-1051523),r=j(r,i,s,a,e[d+1],21,-2054922799),a=j(a,r,i,s,e[d+8],6,1873313359),s=j(s,a,r,i,e[d+15],10,-30611744),i=j(i,s,a,r,e[d+6],15,-1560198380),r=j(r,i,s,a,e[d+13],21,1309151649),a=j(a,r,i,s,e[d+4],6,-145523070),s=j(s,a,r,i,e[d+11],10,-1120210379),i=j(i,s,a,r,e[d+2],15,718787259),r=j(r,i,s,a,e[d+9],21,-343485551),a=S(a,n),r=S(r,o),i=S(i,l),s=S(s,c)}return[a,r,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,a=new Uint32Array(h(t)),r=0;r<t;r+=8)a[r>>5]|=(255&e[r/8])<<r%32;return a}(e),8*e.length))})),L=function(e,t,a){var r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(var i=0;i<16;++i)t[a+i]=r[i];return t}return c(r)};function P(e,t,a,r){switch(e){case 0:return t&a^~t&r;case 1:case 3:return t^a^r;case 2:return t&a^t&r^a&r}}function I(e,t){return e<<t|e>>>32-t}const O=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,d=Math.ceil(s/16),n=new Array(d),o=0;o<d;++o){for(var l=new Uint32Array(16),c=0;c<16;++c)l[c]=e[64*o+4*c]<<24|e[64*o+4*c+1]<<16|e[64*o+4*c+2]<<8|e[64*o+4*c+3];n[o]=l}n[d-1][14]=8*(e.length-1)/Math.pow(2,32),n[d-1][14]=Math.floor(n[d-1][14]),n[d-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<d;++u){for(var p=new Uint32Array(80),y=0;y<16;++y)p[y]=n[u][y];for(var g=16;g<80;++g)p[g]=I(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var v=a[0],m=a[1],f=a[2],h=a[3],S=a[4],F=0;F<80;++F){var k=Math.floor(F/20),b=I(v,5)+P(k,m,f,h)+S+t[k]+p[F]>>>0;S=h,h=f,f=I(m,30)>>>0,m=v,v=b}a[0]=a[0]+v>>>0,a[1]=a[1]+m>>>0,a[2]=a[2]+f>>>0,a[3]=a[3]+h>>>0,a[4]=a[4]+S>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]})),_="00000000-0000-0000-0000-000000000000",E=function(e){if(!n(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},1457:(e,t,a)=>{var r=a(1791),i=a(9622);e.exports=function(e,t){return e&&r(t,i(t),e)}},1791:(e,t,a)=>{var r=a(6547),i=a(3360);e.exports=function(e,t,a,s){var d=!a;a||(a={});for(var n=-1,o=t.length;++n<o;){var l=t[n],c=s?s(a[l],e[l],l,a,e):void 0;void 0===c&&(c=e[l]),d?i(a,l,c):r(a,l,c)}return a}},1961:(e,t,a)=>{var r=a(9653);e.exports=function(e,t){var a=t?r(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}},2193:(e,t,a)=>{var r=a(8984),i=a(5861),s=a(2428),d=a(6449),n=a(4894),o=a(3656),l=a(5527),c=a(7167),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(n(e)&&(d(e)||"string"==typeof e||"function"==typeof e.splice||o(e)||c(e)||s(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var a in e)if(u.call(e,a))return!1;return!0}},2271:(e,t,a)=>{var r=a(1791),i=a(4664);e.exports=function(e,t){return r(e,i(e),t)}},2464:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l}),Math.pow(10,8);var r=6e4;function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e){i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===s(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}var n={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},o="trunc";function l(e,t,a){i(2,arguments);var s,l=function(e,t){return i(2,arguments),d(e).getTime()-d(t).getTime()}(e,t)/r;return((s=null==a?void 0:a.roundingMethod)?n[s]:n[o])(l)}},2903:(e,t,a)=>{var r=a(3805),i=a(5527),s=a(181),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=i(e),a=[];for(var n in e)("constructor"!=n||!t&&d.call(e,n))&&a.push(n);return a}},3007:e=>{e.exports=function(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}},3201:e=>{var t=/\w*$/;e.exports=function(e){var a=new e.constructor(e.source,t.exec(e));return a.lastIndex=e.lastIndex,a}},3243:(e,t,a)=>{var r=a(6110),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},3290:(e,t,a)=>{e=a.nmd(e);var r=a(9325),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,d=s&&s.exports===i?r.Buffer:void 0,n=d?d.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var a=e.length,r=n?n(a):new e.constructor(a);return e.copy(r),r}},3349:(e,t,a)=>{var r=a(2199),i=a(6375),s=a(9622);e.exports=function(e){return r(e,s,i)}},3360:(e,t,a)=>{var r=a(3243);e.exports=function(e,t,a){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}},3729:e=>{e.exports=function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r&&!1!==t(e[a],a,e););return e}},3736:(e,t,a)=>{var r=a(1873),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},3810:(e,t)=>{"use strict";var a,r;Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationActions=t.NotificationAction=void 0,function(e){e.CREATE="create",e.UPDATE="update",e.DELETE="delete",e.UPDATE_STAGE="updateStage"}(a||(t.NotificationAction=a={})),function(e){e.SUBSCIRBE="subscribe",e.PUBLISH="publish"}(r||(t.NotificationActions=r={}))},4657:(e,t)=>{"use strict";var a,r,i,s,d,n,o,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.EMessengerType=t.ChatType=t.EMessageStatus=t.EMetaType=t.EMetaEntity=t.EActiveEntity=t.ERelationsAction=t.ERelationsEntity=t.MessageType=void 0,function(e){e.DEFAULT="MESSAGE",e.AUDIO="AUDIO",e.VOICE="VOICE",e.VIDEO="VIDEO",e.GIF="GIF"}(a||(t.MessageType=a={})),function(e){e.LEAD="lead",e.CONTACT="contact",e.DEAL="deal"}(r||(t.ERelationsEntity=r={})),function(e){e.CREATE="create"}(i||(t.ERelationsAction=i={})),function(e){e.CHATS="chats",e.CONTACTS="contacts",e.ACTIVE_EXTERNAL="activeExternal",e.UNDISTRIBUTED_EXTERNAL="undistributedExternal",e.INACTIVE_EXTERNAL="inactiveExternal"}(s||(t.EActiveEntity=s={})),function(e){e.POST="post",e.STORY="story",e.REEL="reel"}(d||(t.EMetaEntity=d={})),function(e){e.COMMENT="comment",e.REACTION="reaction",e.DEFAULT="default"}(n||(t.EMetaType=n={})),function(e){e.SENT="sent",e.DELIVERED="delivered",e.READ="read",e.ERROR="error"}(o||(t.EMessageStatus=o={})),function(e){e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC",e.GROUP="GROUP",e.DIRECT="DIRECT",e.EXTERNAL="EXTERNAL"}(l||(t.ChatType=l={})),function(e){e.INTERNAL_CHAT="internalChat",e.EXTERNAL_LINES="externalLines",e.MAIL="mail"}(c||(t.EMessengerType=c={}))},4733:(e,t,a)=>{var r=a(1791),i=a(5950);e.exports=function(e,t){return e&&r(t,i(t),e)}},5529:(e,t,a)=>{var r=a(9344),i=a(8879),s=a(5527);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}},6038:(e,t,a)=>{var r=a(5861),i=a(346);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},6169:(e,t,a)=>{var r=a(9653);e.exports=function(e,t){var a=t?r(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}},6189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var a=e.length,r=new e.constructor(a);return a&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},6375:(e,t,a)=>{var r=a(4528),i=a(8879),s=a(4664),d=a(3345),n=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=i(e);return t}:d;e.exports=n},6394:(e,t)=>{"use strict";var a,r,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.ECalendarRoles=t.EServicesAccountStatuses=t.EEventsValues=t.EServicesAccountDirectionType=void 0,function(e){e.DOUBLE_SIDED="double_sided",e.PROVIDER_ACTIVITY="provider_activity",e.ACTIVITY_PROVIDER="activity_provider"}(a||(t.EServicesAccountDirectionType=a={})),function(e){e.TASK="task",e.CALL="call",e.MEETING="meeting",e.CHAT="chat",e.EMAIL="email"}(r||(t.EEventsValues=r={})),function(e){e.RUN="run",e.STARTED="started",e.STOPPED="stopped"}(i||(t.EServicesAccountStatuses=i={})),function(e){e.OWNER="owner",e.WRITER="writer",e.READER="reader"}(s||(t.ECalendarRoles=s={}))},6547:(e,t,a)=>{var r=a(3360),i=a(5288),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,a){var d=e[t];s.call(e,t)&&i(d,a)&&(void 0!==a||t in e)||r(e,t,a)}},7199:(e,t,a)=>{var r=a(9653),i=a(6169),s=a(3201),d=a(3736),n=a(1961);e.exports=function(e,t,a){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return i(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return n(e,a);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return s(e);case"[object Symbol]":return d(e)}}},7730:(e,t,a)=>{var r=a(9172),i=a(7301),s=a(6009),d=s&&s.isMap,n=d?i(d):r;e.exports=n},8055:(e,t,a)=>{var r=a(9999);e.exports=function(e){return r(e,5)}},8394:(e,t,a)=>{(()=>{"use strict";var t={3970:(e,t)=>{var a,r;Object.defineProperty(t,"__esModule",{value:!0}),t.fieldsForTasks=t.fieldForCalls=t.staticEntities=t.AVAILABLE_ENTITY_TYPES=t.unreadMessagesValue=t.FieldType=t.defaultProductFieldKeys=t.EntityIds=t.OTHER_DEFAULT_FIELDS=t.headField=t.requisiteField=t.taskField=t.dealsField=t.stageField=t.idColumnField=t.idColumn=t.TWO_WEEK_TIME_VALUE=t.API_PREFIX_SETTINGS=t.API_PREFIX_FILES=void 0,t.API_PREFIX_FILES="/files/v1",t.API_PREFIX_SETTINGS="/settings/v1",t.TWO_WEEK_TIME_VALUE=1123200,t.idColumn={name:"number_",code:"id_column",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"id_column",system_field:!0,sort:"",default_value:""},t.idColumnField=Object.assign({},t.idColumn),t.stageField={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"stage",sort:"",default_value:"",system_field:!1},t.dealsField={name:"deals",code:"deals",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"deals_filter",system_field:!0,sort:"",default_value:""},t.taskField={name:"tasks",code:"tasks",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"tasks_filter",system_field:!0,sort:"",default_value:""},t.requisiteField={name:"requisite",code:"requisites",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"requisite",system_field:!0,base_field:!0,sort:""},t.headField={name:"head",code:"head",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"user_id",system_field:!0,sort:"",default_value:""},t.OTHER_DEFAULT_FIELDS={openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"AND",table_fields:[],sortModel:[]},function(e){e.leads="1",e.deals="2",e.contacts="3",e.companies="4"}(a||(t.EntityIds=a={})),t.defaultProductFieldKeys=["owner","id","title","product_category_id","type","article","prices","measurement_unit_id","comment","currency","tax","link","availability","is_active","description","quantity","reserved_quantity","remainder","preview_image_id","file_ids","files"],function(e){e.STAGE="stage",e.STRING="string",e.TEXTAREA="textarea",e.INTEGER="integer",e.FLOAT="float",e.LIST="list",e.DATETIME="datetime",e.MONEY="money",e.LABEL="label",e.PHONE="phone",e.EMAIL="email",e.SOCIAL="social",e.LINK="link",e.BOOLEAN="boolean",e.USER_ID="user_id",e.PHOTO="photo",e.FILE="file",e.ADDRESS="address",e.LEGAL_DETAILS="legal_details",e.ENTITY_REFERENCE="entity_reference",e.UTM="utm",e.CUSTOM_LINK="customLink",e.DEALS_FILTER="deals_filter",e.TASKS_FILTER="tasks_filter",e.ID_COLUMN="id_column",e.REQUISITE="requisite",e.PRIORITY="priority"}(r||(t.FieldType=r={})),t.unreadMessagesValue="unreadMessages",t.AVAILABLE_ENTITY_TYPES=["tasks","comment","crm","company","contact","deal","lead","post","task","companies","contacts","deals","leads"],t.staticEntities=[{id:10001,title:"Calls",table_name:"calls",type:"calls",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)},{id:10002,title:"Products",table_name:"products",type:"products",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)},{id:10003,title:"Tasks",table_name:"tasks",type:"tasks",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)},{id:10004,title:"Tasks",table_name:"activities",type:"activities",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)}],t.fieldForCalls=[t.idColumn,{name:"callType",code:"call_type",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_type",sort:"",system_field:!1,default_value:"",values:[{color:"",selected:!1,sort:0,title:"outgoing",value:"outgoing"},{color:"",selected:!1,sort:0,title:"incoming",value:"incoming"}]},{name:"callStatus",code:"ended_call_status",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_status",sort:"",system_field:!1,default_value:""},{name:"date",code:"begin_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_date",sort:"",system_field:!1,default_value:""},{name:"clientPhone",code:"client_phone",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_phone",sort:"",system_field:!1,default_value:""},{name:"responsibleId",code:"responsible_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"user_id",sort:"",system_field:!1,default_value:""},{name:"record",code:"record",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_record",sort:"",system_field:!1,default_value:""},{name:"baseCRMEntity",code:"base_entity",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_entity_reference",sort:"",system_field:!1,default_value:""},{name:"duration",code:"duration",required:!1,editable:!1,show:!0,hidden:!0,multiple:!1,type:"call_duration",sort:"",system_field:!1,default_value:""}],t.fieldsForTasks=[{name:"caseType",code:"type",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"list",system_field:!0,sort:"",default_value:"",values:[{color:"",selected:!1,sort:0,title:"task",value:"task"},{color:"",selected:!1,sort:0,title:"call",value:"call"},{color:"",selected:!1,sort:0,title:"meeting",value:"meeting"},{color:"",selected:!1,sort:0,title:"chat",value:"chat"},{color:"",selected:!1,sort:0,title:"message",value:"email"}]},{name:"taskTitle",code:"title",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"string",sort:"",system_field:!1,default_value:""},{name:"eventStartDate",code:"start_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"eventEndDate",code:"end_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"status",code:"status",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"status",sort:"",system_field:!1,default_value:""},{name:"priority",code:"priority",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"priority",sort:"",system_field:!1,default_value:""},{name:"responsibleId",code:"responsible_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"user_id",sort:"",system_field:!1,default_value:""},{name:"leadOrAgreement",code:"leadOrDeal",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"contacts",code:"contacts",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"company",code:"company",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"dateOfCompletion",code:"closed_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"created_at",code:"created_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"dateOfUpdate",code:"updated_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"participants",code:"participants",required:!1,editable:!1,show:!0,hidden:!1,multiple:!0,type:"user_id",system_field:!1,sort:"",default_value:""}]},8305:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateCategoryArray=t.removeCategory=t.insertAndShiftSort=t.addCategoryRecursively=t.sortCategories=void 0;const a=10;t.sortCategories=e=>{const r=e.map((e=>Object.assign({},e))).sort(((e,t)=>("number"==typeof e.sort?e.sort:Number.MAX_SAFE_INTEGER)-("number"==typeof t.sort?t.sort:Number.MAX_SAFE_INTEGER)));let i=a;for(let e=0;e<r.length;e++)"number"!=typeof r[e].sort&&(r[e].sort=i),i=r[e].sort+a;return r.map((e=>{var a;return Object.assign(Object.assign({},e),{child_categories:(null===(a=e.child_categories)||void 0===a?void 0:a.length)?(0,t.sortCategories)(e.child_categories):[]})}))},t.addCategoryRecursively=(e,r)=>{const i=r.parent_id,s=e=>e.some((e=>{var t;return e.id===r.id||!!(null===(t=e.child_categories)||void 0===t?void 0:t.length)&&s(e.child_categories)})),d=s(e)?r:Object.assign(Object.assign({},r),{sort:(n=r.sort,"number"!=typeof n?a:10*Math.ceil(n/10))});var n;if(!i||i<=0)return(0,t.insertAndShiftSort)(e,d);const o=e=>e.map((e=>{var a;return e.id===i?Object.assign(Object.assign({},e),{child_categories:(0,t.insertAndShiftSort)(e.child_categories||[],d)}):Object.assign(Object.assign({},e),{child_categories:(null===(a=e.child_categories)||void 0===a?void 0:a.length)?o(e.child_categories):e.child_categories})})),l=o(e);return JSON.stringify(l)!==JSON.stringify(e)?l:(0,t.insertAndShiftSort)(e,d)},t.insertAndShiftSort=(e,t)=>{var r,i,s;const d=e.filter((e=>e.id!==t.id)),n="number"==typeof t.sort;let o=t.sort;if(n){const d=e.find((e=>e.id===t.id)),n=null!==(r=null==d?void 0:d.sort)&&void 0!==r?r:a,l=(null!==(i=t.sort)&&void 0!==i?i:a)>n?5:-5;o=(null!==(s=t.sort)&&void 0!==s?s:a)+l}else{const e=Math.max(-10,...d.map((e=>{var t;return null!==(t=e.sort)&&void 0!==t?t:-10})));o=e+a}const l=Object.assign(Object.assign({},t),{sort:o}),c=[...d,l].sort(((e,t)=>{var r,i;return(null!==(r=e.sort)&&void 0!==r?r:a)-(null!==(i=t.sort)&&void 0!==i?i:a)}));return c.map(((e,t)=>Object.assign(Object.assign({},e),{sort:t*a})))},t.removeCategory=(e,t,r=!1)=>{const i=e=>e.flatMap((e=>{var a,s;if(e.id===t)return r&&(null===(a=e.child_categories)||void 0===a?void 0:a.length)?e.child_categories:[];const d=(null===(s=e.child_categories)||void 0===s?void 0:s.length)?i(e.child_categories):void 0;return Object.assign(Object.assign({},e),d?{child_categories:d}:{})})).sort(((e,t)=>{var r,i;return(null!==(r=e.sort)&&void 0!==r?r:a)-(null!==(i=t.sort)&&void 0!==i?i:a)})).map(((e,t)=>Object.assign(Object.assign({},e),{sort:10*t})));return i(e)},t.updateCategoryArray=(e,r)=>{var i;const{id:s,parent_id:d,sort:n}=r,o=e=>{var t;for(const a of e){if(a.id===s)return a;if(null===(t=a.child_categories)||void 0===t?void 0:t.length){const e=o(a.child_categories);if(e)return e}}return null},l=o(e);if(!l)return e;const c=null!==(i=l.sort)&&void 0!==i?i:a,u=null!=n?n+(n>c?5:-5):c;if(l.parent_id===d&&c===u){const t=e=>e.map((e=>{var a;return e.id===s?r:(null===(a=e.child_categories)||void 0===a?void 0:a.length)?Object.assign(Object.assign({},e),{child_categories:t(e.child_categories)}):e}));return t(e)}const p=Object.assign(Object.assign({},r),{sort:u}),y=(0,t.removeCategory)(e,s);return(0,t.addCategoryRecursively)(y,p)}},1897:function(e,t,a){var r=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.changeCRMColumn=t.changeColumn=void 0;const s=i(a(9699));t.changeColumn=(e,t,a)=>{const i=Object.values(e).map((e=>Object.assign(Object.assign({},e),{id:+e.id}))).filter((e=>!isNaN(e.id)&&0!==e.id));let d=!1,n=[];if(i.length>0){n=i.map((e=>{const{columnUniqueName:t,items:a}=e;return r(e,["columnUniqueName","items"])}));const e=n.filter((e=>!a.filter((e=>e)).some((t=>+e.id==+t.id)))),o=a.filter((e=>!n.some((t=>+e.id==+t.id))));d=!(0,s.default)(e)||!(0,s.default)(o)||t}return{isUpdateStages:d,newStageArray:n}},t.changeCRMColumn=(e,t,a)=>{const i=Object.values(e).map((e=>Object.assign(Object.assign({},e),{id:+e.id}))).filter((e=>!isNaN(e.id)));let d=!1,n=[];if(i.length>0){n=i.map((e=>{const{columnUniqueName:t,items:i}=e,s=r(e,["columnUniqueName","items"]),d=a.find((t=>t.id===e.id));return d?Object.assign(Object.assign({},s),{reasons:d.reasons,stage_code:d.stage_code,system_stage:d.system_stage}):Object.assign(Object.assign({},s),{reasons:[],system_stage:!1})}));const e=n.filter((e=>!a.some((t=>+e.id==+t.id)))),o=a.filter((e=>!n.some((t=>+e.id==+t.id))));d=!(0,s.default)(e)||!(0,s.default)(o)||t}return{isUpdateStages:d,newStageArray:n}}},3925:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkBasicRequisite=void 0,t.checkBasicRequisite=(e,t)=>e.map((e=>{const a=t.is_basic;return(null==e?void 0:e.id)===t.id?Object.assign(Object.assign({},e),t):Object.assign(Object.assign({},e),{is_basic:!a&&e.is_basic})}))},1949:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addReportToLayout=t.removeReportFromLayout=t.getMinSize=t.findPlacement=void 0;const r=a(5828);t.findPlacement=(e,t,a,r=12)=>{var i;const s=Array.from({length:10},(()=>Array(r).fill(!1)));e.forEach((({x:e,y:t,w:a,h:r})=>{for(let i=0;i<r;i++)for(let r=0;r<a;r++)s[t+i][e+r]=!0}));for(let e=0;e<s.length;e++)for(let d=0;d<=r-t;d++){let r=!0;for(let n=0;n<a;n++){for(let a=0;a<t;a++)if(null===(i=s[e+n])||void 0===i?void 0:i[d+a]){r=!1;break}if(!r)break}if(r)return{x:d,y:e}}return{x:0,y:Math.max(...e.map((({y:e,h:t})=>e+t)),0)}},t.getMinSize=e=>{switch(e){case"numeric":return{minW:3,minH:1};case"donut":case"pie":return{minW:3,minH:2};default:return{minW:4,minH:2}}},t.removeReportFromLayout=(e,t)=>e.filter((e=>e.report_id!==t)),t.addReportToLayout=(e,a)=>{const i=(0,t.getMinSize)(a.chart_type),{x:s,y:d}=(0,t.findPlacement)(e,i.minW,i.minH);return[...e||[],Object.assign({report_id:a.id,x:s,y:d,report:a,i:(0,r.v4)(),w:i.minW,h:i.minH,maxH:5},i)]}},1066:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.disabledPermissions=void 0,t.disabledPermissions={create:["crm.leads.create.department.disabled-any","crm.leads.create.mine.disabled-any","crm.companies.create.department.disabled-any","crm.companies.create.mine.disabled-any","crm.contacts.create.department.disabled-any","crm.contacts.create.mine.disabled-any","crm.deals.create.department.disabled-any","crm.deals.create.mine.disabled-any","crm.activity.create.department.disabled-any","crm.activity.create.mine.disabled-any","crm.uspacy_calls.create.allowed.disabled-any","crm.uspacy_calls.create.mine.disabled-any","crm.uspacy_calls.create.department.disabled-any","hrm.activity.create.department.disabled-any","hrm.activity.create.mine.disabled-any","hrm.employee.create.mine.disabled-any","hrm.employee.create.department.disabled-any","tasks.task.create.department.disabled-any","tasks.task.create.mine.disabled-any"],edit:[],view:[],delete:["crm.uspacy_calls.delete.allowed.disabled-any","crm.uspacy_calls.delete.mine.disabled-any","crm.uspacy_calls.delete.department.disabled-any"]}},9860:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDealsParams=t.getFilterParams=t.getField=t.updateFieldsInPresets=t.getFilterField=t.getDefaultFastFields=void 0;const i=r(a(5599)),s=r(a(8524)),d=r(a(7078)),n=r(a(7026)),o=a(3970);t.getDefaultFastFields=e=>{switch(e){case"lead":return["kanban_status","kanban_stage_id","source","created_at","owner"];case"deal":return["kanban_status","kanban_stage_id","tasks","created_at","owner"];case"company":return["company_label","source","created_at","owner","updated_at"];case"contact":return["contact_label","source","created_at","owner","updated_at"];case"task":case"product":return["kanban_status","kanban_stage_id","source","created_at","owner","contact_label","deals","company_label"];case"calls":return["ended_call_status","call_type","duration","responsible_id","begin_time"];default:return["created_at","updated_at","owner","created_by","changed_by","created_at_custom","updated_at_custom"]}},t.getFilterField=(e,a)=>{var r,i,s,d,n;const o=["lead","deal","contact","product","company","task"];if(!(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.length))return[];const l=[],c=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.find((e=>o.includes(a)?e.code===(0,t.getDefaultFastFields)(a)[0]:e.code.includes((0,t.getDefaultFastFields)(a)[0]))),u=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.find((e=>o.includes(a)?e.code===(0,t.getDefaultFastFields)(a)[1]:e.code.includes((0,t.getDefaultFastFields)(a)[1]))),p=null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.find((e=>e.code===(0,t.getDefaultFastFields)(a)[2])),y=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.find((e=>e.code===(0,t.getDefaultFastFields)(a)[3])),g=null==e?void 0:e.data.find((e=>e.code===(0,t.getDefaultFastFields)(a)[4]));return(null==c?void 0:c.code)&&l.push(c),(null==u?void 0:u.code)&&l.push(u),(null==p?void 0:p.code)&&l.push(p),(null==y?void 0:y.code)&&l.push(y),(null==g?void 0:g.code)&&l.push(g),[...l,...e.data.filter((e=>!(0,t.getDefaultFastFields)(a).includes(e.code)))].map(((e,r)=>({id:r,title:e.name,code:e.code,sort:10*(r+1),checked:(0,t.getDefaultFastFields)(a).includes(e.code),fast:(0,t.getDefaultFastFields)(a).includes(e.code)})))},t.updateFieldsInPresets=(e,t)=>{const a=e.filter((e=>[...null==t?void 0:t.data.map((e=>e.code)),"select","search"].includes(e.code))).map((e=>Object.assign({},e)));return t.data.forEach(((e,t)=>{a.some((t=>t.code===e.code))||a.push({id:t+1,title:e.name,code:e.code,sort:10*(a.length+1),checked:!1,fast:!1})})),a},t.getField=e=>[o.FieldType.DATETIME,o.FieldType.TASKS_FILTER].includes(e.type)?{[`certainDateOrPeriod_${null==e?void 0:e.code}`]:[],[`time_label_${null==e?void 0:e.code}`]:[],[`${null==e?void 0:e.code}`]:[]}:[o.FieldType.INTEGER,o.FieldType.FLOAT].includes(e.type)?"kanban_reason_id"===e.code?{[`${null==e?void 0:e.code}`]:[]}:{[`to_${null==e?void 0:e.code}`]:null,[`from_${null==e?void 0:e.code}`]:null}:e.type===o.FieldType.MONEY?{[`to_${null==e?void 0:e.code}`]:null,[`from_${null==e?void 0:e.code}`]:null,[`currency_${null==e?void 0:e.code}`]:""}:[o.FieldType.TEXTAREA,o.FieldType.UTM,o.FieldType.ADDRESS,o.FieldType.PHONE,o.FieldType.LINK,o.FieldType.SOCIAL,o.FieldType.EMAIL,o.FieldType.STRING,o.FieldType.FLOAT,o.FieldType.INTEGER].includes(e.type)?"kanban_status"===(null==e?void 0:e.code)?{[`${null==e?void 0:e.code}`]:[]}:{[`${null==e?void 0:e.code}`]:""}:{[`${null==e?void 0:e.code}`]:[]},t.getFilterParams=(e,t,a=!1)=>{var r;return null===(r=null==Object?void 0:Object.entries(e))||void 0===r?void 0:r.filter((([e,t])=>!(("time_label_start_time"!==e||!t.includes("expiredtask"))&&((null==e?void 0:e.includes("certainDateOrPeriod_"))||(null==e?void 0:e.includes("time_label_"))||(null==e?void 0:e.includes("openDatePicker"))||(null==e?void 0:e.includes("View"))||(null==e?void 0:e.includes("entityCode"))||a&&["select","page","perPage","table_fields","entityCode","sortModel"].includes(e)||!((null==e?void 0:e.includes("select"))?t>0:(0,i.default)(t)?(null==t?void 0:t.length)>0:(0,n.default)(t)?t:!(0,d.default)(t)||!isNaN(t)))))).reduce(((e,[a,r])=>{const d=null==t?void 0:t.find((e=>(null==e?void 0:e.code)===a));if("search"===a)return Object.assign(Object.assign({},e),{q:r});if("perPage"===a)return Object.assign(Object.assign({},e),{list:r});if("time_label_start_time"===a&&(null==r?void 0:r.includes("expiredtask")))return Object.assign(Object.assign({},e),{expired:Math.floor((new Date).getTime()/1e3)});if("select"===a)return Object.assign(Object.assign({},e),{funnel_id:r});if("deals"===a&&"customLink"!==(null==d?void 0:d.type))return Object.assign(Object.assign({},e),{deals:null==r?void 0:r.filter((e=>"NO_DEALS"!==e))});if("customLink"===(null==d?void 0:d.type)){const t="company"===a?"companies":a;return Object.assign(Object.assign({},e),{[`${t}[title]`]:r})}if(["kanban_status","kanban_reason_id"].includes(a))return Object.assign(Object.assign({},e),{[a]:(0,i.default)(r)?r:[r]});if(["tasks"].includes(a))return Object.assign(Object.assign({},e),{[a]:null==r?void 0:r.filter((e=>0!==e))});if(["owner"].includes(a))return Object.assign(Object.assign({},e),{[a]:0==r?null:null==r?void 0:r.filter((e=>0!==e))});if(["sortModel"].includes(a)){const t=(0,i.default)(r)?r:[r];if(0===t.length)return e;const[a,s]=null==Object?void 0:Object.entries(t[0])[0],d="id_column"===a?"id":a;return Object.assign(Object.assign({},e),{[`sort_by[${d}]`]:s})}if((null==a?void 0:a.startsWith("from_"))||(null==a?void 0:a.startsWith("to_"))||(null==a?void 0:a.startsWith("currency_"))||(null==a?void 0:a.startsWith("by_"))){const t=a.replace(/^(from_|to_|currency_|by_)/,""),i=a.split("_")[0];return(0,s.default)(r)||"by"===i?e:Object.assign(Object.assign({},e),{[`${t}[${i}]`]:r})}return[o.FieldType.SOCIAL].includes(null==d?void 0:d.type)&&((null==r?void 0:r.startsWith("@"))||(null==r?void 0:r.startsWith("+")))?Object.assign(Object.assign({},e),{[a]:r.substring(1)}):[o.FieldType.STAGE,o.FieldType.LIST,o.FieldType.LABEL,o.FieldType.PRIORITY].includes(null==d?void 0:d.type)?Object.assign(Object.assign({},e),{[a]:(0,i.default)(r)?r:[r]}):Object.assign(Object.assign({},e),{[a]:r})}),{})},t.getDealsParams=(e,t)=>{const a=(Array.isArray(null==e?void 0:e.time_label_tasks)?null==e?void 0:e.time_label_tasks:[e.time_label_task]).filter(Boolean),r=void 0!==(null==e?void 0:e.time_label_tasks)&&(null==a?void 0:a.includes("noBusiness"));return Object.assign(Object.assign({},t),r?{tasks:""}:{})}},7736:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unFormatNumber=t.formatNumber=t.getSecondWordLowercase=void 0,t.getSecondWordLowercase=(e,t)=>`${e} ${t.slice(0,1).toLowerCase()+t.slice(1)}`,t.formatNumber=e=>100*parseFloat(e.replace(/,/g,".")),t.unFormatNumber=(e,t="USD")=>"UAH"===t?String((e/100).toFixed(2)).replace(/\./g,","):(e/100).toFixed(2)},7746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateFieldsOrderHelp=t.getFormFieldByCode=void 0,t.getFormFieldByCode=(e,t)=>e.find((e=>e.fieldCode===t)),t.updateFieldsOrderHelp=(e,t)=>e.map((e=>{const a=t.findIndex((t=>t===e.fieldCode));return Object.assign(Object.assign({},e),{order:a})}))},349:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeURIParams=void 0,t.makeURIParams=e=>{let t="";const a=(e,r="")=>{for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];if(void 0!==s){const e=r?`${r}[${i}]`:i;"object"==typeof s?a(s,e):t+=`${e}=${encodeURIComponent(s)}&`}}};return a(e),t.slice(0,-1)}},4636:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateUnreadCountAndMentionedByChatId=t.updateLastMessageInExternalChat=t.updateExternalChat=t.separateExternalChats=t.sortChats=t.readLastMessagesInChat=t.readLastMessageInChat=t.onlyUnique=t.getUniqueItems=t.formatChats=t.formatChat=t.getChatPictureUrl=t.getChatName=void 0;const r=a(6063);t.getChatName=(e,t,a,i)=>{if(!e)return"";if((null==e?void 0:e.type)===r.ChatType.DIRECT){if(1===e.members.length&&e.members.includes(a.authUserId))return i(a);const r=e.members.find((e=>a.authUserId!==e)),s=t.find((({authUserId:e})=>e===r));if(!s)return;return i(s)}return e.name},t.getChatPictureUrl=(e,t,a)=>{if(!e)return"";if(e.type===r.ChatType.DIRECT){if(1===e.members.length&&e.members.includes(a.authUserId))return a.avatar;const r=e.members.find((e=>a.authUserId!==e)),i=t.find((({authUserId:e})=>e===r));return null==i?void 0:i.avatar}return e.pictureUrl},t.formatChat=(e,a,r,i)=>Object.assign(Object.assign({},e),{name:(0,t.getChatName)(e,a,r,i),pictureUrl:(0,t.getChatPictureUrl)(e,a,r),originalTimestamp:e.timestamp}),t.formatChats=(e,a,r,i)=>e.map((e=>(0,t.formatChat)(e,a,r,i))).filter((({name:e})=>Boolean(e))),t.getUniqueItems=e=>e.reduce(((e,t)=>(e.find((({id:e})=>e===t.id))||e.push(t),e)),[]),t.onlyUnique=(e,t,a)=>a.indexOf(e)===t,t.readLastMessageInChat=(e,t,a)=>e.map((e=>{var r;return e.id===t.chatId&&(null===(r=e.lastMessage)||void 0===r?void 0:r.id)===t.id?Object.assign(Object.assign(Object.assign({},e),t.mentioned.includes(a)&&{unreadMentions:e.unreadMentions.filter((e=>e!==t.id))}),{lastMessage:Object.assign(Object.assign({},e.lastMessage),{readBy:[...e.lastMessage.readBy||[],a]})}):e})),t.readLastMessagesInChat=(e,t,a,r)=>e.map((e=>{if(e.id===a){const a=t.find((({id:t})=>{var a;return t===(null===(a=e.lastMessage)||void 0===a?void 0:a.id)}));if(a)return Object.assign(Object.assign(Object.assign({},e),a.readBy.includes(r.authUserId)&&Object.assign(Object.assign({},e.lastMessage.mentioned.includes(r.authUserId)&&{unreadMentions:e.unreadMentions.filter((t=>t!==e.lastMessage.id))}),{unreadCount:Math.max(e.unreadCount-t.length,0)})),{lastMessage:Object.assign(Object.assign({},e.lastMessage),{readBy:a.readBy})});const i=t.filter((e=>e.readBy.includes(r.authUserId))).length;return Object.assign(Object.assign({},e),{unreadCount:Math.max(e.unreadCount-i,0)})}return e})),t.sortChats=(e,t)=>t.pinned&&!e.pinned?1:!t.pinned&&e.pinned?-1:t.pinned&&e.pinned?t.pinnedTimestamp-e.pinnedTimestamp:t.timestamp-e.timestamp,t.separateExternalChats=e=>e.reduce(((e,t)=>{const a=t.active&&t.assigned,i=!t.assigned,s=!t.active;switch(!0){case a:e.active.push(Object.assign(Object.assign({},t),{externalChatStatus:r.EActiveEntity.ACTIVE_EXTERNAL}));break;case s:e.inactive.push(Object.assign(Object.assign({},t),{externalChatStatus:r.EActiveEntity.INACTIVE_EXTERNAL}));break;case i:e.undistributed.push(Object.assign(Object.assign({},t),{externalChatStatus:r.EActiveEntity.UNDISTRIBUTED_EXTERNAL}))}return e}),{active:[],undistributed:[],inactive:[]});const i=(e,t)=>e.map((e=>e.id===t.id?Object.assign(Object.assign({},e),t):e));t.updateExternalChat=(e,t)=>({active:t.externalChatStatus===r.EActiveEntity.ACTIVE_EXTERNAL?i(e.active,t):e.active,undistributed:t.externalChatStatus===r.EActiveEntity.UNDISTRIBUTED_EXTERNAL?i(e.undistributed,t):e.undistributed,inactive:t.externalChatStatus===r.EActiveEntity.INACTIVE_EXTERNAL?i(e.inactive,t):e.inactive});const s=(e,t,a,r)=>e.id===t?Object.assign(Object.assign({},e),{lastMessage:a,timestamp:a.timestamp,unreadCount:r?e.unreadCount+1:e.unreadCount}):e;t.updateLastMessageInExternalChat=(e,t,a,r)=>{const i=a.authorId!==(null==r?void 0:r.authUserId)||a.externalAuthorId;return{active:e.active.map((e=>s(e,t,a,i))).sort(((e,t)=>t.timestamp-e.timestamp)),undistributed:e.undistributed.map((e=>s(e,t,a,i))).sort(((e,t)=>t.timestamp-e.timestamp)),inactive:e.inactive.map((e=>s(e,t,a,i))).sort(((e,t)=>t.timestamp-e.timestamp))}},t.updateUnreadCountAndMentionedByChatId=(e,t,a,r)=>e.map((e=>e.id===t&&e.unreadCount>0?Object.assign(Object.assign(Object.assign({},e),{unreadCount:e.unreadCount-1}),r.mentioned.includes(a)&&{unreadMentions:e.unreadMentions.filter((e=>e!==r.id))}):e))},7109:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDataColumns=t.normalizeMockFieldValue=t.normalizeSettingField=t.normalizeProductFields=t.normalizeProductField=t.normalizeCategories=t.normalizeProducts=t.normalizeGetProducts=t.normalizeProductForView=t.normalizeProduct=void 0;const i=r(a(5599)),s=r(a(9699)),d=r(a(5795)),n=a(3970),o=a(7736),l={productType:[{title:"goods",value:"goods",color:"",sort:0,selected:!0},{title:"service",value:"service",color:"",sort:0,selected:!1}],productAvailability:[{title:"true",value:"true",color:"#93DD5C",sort:0,selected:!0},{title:"false",value:"false",color:"#FF8C90",sort:0,selected:!1},{title:"await",value:"await",color:"#FFCF5C",sort:0,selected:!1}]};t.normalizeProduct=e=>{const t=(null==e?void 0:e.product_category_id)||0===(null==e?void 0:e.product_category_id),a={product_category_id:e.product_category_id||null},r={description:(0,i.default)(null==e?void 0:e.description)&&!(null==e?void 0:e.description[0])?null:null==e?void 0:e.description},l=e.remainder?+e.remainder:void 0,c=(0,d.default)(e.preview_image_id)?void 0:e.preview_image_id,u=Object.entries(e).reduce(((e,[t,a])=>n.defaultProductFieldKeys.includes(t)?e:Object.assign(Object.assign({},e),{[t]:a})),{}),p=Object.keys(u).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:void 0})),{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t&&a),(null==e?void 0:e.description)&&r),{quantity:l,preview_image_id:c,additional:(0,s.default)(u)?void 0:u}),p);if(!(null==e?void 0:e.prices))return y;const g=null===(v=null==e?void 0:e.prices)||void 0===v?void 0:v.filter((e=>null!==e.price)).map((e=>Object.assign(Object.assign({},e),{price:e.price?(0,o.formatNumber)(String(e.price)):(0,o.formatNumber)("0"),is_tax_included:e.is_tax_included?1:0})));var v;return Object.assign(Object.assign({},y),{prices:(null==g?void 0:g.length)?g:void 0})},t.normalizeProductForView=e=>{const t=e.files.find((t=>t.id===e.preview_image_id)),a=Object.assign(Object.assign(Object.assign({},e),e.additional),{remainder:e.quantity,preview_image_id:t?[t]:null});return(null==e?void 0:e.prices)?Object.assign(Object.assign(Object.assign({},e),a),{prices:null===(r=null==e?void 0:e.prices)||void 0===r?void 0:r.map((e=>Object.assign(Object.assign({},e),{price:e.price?(0,o.unFormatNumber)(e.price,e.currency):0})))}):a;var r},t.normalizeGetProducts=e=>{const a=e.data.map((e=>(0,t.normalizeProductForView)(e)));return Object.assign(Object.assign({},e),{data:a})},t.normalizeProducts=e=>e.map(t.normalizeProductForView),t.normalizeCategories=e=>{if(0!==e)return.1===e?null:((0,i.default)(e)?e:[e]).filter((e=>0!==e))},t.normalizeProductField=(e,t)=>{const a=t.find((t=>e.code===t.code)),r="files"===(null==a?void 0:a.code),i="activity"===(null==e?void 0:e.name)&&"is_active"===(null==e?void 0:e.code)?"activityProductFilter":null==e?void 0:e.name;return a?Object.assign(Object.assign({},a),{code:r?"preview_image_id":a.code,name:i}):e},t.normalizeProductFields=(e,a)=>{const r=Object.assign(Object.assign({},a[0]),{name:"preview_image_upload",hidden:!0,code:"file_ids",multiple:!0});return[...e.data.map((e=>(0,t.normalizeProductField)(e,a))),r]},t.normalizeSettingField=e=>"preview_image_id"===e.code?Object.assign(Object.assign({},e),{code:"files"}):e,t.normalizeMockFieldValue=e=>Object.assign(Object.assign({},e),{values:l[e.type]||[]});const c={name:"",code:"",required:!1,editable:!0,show:!0,hidden:!1,multiple:!1,type:"string",system_field:!0,base_field:!0};t.defaultDataColumns=[Object.assign(Object.assign({},c),{name:"product/service",code:"title",type:"productTitle",required:!0}),Object.assign(Object.assign({},c),{name:"category",code:"product_category_id",type:"productCategory"}),Object.assign(Object.assign({},c),{name:"productType",code:"type",type:"productType"}),Object.assign(Object.assign({},c),{name:"article",code:"article",type:"productArticle"}),Object.assign(Object.assign({},c),{name:"price",code:"prices",type:"productPrice",multiple:!0}),Object.assign(Object.assign({},c),{name:"unit",code:"measurement_unit_id",type:"productUnit"}),Object.assign(Object.assign({},c),{name:"availability",code:"availability",type:"productAvailability"}),Object.assign(Object.assign({},c),{name:"remainder",code:"remainder",type:"productRemind"}),Object.assign(Object.assign({},c),{name:"description",code:"description",type:"textarea"}),Object.assign(Object.assign({},c),{name:"tax",code:"tax",type:"productTax"}),Object.assign(Object.assign({},c),{name:"activityProductFilter",code:"is_active",type:"productActivity"}),Object.assign(Object.assign({},c),{name:"productGallery",code:"files",type:"productGallery"}),Object.assign(Object.assign({},c),{name:"productLink",code:"link",type:"productLink"}),Object.assign(Object.assign({},c),{name:"commentProduct",code:"comment",type:"textarea"}),Object.assign(Object.assign({},c),{name:"currency",code:"currency",type:"label"})]},6462:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.transformNotificationMessage=t.getNotificationSubTitle=t.deleteHtmlFromComment=t.getNotificationTitle=t.getLinkEntity=t.getServiceName=void 0;const r=a(414),i=a(3970);t.getServiceName=e=>{const[t]=e.split("-");return t.replace("news_feed","newsfeed")},t.getLinkEntity=e=>{var a,i,s,d,n,o,l,c,u,p,y,g,v,m,f;if(e.data.action===r.NotificationAction.DELETE)return;const h=(0,t.getServiceName)(e.data.service);switch(h){case"crm":return`/crm/${(null===(a=e.data.entity)||void 0===a?void 0:a.table_name)||`${"crm_activity"===e.type?"tasks/task":e.type}`}/${e.data.entity.id}`;case"comments":if(!(null===(i=e.data.entity)||void 0===i?void 0:i.entity_type))return;const t=e.data.root_parent&&Object.keys(e.data.root_parent).length,r=e.data.entity.parent?e.data.entity.parent:e.data.entity,S=t?e.data.root_parent:r,F="tasksView=list&page=1&perPage=20&boolean_operator=XOR",k=["lead","deal","company","contact"].includes(null==S?void 0:S.entity_type)?"/crm":"",b=(e=>{if("post"===e.type)return"newsfeed";switch(e.entity_type){case"company":return"companies";case"post":return"newsfeed";default:return"entity_crm"===e.type?`${e.service}/${e.table_name}`:e.type?`${e.type}s`:`${e.entity_type}s`}})(S);return"tasks"===(null===(s=e.data.root_parent)||void 0===s?void 0:s.service)?`${k}/${b}/${null===(o=null===(n=null===(d=e.data)||void 0===d?void 0:d.root_parent)||void 0===n?void 0:n.data)||void 0===o?void 0:o.id}?${F}&comment_id=${null===(c=null===(l=e.data)||void 0===l?void 0:l.entity)||void 0===c?void 0:c.id}`:"news_feed"===(null===(u=e.data.root_parent)||void 0===u?void 0:u.service)?`${k}/${b}/${null===(g=null===(y=null===(p=e.data)||void 0===p?void 0:p.root_parent)||void 0===y?void 0:y.data)||void 0===g?void 0:g.id}?comment_id=${null===(m=null===(v=e.data)||void 0===v?void 0:v.entity)||void 0===m?void 0:m.id}`:`${k}/${b}/${t?null===(f=S.data)||void 0===f?void 0:f.id:S.entity_id}`;default:return`/${"activities"===h?"crm/tasks":h}/${e.data.entity.id}`}},t.getNotificationTitle=(e,a)=>{var s,d,n,o,l,c,u;const p=(0,t.getServiceName)(e.data.service),y=!!(null===(n=null===(d=null===(s=e.data.entity)||void 0===s?void 0:s.mentioned)||void 0===d?void 0:d.users)||void 0===n?void 0:n.includes(a)),g=(e=>{var t,a,r,s,d,n,o;const l=null===(a=null===(t=e.data)||void 0===t?void 0:t.root_parent)||void 0===a?void 0:a.type,c=null===(d=null===(s=null===(r=e.data)||void 0===r?void 0:r.entity)||void 0===s?void 0:s.parent)||void 0===d?void 0:d.entity_type;return"entity_crm"===l?null===(n=e.data)||void 0===n?void 0:n.entity.entity_type:e.data.root_parent&&Object.keys(e.data.root_parent).length?l:c||(u=null===(o=e.data.entity)||void 0===o?void 0:o.entity_type,i.AVAILABLE_ENTITY_TYPES.includes(u)?u:"crm.activity");var u})(e);return(null===(o=e.data.entity)||void 0===o?void 0:o.new_kanban_stage_id)&&(null===(l=e.data.entity)||void 0===l?void 0:l.old_kanban_stage_id)?`notifications.${p}.${(null===(c=e.data.entity)||void 0===c?void 0:c.table_name)||e.type}.${r.NotificationAction.UPDATE_STAGE}`:y?`notifications.${p}.${g}.${e.type}.mentioned.${e.data.action}`:"comments"===p?`notifications.${p}.${g}.${e.type}.${e.data.action}`:`notifications.${p}.${(null===(u=e.data.entity)||void 0===u?void 0:u.table_name)||e.type}.${e.data.action}`},t.deleteHtmlFromComment=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},t.getNotificationSubTitle=e=>"comments"===(0,t.getServiceName)(e.data.service)?(0,t.deleteHtmlFromComment)(e.data.entity.message):e.data.entity.title,t.transformNotificationMessage=(e,a,r)=>{var i,s,d,n,o,l;const c=a.find((({id:t})=>t===e.data.user_id)),u=new Date(e.data.timestamp).getTime(),p=!!(null===(d=null===(s=null===(i=e.data.entity)||void 0===i?void 0:i.mentioned)||void 0===s?void 0:s.users)||void 0===d?void 0:d.includes(r)),y=null===(l=null===(o=null===(n=e.data)||void 0===n?void 0:n.root_parent)||void 0===o?void 0:o.data)||void 0===l?void 0:l.title;return{id:e.id,title:(0,t.getNotificationTitle)(e,r),subTitle:(0,t.getNotificationSubTitle)(e),date:u,link:(0,t.getLinkEntity)(e),author:c,mentioned:p,commentEntityTitle:y,read:e.read||!1,createdAt:e.createdAt}}},3124:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSeparateCardId=t.normalizeRequisiteCreation=t.normalizeDynamicFields=t.getPluralType=t.getFieldsWithValue=void 0,t.getFieldsWithValue=(e,t)=>Object.entries(t).map((([t,a])=>{const r=e.find((e=>e.code===t));return Object.assign(Object.assign({},r),{value:a})})),t.getPluralType=e=>"company"===e?"companies":`${e}s`,t.normalizeDynamicFields=e=>e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.code]:t.value||""})),{}),t.normalizeRequisiteCreation=e=>t=>{if(t.cardId===e.cardId){const a=t=>{var a;return(null===(a=e.requisite)||void 0===a?void 0:a.is_basic)?t.map((e=>Object.assign(Object.assign({},e),{is_basic:!1}))):t};return Object.assign(Object.assign({},t),{requisites:[...a(t.requisites),e.requisite]})}return t},t.getSeparateCardId=e=>(null==e?void 0:e.split("_"))||[]},2089:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sortStagesWhenCreateNew=void 0,t.sortStagesWhenCreateNew=(e,t)=>{const a=e.data.filter((e=>"FAIL"===e.stage_code||"SUCCESS"===e.stage_code)).map((e=>Object.assign(Object.assign({},e),{sort:+e.sort+10}))),r=e.data.filter((e=>"FAIL"!==e.stage_code&&"SUCCESS"!==e.stage_code));return r.push(t),[...r.sort(((e,t)=>e.sort-t.sort)),...a]}},5398:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fillTheString=void 0,t.fillTheString=(e,t,a)=>"before"===a?t+e:"after"===a?e+t:e},641:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useMemoizedAppSelector=t.useAppSelector=t.useAppDispatch=void 0;const i=r(a(113)),s=a(6689),d=a(6022);t.useAppDispatch=()=>(0,d.useDispatch)(),t.useAppSelector=d.useSelector,t.useMemoizedAppSelector=e=>{const a=(0,s.useRef)(null);return(0,t.useAppSelector)((t=>{const r=e(t);return(0,i.default)(a.current,r)?a.current:(a.current=r,r)}))}},3607:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var i=Object.getOwnPropertyDescriptor(t,a);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,i)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),i=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),i(a(641),t),i(a(8527),t),i(a(1464),t)},3206:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteDashboard=t.updateDashboard=t.createDashboard=t.getDashboard=t.getDashboardsList=t.deleteReport=t.updateReport=t.createReport=t.getReport=t.getAnalyticsReportList=void 0;const i=a(5184),s=a(4809);t.getAnalyticsReportList=(0,i.createAsyncThunk)("analytics/getAnalyticsReportList",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.analyticsService.getAnalyticsReportList(e.params,null==e?void 0:e.signal);return null==t?void 0:t.data}catch(a){return e.signal.aborted?{aborted:!0}:t(a)}})))),t.getReport=(0,i.createAsyncThunk)("analytics/getReport",(({id:e},{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.getAnalyticReport(e)).data}catch(e){return t(e)}})))),t.createReport=(0,i.createAsyncThunk)("analytics/createReport",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.createReport(e)).data}catch(e){return t(e)}})))),t.updateReport=(0,i.createAsyncThunk)("analytics/updateReport",(({id:e,body:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.updateReport(e,t)).data}catch(e){return a(e)}})))),t.deleteReport=(0,i.createAsyncThunk)("analytics/deleteReport",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.analyticsService.deleteReport(e),e}catch(e){return t(e)}})))),t.getDashboardsList=(0,i.createAsyncThunk)("analytics/getDashboards",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.getDashboardsLists()).data}catch(e){return t(e)}})))),t.getDashboard=(0,i.createAsyncThunk)("analytics/getDashboard",(({id:e},{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.getDashboard(e)).data}catch(e){return t(e)}})))),t.createDashboard=(0,i.createAsyncThunk)("analytics/createDashboard",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.createDashboard(e)).data}catch(e){return t(e)}})))),t.updateDashboard=(0,i.createAsyncThunk)("analytics/updateDashboard",(({id:e,body:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.updateDashboard(e,t)).data}catch(e){return a(e)}})))),t.deleteDashboard=(0,i.createAsyncThunk)("analytics/deleteDashboard",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.analyticsService.deleteDashboard(e),e}catch(e){return t(e)}}))))},2472:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.updateDashboardStateById=t.clearAllDashboard=t.clearAllReport=void 0;const i=a(5184),s=a(1949),d=a(3206),n={reports:{data:[],meta:{total:0,page:1}},dashboards:[],dashboard:null,report:null,loadingDashboards:!0,loadingDashboard:!0,loadingReports:!0,loadingReport:!0,errorLoadingReports:null,errorLoadingDashboards:null},o=(0,i.createSlice)({name:"analytics",initialState:n,reducers:{clearAllReport:e=>{e.reports=n.reports},clearAllDashboard:e=>{e.dashboards=n.dashboards},updateDashboardStateById:(e,t)=>{e.dashboards=e.dashboards.map((e=>e.id===t.payload.id?t.payload:e))}},extraReducers:{[d.getAnalyticsReportList.fulfilled.type]:(e,t)=>{e.loadingReports=!1,e.errorLoadingReports=null,e.reports=Object.assign(Object.assign({},e.reports),{data:[...e.reports.data,...t.payload.data],meta:t.payload.meta})},[d.getAnalyticsReportList.pending.type]:e=>{e.loadingReports=!0,e.errorLoadingReports=null},[d.getAnalyticsReportList.rejected.type]:e=>{e.loadingReports=!1,e.errorLoadingReports=null},[d.getReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=t.payload},[d.getReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[d.getReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload},[d.createReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=t.payload,e.reports=Object.assign(Object.assign({},e.reports),{data:[t.payload,...e.reports.data],meta:Object.assign(Object.assign({},e.reports.meta),{total:e.reports.meta.total+1,unfiltered_total:e.reports.meta.unfiltered_total+1})}),e.dashboards=e.dashboards.map((e=>t.payload.dashboards.includes(e.id)?Object.assign(Object.assign({},e),{layout:(0,s.addReportToLayout)(e.layout,t.payload)}):e))},[d.createReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[d.createReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload},[d.updateReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=t.payload,e.reports=Object.assign(Object.assign({},e.reports),{data:e.reports.data.map((e=>e.id===t.payload.id?t.payload:e))}),e.dashboards=e.dashboards.map((e=>{const a=e.layout.some((e=>e.report_id===t.payload.id)),r=t.payload.dashboards.includes(e.id);return a&&!r?Object.assign(Object.assign({},e),{layout:(0,s.removeReportFromLayout)(e.layout,t.payload.id)}):!a&&r?Object.assign(Object.assign({},e),{layout:(0,s.addReportToLayout)(e.layout,t.payload)}):a&&r?Object.assign(Object.assign({},e),{layout:e.layout.map((e=>e.report_id===t.payload.id?Object.assign(Object.assign({},e),{report:t.payload}):e))}):e}))},[d.updateReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[d.updateReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload},[d.deleteReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=n.report,e.reports=Object.assign(Object.assign({},e.reports),{data:e.reports.data.filter((e=>e.id!==t.payload)),meta:Object.assign(Object.assign({},e.reports.meta),{total:e.reports.meta.total-1,unfiltered_total:e.reports.meta.unfiltered_total-1})}),e.dashboards=e.dashboards.map((e=>e.layout.some((e=>e.report_id===t.payload))?Object.assign(Object.assign({},e),{layout:(0,s.removeReportFromLayout)(e.layout,t.payload)}):e))},[d.deleteReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[d.deleteReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload},[d.getDashboardsList.fulfilled.type]:(e,t)=>{e.loadingDashboards=!1,e.errorLoadingDashboards=null,e.dashboards=t.payload||[]},[d.getDashboardsList.pending.type]:e=>{e.loadingDashboards=!0,e.errorLoadingDashboards=null},[d.getDashboardsList.rejected.type]:(e,t)=>{e.loadingDashboards=!1,e.errorLoadingDashboards=t.payload},[d.getDashboard.fulfilled.type]:(e,t)=>{e.loadingDashboard=!1,e.report=t.payload},[d.getDashboard.pending.type]:e=>{e.loadingDashboard=!0},[d.getDashboard.rejected.type]:e=>{e.loadingDashboard=!1},[d.createDashboard.fulfilled.type]:(e,t)=>{const a=Object.assign(Object.assign({},t.meta.arg),{id:t.payload.id});e.dashboard=t.payload,e.dashboards=[a,...e.dashboards]},[d.createDashboard.pending.type]:e=>{e.loadingDashboard=!0},[d.createDashboard.rejected.type]:e=>{e.loadingDashboard=!1},[d.updateDashboard.pending.type]:(e,t)=>{const a=t.meta.arg.body;e.dashboard=a,e.dashboards=e.dashboards.map((e=>e.id===a.id?a:e))},[d.deleteDashboard.pending.type]:(e,t)=>{e.dashboard=n.dashboard,e.dashboards=e.dashboards.filter((e=>e.id!==t.meta.arg))}}});r=o.actions,t.clearAllReport=r.clearAllReport,t.clearAllDashboard=r.clearAllDashboard,t.updateDashboardStateById=r.updateDashboardStateById,t.default=o.reducer},9727:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAnnouncers=void 0;const i=a(5184),s=a(4809);t.fetchAnnouncers=(0,i.createAsyncThunk)("announcers/fetchAnnouncers",(({populateParams:e,locale:t,apiPoint:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.announcersService.getAnnouncers(e,t,a)).data}catch(e){return i.rejectWithValue("Failure")}}))))},8580:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setBannerExists=t.announcersSlice=void 0;const r=a(5184),i=a(9727);t.announcersSlice=(0,r.createSlice)({name:"announcersReducer",initialState:{loadingAnnouncers:!1,errorLoading:!1,isBannerExists:!1,notifications:[],widgets:[],banner:null,popup:[],meta:{pagination:{page:0,pageSize:0,pageCount:0,total:0}}},reducers:{setBannerExists:(e,t)=>{e.isBannerExists=t.payload}},extraReducers:{[i.fetchAnnouncers.fulfilled.type]:(e,t)=>{e.loadingAnnouncers=!1,e.errorLoading=null,e.banner=t.payload.data.banner,e.notifications=t.payload.data.notifications,e.widgets=t.payload.data.widgets,e.popup=t.payload.data.popup,e.meta=t.payload.meta},[i.fetchAnnouncers.pending.type]:e=>{e.loadingAnnouncers=!0,e.errorLoading=null},[i.fetchAnnouncers.rejected.type]:e=>{e.loadingAnnouncers=!1,e.errorLoading=!0}}}),t.setBannerExists=t.announcersSlice.actions.setBannerExists,t.default=t.announcersSlice.reducer},4628:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAppById=t.fetchApps=void 0;const i=a(5184),s=a(4809);t.fetchApps=(0,i.createAsyncThunk)("apps/fetchApps",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.appsService.getApps(e.page,(null==e?void 0:e.lng)||"uk",12)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchAppById=(0,i.createAsyncThunk)("apps/fetchAppById",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.appsService.getApp(e.id,(null==e?void 0:e.lng)||"uk")).data}catch(e){return t.rejectWithValue(e)}}))))},3980:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearApp=t.fillApp=t.handlerInstallAppForList=t.handlerInstallApp=t.clearApps=void 0;const i=a(5184),s=a(4628),d={data:[],meta:{},allApps:[],app:{},error:null,loading:!0},n=(0,i.createSlice)({name:"apps",initialState:d,reducers:{clearApps:e=>{e.allApps=d.allApps},clearApp:e=>{e.app=d.app,e.error=d.error},fillApp:(e,t)=>{e.app=t.payload,e.loading=!1},handlerInstallAppForList:(e,t)=>{e.allApps=e.allApps.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{installed:t.payload.status}):e))},handlerInstallApp:(e,t)=>{e.app=e.app.id===t.payload.id?Object.assign(Object.assign({},e.app),{installed:t.payload.status}):e.app}},extraReducers:{[s.fetchApps.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.data=t.payload.data,e.meta=t.payload.meta,e.allApps=e.allApps.concat(t.payload.data)},[s.fetchApps.pending.type]:e=>{e.loading=!0,e.error=null},[s.fetchApps.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload},[s.fetchAppById.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.app=t.payload},[s.fetchAppById.pending.type]:e=>{e.loading=!0,e.error=null},[s.fetchAppById.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload}}});r=n.actions,t.clearApps=r.clearApps,t.handlerInstallApp=r.handlerInstallApp,t.handlerInstallAppForList=r.handlerInstallAppForList,t.fillApp=r.fillApp,t.clearApp=r.clearApp,t.default=n.reducer},1193:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getDiscountCoupon=t.downgradeTariff=t.disableSubscriptionRenewal=t.activatingDemo=t.redirectToStripe=t.createSubscriptionLegal=t.createSubscriptionInvdividual=t.getPortalSubscription=t.getTariffsList=t.getUrlToRedirectAfterOAuth=void 0;const i=a(5184),s=a(4809);t.getUrlToRedirectAfterOAuth=(0,i.createAsyncThunk)("auth/getUrlToRedirectAfterOAuth",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getUrlToRedirectAfterOAuth(e)).data}catch(e){return t(e)}})))),t.getTariffsList=(0,i.createAsyncThunk)("auth/getTariffsList",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getTariffsList()).data}catch(e){return t(e)}})))),t.getPortalSubscription=(0,i.createAsyncThunk)("auth/getPortalSubscription",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getPortalSubscription()).data}catch(e){return t(e)}})))),t.createSubscriptionInvdividual=(0,i.createAsyncThunk)("auth/createSubscriptionInvdividual",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.createSubscriptionInvdividual(e)).data}catch(e){return t(e)}})))),t.createSubscriptionLegal=(0,i.createAsyncThunk)("auth/createSubscriptionLegal",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.createSubscriptionLegal(e)).data}catch(e){return t(e)}})))),t.redirectToStripe=(0,i.createAsyncThunk)("auth/redirectToStripe",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.redirectToStripe(e)).data}catch(e){return t(e)}})))),t.activatingDemo=(0,i.createAsyncThunk)("auth/activatingDemo",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.activatingDemo()).data}catch(e){return t(e)}})))),t.disableSubscriptionRenewal=(0,i.createAsyncThunk)("auth/disableSubscriptionRenewal",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.disableSubscriptionRenewal()).data}catch(e){return t(e)}})))),t.downgradeTariff=(0,i.createAsyncThunk)("auth/downgradeTariff",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.downgradeTariff(e)).data}catch(e){return t(e)}})))),t.getDiscountCoupon=(0,i.createAsyncThunk)("auth/getDiscountCoupon",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getDiscountCoupon(e)).data}catch(e){return t(e)}}))))},5891:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setRedirectToStripeUrl=t.setPortalSubscription=t.setAutoRenewal=t.clearDiscountCoupon=t.clearBill=t.setAfterGoogleOAuthData=void 0;const i=a(5184),s=a(3970),d=a(1193),n={afterGoogleOAuthData:{},tariffs:[],portalSubsctription:null,bill:null,discountCoupon:null,redirectToStripeUrl:"",loadingAfterGoogleOAuth:!1,loadingTariffs:!1,loadingPortalSubsctription:!1,loadingCreatingSubscription:!1,loadingActivatingDemo:!1,loadingDisablingRenewal:!1,loadingDowngradeTariff:!1,loadingDiscountCoupon:!1,loadingRedirectToStripeUrl:!1,errorLoadingAfterGoogleOAuth:null,errorLoadingTariffs:null,errorLoadingPortalSubsctription:null,errorLoadingCreatingSubscription:null,errorLoadingActivatingDemo:null,errorLoadingDisablingRenewal:null,errorLoadingDowngradeTariff:null,errorLoadingDiscountCoupon:null,errorLoadingRedirectToStripeUrl:null},o=(0,i.createSlice)({name:"authReducer",initialState:n,reducers:{setAfterGoogleOAuthData:(e,t)=>{e.afterGoogleOAuthData=t.payload},clearBill:e=>{e.bill=n.bill},clearDiscountCoupon:e=>{e.discountCoupon=n.discountCoupon},setPortalSubscription:(e,t)=>{e.portalSubsctription=t.payload},setAutoRenewal:(e,t)=>{e.portalSubsctription.auto_renewal=t.payload},setRedirectToStripeUrl:(e,t)=>{e.redirectToStripeUrl=t.payload.url}},extraReducers:{[d.getUrlToRedirectAfterOAuth.fulfilled.type]:(e,t)=>{e.loadingAfterGoogleOAuth=!1,e.errorLoadingAfterGoogleOAuth=null,e.afterGoogleOAuthData=t.payload},[d.getUrlToRedirectAfterOAuth.pending.type]:e=>{e.loadingAfterGoogleOAuth=!0,e.errorLoadingAfterGoogleOAuth=null},[d.getUrlToRedirectAfterOAuth.rejected.type]:(e,t)=>{e.loadingAfterGoogleOAuth=!1,e.errorLoadingAfterGoogleOAuth=t.payload},[d.getTariffsList.fulfilled.type]:(e,t)=>{e.loadingTariffs=!1,e.errorLoadingTariffs=null,e.tariffs=t.payload},[d.getTariffsList.pending.type]:e=>{e.loadingTariffs=!0,e.errorLoadingTariffs=null},[d.getTariffsList.rejected.type]:(e,t)=>{e.loadingTariffs=!1,e.errorLoadingTariffs=t.payload},[d.getPortalSubscription.fulfilled.type]:(e,t)=>{e.loadingPortalSubsctription=!1,e.errorLoadingPortalSubsctription=null,e.portalSubsctription=t.payload},[d.getPortalSubscription.pending.type]:e=>{e.loadingPortalSubsctription=!0,e.errorLoadingPortalSubsctription=null},[d.getPortalSubscription.rejected.type]:(e,t)=>{e.loadingPortalSubsctription=!1,e.errorLoadingPortalSubsctription=t.payload},[d.createSubscriptionInvdividual.fulfilled.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=null,e.bill=t.payload},[d.createSubscriptionInvdividual.pending.type]:e=>{e.loadingCreatingSubscription=!0,e.errorLoadingCreatingSubscription=null},[d.createSubscriptionInvdividual.rejected.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=t.payload},[d.createSubscriptionLegal.fulfilled.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=null,e.bill=t.payload},[d.createSubscriptionLegal.pending.type]:e=>{e.loadingCreatingSubscription=!0,e.errorLoadingCreatingSubscription=null},[d.createSubscriptionLegal.rejected.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=t.payload},[d.redirectToStripe.fulfilled.type]:(e,t)=>{e.loadingRedirectToStripeUrl=!1,e.errorLoadingRedirectToStripeUrl=null,e.redirectToStripeUrl=t.payload.url},[d.redirectToStripe.pending.type]:e=>{e.loadingRedirectToStripeUrl=!0,e.errorLoadingRedirectToStripeUrl=null},[d.redirectToStripe.rejected.type]:(e,t)=>{e.loadingRedirectToStripeUrl=!1,e.errorLoadingRedirectToStripeUrl=t.payload},[d.activatingDemo.fulfilled.type]:e=>{e.loadingActivatingDemo=!1,e.errorLoadingActivatingDemo=null,e.portalSubsctription=Object.assign(Object.assign({},e.portalSubsctription),{plan_title:"demo",plan:"demo",plan_end:e.portalSubsctription.plan_end+s.TWO_WEEK_TIME_VALUE,demo_activation:!0})},[d.activatingDemo.pending.type]:e=>{e.loadingActivatingDemo=!0,e.errorLoadingActivatingDemo=null},[d.activatingDemo.rejected.type]:(e,t)=>{e.loadingActivatingDemo=!1,e.errorLoadingActivatingDemo=t.payload},[d.disableSubscriptionRenewal.fulfilled.type]:e=>{e.loadingDisablingRenewal=!1,e.errorLoadingDisablingRenewal=null},[d.disableSubscriptionRenewal.pending.type]:e=>{e.loadingDisablingRenewal=!0,e.errorLoadingDisablingRenewal=null},[d.disableSubscriptionRenewal.rejected.type]:(e,t)=>{e.loadingDisablingRenewal=!1,e.errorLoadingDisablingRenewal=t.payload},[d.downgradeTariff.fulfilled.type]:(e,t)=>{e.loadingDowngradeTariff=!1,e.errorLoadingDowngradeTariff=null,e.portalSubsctription=t.payload},[d.downgradeTariff.pending.type]:e=>{e.loadingDowngradeTariff=!0,e.errorLoadingDowngradeTariff=null},[d.downgradeTariff.rejected.type]:(e,t)=>{e.loadingDowngradeTariff=!1,e.errorLoadingDowngradeTariff=t.payload},[d.getDiscountCoupon.fulfilled.type]:(e,t)=>{e.loadingDiscountCoupon=!1,e.errorLoadingDiscountCoupon=null,e.discountCoupon=t.payload},[d.getDiscountCoupon.pending.type]:e=>{e.loadingDiscountCoupon=!0,e.errorLoadingDiscountCoupon=null},[d.getDiscountCoupon.rejected.type]:(e,t)=>{e.loadingDiscountCoupon=!1,e.errorLoadingDiscountCoupon=t.payload}}});r=o.actions,t.setAfterGoogleOAuthData=r.setAfterGoogleOAuthData,t.clearBill=r.clearBill,t.clearDiscountCoupon=r.clearDiscountCoupon,t.setAutoRenewal=r.setAutoRenewal,t.setPortalSubscription=r.setPortalSubscription,t.setRedirectToStripeUrl=r.setRedirectToStripeUrl,t.default=o.reducer},277:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleAutomation=t.deleteAutomation=t.fetchAutomations=void 0;const i=a(5184),s=a(4809);t.fetchAutomations=(0,i.createAsyncThunk)("automations/fetchAutomations",(({page:e,list:t,search:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.automationsService.getAutomations(e,t,a)).data}catch(e){return i.rejectWithValue("Failure")}})))),t.deleteAutomation=(0,i.createAsyncThunk)("automations/deleteAutomations",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.automationsService.deleteAutomation(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.toggleAutomation=(0,i.createAsyncThunk)("automations/toggleAutomation",(({id:e,body:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.automationsService.toggleAutomation(e,t),e}catch(e){return a.rejectWithValue("Failure")}}))))},5428:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.addAutomationToStartTable=t.toggleActiveAutomation=t.addAutomationToEndTable=void 0;const i=a(5184),s=a(277),d=(0,i.createSlice)({name:"automationsReducer",initialState:{automations:{data:[],meta:{}},automation:{},loadingAutomations:!1,errorLoadingAutomations:null},reducers:{addAutomationToEndTable:(e,t)=>{e.automations.data.push(t.payload)},toggleActiveAutomation:(e,t)=>{e.automations.data=e.automations.data.map((e=>e.portal_id===t.payload?Object.assign(Object.assign({},e),{active:!e.active}):e))},addAutomationToStartTable:(e,t)=>{e.automations.data=[t.payload,...e.automations.data],e.automations.meta.total=e.automations.meta.total+1}},extraReducers:{[s.fetchAutomations.fulfilled.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=null,e.automations.data=t.payload.data||[],e.automations.meta=t.payload.meta},[s.fetchAutomations.pending.type]:e=>{e.loadingAutomations=!0,e.errorLoadingAutomations=null},[s.fetchAutomations.rejected.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=t.payload},[s.deleteAutomation.fulfilled.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=null,e.automations.data=e.automations.data.filter((e=>e.portal_id!==t.payload)),e.automations.meta.total=e.automations.meta.total-1},[s.deleteAutomation.pending.type]:e=>{e.loadingAutomations=!0,e.errorLoadingAutomations=null},[s.deleteAutomation.rejected.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=t.payload},[s.toggleAutomation.fulfilled.type]:e=>{e.loadingAutomations=!1,e.errorLoadingAutomations=null},[s.toggleAutomation.pending.type]:e=>{e.loadingAutomations=!0,e.errorLoadingAutomations=null},[s.toggleAutomation.rejected.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=t.payload}}});r=d.actions,t.addAutomationToEndTable=r.addAutomationToEndTable,t.toggleActiveAutomation=r.toggleActiveAutomation,t.addAutomationToStartTable=r.addAutomationToStartTable,t.default=d.reducer},6326:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=void 0;const r=(0,a(5184).createSlice)({name:"crm/cardBlocks",initialState:{},reducers:{setCardBlocks:(e,t)=>{const{entityCode:a}=t.payload;e[a]||(e[a]={data:[]}),e[a].data=t.payload.data}},extraReducers:{}});t.setCardBlocks=r.actions.setCardBlocks,t.default=r.reducer},6163:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCategory=t.updateCategory=t.createCategory=t.fetchCategories=void 0;const i=a(5184),s=a(4809);t.fetchCategories=(0,i.createAsyncThunk)("crm/categories/fetchCategories",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===e?void 0:e.getProductCategories();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createCategory=(0,i.createAsyncThunk)("crm/categories/createCategory",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.createProductCategory(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCategory=(0,i.createAsyncThunk)("crm/categories/updateCategory",(({category:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.updateProductCategory(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteCategory=(0,i.createAsyncThunk)("crm/categories/deleteCategory",(({id:e,parentId:t,removeWithChildren:a},i)=>r(void 0,void 0,void 0,(function*(){var r;try{return yield null===(r=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===r?void 0:r.deleteProductCategory(e,t,a),e}catch(e){return i.rejectWithValue(e)}}))))},7350:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(8305),s=a(6163),d={data:[],loading:!1},n=(0,r.createSlice)({name:"categoriesReducer",initialState:{},reducers:{},extraReducers:{[s.fetchCategories.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=(0,i.sortCategories)(t.payload.data||[])},[s.fetchCategories.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=Object.assign({},d)),e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode].errorMessage=""},[s.fetchCategories.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[s.createCategory.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=(0,i.addCategoryRecursively)(e[t.meta.arg.entityCode].data,t.payload)},[s.createCategory.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=d),e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].loading=!0},[s.createCategory.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage=t.payload,e[t.meta.arg.entityCode].loading=!1},[s.updateCategory.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=(0,i.updateCategoryArray)(e[t.meta.arg.entityCode].data,t.meta.arg.category)},[s.deleteCategory.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=(0,i.removeCategory)(e[t.meta.arg.entityCode].data,t.meta.arg.id,!t.meta.arg.removeWithChildren)}}});n.actions,t.default=n.reducer},4627:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateDependenciesLists=t.deleteDependenciesList=t.createDependenciesList=t.fetchDependenciesLists=void 0;const i=a(5184),s=a(4809);t.fetchDependenciesLists=(0,i.createAsyncThunk)("crm/dependencies/fetchDependenciesLists",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.crmEntitiesService.getDependenciesLists(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDependenciesList=(0,i.createAsyncThunk)("crm/dependencies/createDependenciesList",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.createOrUpdateDependencies(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteDependenciesList=(0,i.createAsyncThunk)("crm/dependencies/deleteDependenciesList",(({id:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.deleteDependenciesLists(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.updateDependenciesLists=(0,i.createAsyncThunk)("crm/dependencies/updateDependenciesLists",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.createOrUpdateDependencies(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue(e)}}))))},9957:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearEntityDependenciesLists=void 0;const r=a(5184),i=a(4627),s=(0,r.createSlice)({name:"crm/dependencies",initialState:{},reducers:{clearEntityDependenciesLists:(e,t)=>{e[t.payload]=void 0}},extraReducers:{[i.fetchDependenciesLists.fulfilled.type]:(e,t)=>{const a=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage="",e[a].data=t.payload)},[i.fetchDependenciesLists.pending.type]:(e,t)=>{var a;const r=t.meta.arg;null!==(a=e[r])&&void 0!==a||(e[r]={loading:!0,data:[],errorMessage:""}),e[r].loading=!0,e[r].errorMessage=""},[i.fetchDependenciesLists.rejected.type]:(e,t)=>{const a=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=t.payload)},[i.createDependenciesList.fulfilled.type]:(e,t)=>{var a;e[t.meta.arg.entityCode].loadingItem=!1,e[t.meta.arg.entityCode].errorMessage="";const r=t.meta.arg.entityCode;e[r].data=[...(null===(a=e[r])||void 0===a?void 0:a.data)||[],t.payload]},[i.createDependenciesList.pending.type]:(e,t)=>{var a;const r=t.meta.arg.entityCode;null!==(a=e[r])&&void 0!==a||(e[r]={loading:!1,data:[],errorMessage:"",loadingItem:!0}),e[t.meta.arg.entityCode].loadingItem=!0,e[t.meta.arg.entityCode].errorMessage=""},[i.createDependenciesList.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loadingItem=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[i.updateDependenciesLists.pending.type]:(e,t)=>{var a,r,i,s;const d=null===(a=t.meta.arg)||void 0===a?void 0:a.entityCode,n=null===(r=t.meta.arg)||void 0===r?void 0:r.data;e[d].data=null===(s=null===(i=e[d])||void 0===i?void 0:i.data)||void 0===s?void 0:s.map((e=>(null==e?void 0:e.id)===(null==n?void 0:n.id)?Object.assign(Object.assign({},e),n):e))},[i.deleteDependenciesList.pending.type]:(e,t)=>{var a;const r=null===(a=t.meta.arg)||void 0===a?void 0:a.id;e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==r))}}});t.clearEntityDependenciesLists=s.actions.clearEntityDependenciesLists,t.default=s.reducer},4413:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateEntity=t.deleteEntity=t.createEntity=t.fetchEntitiesWithFunnels=t.fetchEntities=void 0;const i=a(5184),s=a(4809);t.fetchEntities=(0,i.createAsyncThunk)("crm/entities/fetchEntities",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield s.uspacySdk.crmEntitiesService.getEntities();return null==e?void 0:e.data}catch(e){return t.rejectWithValue(e)}})))),t.fetchEntitiesWithFunnels=(0,i.createAsyncThunk)("crm/entities/fetchEntitiesWithFunnels",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield s.uspacySdk.crmEntitiesService.getEntitiesWithFunnels();return null==e?void 0:e.data}catch(e){return t.rejectWithValue(e)}})))),t.createEntity=(0,i.createAsyncThunk)("crm/entities/createEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.crmEntitiesService.createEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteEntity=(0,i.createAsyncThunk)("crm/entities/deleteEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.crmEntitiesService.deleteEntity(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.updateEntity=(0,i.createAsyncThunk)("crm/entities/updateEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.crmEntitiesService.updateEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}}))))},1721:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(3970),s=a(4413),d=(0,r.createSlice)({name:"crm/entities",initialState:{loading:!0},reducers:{},extraReducers:{[s.fetchEntities.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,t.payload.data=[...t.payload.data,...i.staticEntities],e.items=t.payload},[s.fetchEntities.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[s.fetchEntities.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.fetchEntitiesWithFunnels.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,t.payload.data=[...t.payload.data,...i.staticEntities],e.itemsWithFunnels=t.payload},[s.fetchEntitiesWithFunnels.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[s.fetchEntitiesWithFunnels.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.updateEntity.fulfilled.type]:(e,t)=>{e.items.data=e.items.data.map((e=>e.id===t.meta.arg.id?Object.assign(Object.assign({},e),t.payload):e))},[s.deleteEntity.fulfilled.type]:(e,t)=>{e.items.data=e.items.data.filter((e=>e.id!==t.meta.arg))},[s.createEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[s.createEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.createEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.items.data=[...e.items.data,t.payload],e.errorMessage=null}}});d.actions,t.default=d.reducer},2563:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteListValue=t.updateListValues=t.updateField=t.deleteField=t.createField=t.fetchFields=void 0;const i=a(5184),s=a(4809);t.fetchFields=(0,i.createAsyncThunk)("crm/fields/fetchFields",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.crmEntitiesService.getEntityFields(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createField=(0,i.createAsyncThunk)("crm/fields/createField",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.createEntityField(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteField=(0,i.createAsyncThunk)("crm/fields/deleteField",(({fieldCode:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.crmEntitiesService.deleteEntityField(t,e)}catch(e){return a.rejectWithValue("Failure")}})))),t.updateField=(0,i.createAsyncThunk)("crm/fields/updateField",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.updateEntityField(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue(e)}})))),t.updateListValues=(0,i.createAsyncThunk)("crm/fields/updateListValues",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.updateEntityListValues(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteListValue=(0,i.createAsyncThunk)("crm/fields/deleteListValue",(({fieldCode:e,value:t,entityCode:a},i)=>r(void 0,void 0,void 0,(function*(){try{const r=yield s.uspacySdk.crmEntitiesService.deleteEntityListValues(a,e,t);return null==r?void 0:r.data}catch(e){return i.rejectWithValue("Failure")}}))))},2238:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.clearEntityFields=void 0;const i=a(5184),s=r(a(9591)),d=a(3970),n=a(7109),o=a(2563),l=(0,i.createSlice)({name:"crm/fields",initialState:{},reducers:{clearEntityFields:(e,t)=>{e[t.payload]=void 0}},extraReducers:{[o.fetchFields.fulfilled.type]:(e,t)=>{const a=t.meta.arg;e[a].loading=!1;let r=t.payload.data;if(r.splice(0,0,d.idColumnField),"deals"===a&&r.splice(0,0,d.taskField),"calls"===a)r.splice(0,0,...d.fieldForCalls);else if(!["contacts","companies"].includes(a)){const e=r.findIndex((e=>"title"===e.code));r.splice(e?e+1:2,0,d.stageField)}"products"===a&&(r=(0,n.normalizeProductFields)(t.payload,n.defaultDataColumns)),["companies","contacts"].includes(a)&&r.splice(3,0,d.requisiteField),"tasks"===a&&r.splice(0,0,...d.fieldsForTasks),e[a].data=(0,s.default)(r).map((e=>{var t;return Object.assign(Object.assign({},e),{values:Array.isArray(e.values)?null===(t=e.values)||void 0===t?void 0:t.sort(((e,t)=>e.sort-t.sort)):e.values})})),e[a].meta=t.payload.meta},[o.fetchFields.pending.type]:(e,t)=>{var a;const r=t.meta.arg;null!==(a=e[r])&&void 0!==a||(e[r]={loading:!0,data:[]}),e[r].loading=!0,e[r].errorMessage=null},[o.fetchFields.rejected.type]:(e,t)=>{e[t.meta.arg].loading=!1,e[t.meta.arg].errorMessage=t.payload},[o.createField.pending.type]:(e,t)=>{var a;const r=t.meta.arg.entityCode;null!==(a=e[r])&&void 0!==a||(e[r]={loading:!0,data:[]}),e[r].data.push(t.meta.arg.data)},[o.updateField.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.code===t.meta.arg.data.code?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[o.deleteField.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.code!==t.meta.arg.fieldCode))},[o.updateListValues.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.code===t.meta.arg.data.code?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[o.deleteListValue.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.code===t.meta.arg.fieldCode?Object.assign(Object.assign({},e),{values:e.values.filter((({value:e})=>e!==t.meta.arg.value))}):e))}}});t.clearEntityFields=l.actions.clearEntityFields,t.default=l.reducer},2159:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentFilterFields=t.setCurrentFilterPreset=t.unpinFilterPreset=t.pinFilterPreset=t.updateCurrentFilters=t.updateCurrentPresetFilters=t.updateFilterPreset=t.deleteFilterPreset=t.createFilterPreset=t.setFilterPresets=t.sortPresets=void 0;const i=a(5184);t.sortPresets=e=>e.sort(((e,t)=>e.pinned?-1:t.pinned?1:0));const s=(0,i.createSlice)({name:"crm/filters",initialState:{},reducers:{setFilterPresets:(e,a)=>{e[a.payload.entityCode]||(e[a.payload.entityCode]={presets:[]});const r=(0,t.sortPresets)(a.payload.data),i=r.find((e=>e.current));e[a.payload.entityCode]={presets:r,filters:Object.assign(Object.assign({},null==i?void 0:i.filters),a.payload.filtersFromSearchParams),filterFields:a.payload.filterFields}},createFilterPreset:(e,a)=>{const r=(0,t.sortPresets)([...e[a.payload.entityCode].presets.map((e=>Object.assign(Object.assign({},e),{current:!1,pinned:!1}))),a.payload.data]),i=r.find((e=>e.current));e[a.payload.entityCode]={presets:r,filters:null==i?void 0:i.filters,filterFields:null==i?void 0:i.filterFields}},deleteFilterPreset:(e,t)=>{var a;let r=null===(a=e[t.payload.entityCode])||void 0===a?void 0:a.presets.filter((e=>e.id!==t.payload.presetId||e.default)),i=!1;if((null==r?void 0:r.find((e=>e.pinned)))||(r=r.map((e=>e.default?(i=!0,Object.assign(Object.assign({},e),{pinned:!0,current:!0})):e))),e[t.payload.entityCode].presets=r,i){const a=r.find((e=>e.current));e[t.payload.entityCode].filters=null==a?void 0:a.filters}},updateFilterPreset:(e,t)=>{var a;e[t.payload.entityCode].presets=null===(a=e[t.payload.entityCode].presets)||void 0===a?void 0:a.map((e=>e.id===t.payload.data.id?Object.assign(Object.assign({},e),t.payload.data):e))},pinFilterPreset:(e,a)=>{var r;let i=!1;const s=null===(r=e[a.payload.entityCode].presets)||void 0===r?void 0:r.map((e=>e.id!==a.payload.presetId||e.pinned?Object.assign(Object.assign({},e),{pinned:!1}):(i=!0,Object.assign(Object.assign({},e),{pinned:!0,current:!0}))));if(e[a.payload.entityCode].presets=(0,t.sortPresets)(s),i){const t=s.find((e=>e.current));e[a.payload.entityCode].filters=null==t?void 0:t.filters}},unpinFilterPreset:(e,a)=>{var r;const i=null===(r=e[a.payload.entityCode].presets)||void 0===r?void 0:r.map((e=>e.id===a.payload.presetId&&e.pinned?Object.assign(Object.assign({},e),{pinned:!1}):e.default&&!e.pinned?Object.assign(Object.assign({},e),{pinned:!0,current:!0}):e));e[a.payload.entityCode].presets=(0,t.sortPresets)(i);const s=i.find((e=>e.current));e[a.payload.entityCode].filters=null==s?void 0:s.filters},setCurrentFilterPreset:(e,t)=>{var a;let r=!1;const i=null===(a=e[t.payload.entityCode].presets)||void 0===a?void 0:a.map((e=>e.id===t.payload.presetId?(r=!0,Object.assign(Object.assign({},e),{current:!0})):Object.assign(Object.assign({},e),{current:!1})));if(e[t.payload.entityCode].presets=i,r){const a=i.find((e=>e.current));e[t.payload.entityCode].filters=null==a?void 0:a.filters}},updateCurrentPresetFilters:(e,t)=>{var a,r;e[t.payload.entityCode].presets=null===(a=e[t.payload.entityCode].presets)||void 0===a?void 0:a.map((e=>e.current?Object.assign(Object.assign({},e),{filters:Object.assign(Object.assign({},e.filters),t.payload.filters)}):e)),e[t.payload.entityCode].filters=Object.assign(Object.assign({},null===(r=e[t.payload.entityCode])||void 0===r?void 0:r.filters),t.payload.filters)},updateCurrentFilters:(e,t)=>{var a;e[t.payload.entityCode].filters=Object.assign(Object.assign({},null===(a=e[t.payload.entityCode])||void 0===a?void 0:a.filters),t.payload.filters)},updateCurrentFilterFields:(e,t)=>{e[t.payload.entityCode].filterFields=t.payload.filterFields}}});r=s.actions,t.setFilterPresets=r.setFilterPresets,t.createFilterPreset=r.createFilterPreset,t.deleteFilterPreset=r.deleteFilterPreset,t.updateFilterPreset=r.updateFilterPreset,t.updateCurrentPresetFilters=r.updateCurrentPresetFilters,t.updateCurrentFilters=r.updateCurrentFilters,t.pinFilterPreset=r.pinFilterPreset,t.unpinFilterPreset=r.unpinFilterPreset,t.setCurrentFilterPreset=r.setCurrentFilterPreset,t.updateCurrentFilterFields=r.updateCurrentFilterFields,t.default=s.reducer},7685:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReason=t.updateReason=t.createReason=t.deleteStage=t.updateStage=t.createStage=t.deleteFunnel=t.updateFunnel=t.createFunnel=t.fetchStages=t.fetchFunnels=void 0;const s=a(5184),d=a(4809);t.fetchFunnels=(0,s.createAsyncThunk)("crm/funnels/fetchFunnels",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmEntitiesService.getEntityFunnel(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchStages=(0,s.createAsyncThunk)("crm/stage/fetchStages",(({entityCode:e,funnelId:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.getEntityStages(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.createFunnel=(0,s.createAsyncThunk)("crm/funnels/createFunnel",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.createEntityFunnel(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.updateFunnel=(0,s.createAsyncThunk)("crm/funnels/updateFunnel",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){const{id:r}=e,s=i(e,["id"]);try{const e=yield d.uspacySdk.crmEntitiesService.updateEntityFunnel(t,r,s);return null==e?void 0:e.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteFunnel=(0,s.createAsyncThunk)("crm/funnels/deleteFunnel",(({id:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityFunnel(t,e)}catch(e){return a.rejectWithValue(e)}})))),t.createStage=(0,s.createAsyncThunk)("crm/funnels/createStage",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.createEntityStage(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.updateStage=(0,s.createAsyncThunk)("crm/funnels/updateStage",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.updateEntityStage(t,e.id,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteStage=(0,s.createAsyncThunk)("crm/funnels/deleteStage",(({id:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityStage(t,e)}catch(e){return a.rejectWithValue(e)}})))),t.createReason=(0,s.createAsyncThunk)("crm/funnels/createReason",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){try{return(yield d.uspacySdk.crmEntitiesService.createEntityReason(e.funnelId,e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateReason=(0,s.createAsyncThunk)("crm/funnels/editReason",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmEntitiesService.updateEntityReason(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReason=(0,s.createAsyncThunk)("crm/funnels/deleteReason",(({id:e},t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityReason(e)}catch(e){return t.rejectWithValue(e)}}))))},1220:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceReasons=void 0;const r=a(5184),i=a(7685),s=(0,r.createSlice)({name:"crm/funnels",initialState:{},reducers:{replaceReasons:(e,t)=>{const a=t.payload.entityCode;e[a].data=e[a].data.map((e=>{var a;return e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.stageId?Object.assign(Object.assign({},e),{reasons:t.payload.data}):e))}):e}))}},extraReducers:{[i.fetchFunnels.fulfilled.type]:(e,t)=>{e[t.meta.arg].loading=!1,e[t.meta.arg].errorMessage=null,e[t.meta.arg].data=t.payload.map((e=>{const t=e.stages.map((e=>Object.assign(Object.assign({},e),{sort:Number(e.sort)}))).sort(((e,t)=>e.sort-t.sort));return Object.assign(Object.assign({},e),{stages:t.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.sort(((e,t)=>e.sort-t.sort))})))})})).map((e=>"Universal funnel"===e.title?Object.assign(Object.assign({},e),{title:"newDirection"}):e))},[i.fetchFunnels.pending.type]:(e,t)=>{e[t.meta.arg]||(e[t.meta.arg]={loading:!0}),e[t.meta.arg].loading=!0,e[t.meta.arg].errorMessage=null},[i.fetchFunnels.rejected.type]:(e,t)=>{e[t.meta.arg].loading=!1,e[t.meta.arg].errorMessage=t.payload},[i.fetchStages.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>{if(e.id===t.meta.arg.funnelId){const a=t.payload.data.sort(((e,t)=>e.sort-t.sort));return Object.assign(Object.assign({},e),{stages:a.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.sort(((e,t)=>e.sort-t.sort))})))})}return e}))},[i.createFunnel.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a]||(e[a]={loading:!1,data:[]})},[i.createFunnel.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].data.push(t.payload)},[i.updateFunnel.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[i.deleteFunnel.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==t.meta.arg.id))},[i.createStage.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.data.funnel_id?Object.assign(Object.assign({},e),{stages:[Object.assign(Object.assign({},t.payload),{sort:Number(t.payload.sort)}),...e.stages.map((e=>e.sort>=t.payload.sort?Object.assign(Object.assign({},e),{sort:e.sort+10}):e))].sort(((e,t)=>e.sort-t.sort))}):e))},[i.updateStage.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>Object.assign(Object.assign({},e),{stages:e.stages.map((e=>{var a;return e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e.sort>=(null===(a=t.meta.arg.data)||void 0===a?void 0:a.sort)?Object.assign(Object.assign({},e),{sort:e.sort+10}):e})).sort(((e,t)=>e.sort-t.sort))})))},[i.deleteStage.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.filter((e=>e.id!==t.meta.arg.id))}):e))},[i.createReason.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.data.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>e.stage_code===t.meta.arg.data.type?Object.assign(Object.assign({},e),{reasons:[...e.reasons,t.payload]}):e))}):e))},[i.updateReason.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))})))}):e))},[i.deleteReason.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.filter((e=>e.id!==t.meta.arg.id))})))}):e))}}});t.replaceReasons=s.actions.replaceReasons,t.default=s.reducer},4789:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),s=r(a(6326)),d=r(a(7350)),n=r(a(9957)),o=r(a(1721)),l=r(a(2238)),c=r(a(2159)),u=r(a(1220)),p=r(a(3953)),y=r(a(7720)),g=r(a(443)),v=(0,i.combineReducers)({cardBlocks:s.default,categories:d.default,entities:o.default,fields:l.default,filters:c.default,funnels:u.default,items:p.default,taxes:y.default,units:g.default,dependencies:n.default});t.default=v},529:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.getEntitiesCurrenciesAmount=t.fetchEntityItemsByStage=t.massItemsDeletion=t.massItemsEditing=t.deleteEntityItem=t.updateEntityItem=t.createEntityItem=t.moveItemFromStageToStage=t.fetchEntityItems=void 0;const s=a(5184),d=a(4809),n=a(9860),o=a(7109);t.fetchEntityItems=(0,s.createAsyncThunk)("crm/items/fetchEntityItems",(({fields:e,filters:t,entityCode:a,signal:s,parentEntityId:l,parentEntityCode:c},u)=>r(void 0,void 0,void 0,(function*(){try{const r=(0,n.getFilterParams)(t,e||[]);switch(a){case"calls":{const{responsible_id:e,duration_by:t,duration_from:a,duration_to:s}=r,n=i(r,["responsible_id","duration_by","duration_from","duration_to"]),o=Object.assign(Object.assign(Object.assign({},n),e&&{owner:e}),(!!a||!!s)&&{duration_by:t,duration_to:s,duration_from:a}),l=yield d.uspacySdk.crmCallsService.getCallsWithFilters(o);return null==l?void 0:l.data}case"products":{const e=Object.assign({},t),a=null===(0,o.normalizeCategories)(t.select),i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),{currency:(e.price_from||e.price_to)&&e.currency}),e.price_from?{price_from:Math.round(100*e.price_from)}:{}),e.price_to?{price_to:Math.round(100*e.price_to)}:{}),{is_active:e.is_active.map((e=>"boolean"!=typeof e?e:e?1:0)),product_category_ids:a?" ":(0,o.normalizeCategories)(t.select)}),s=yield d.uspacySdk.crmProductsService.getProductsWithFilters(i);return null==s?void 0:s.data}case"tasks":case"activities":{const e=r,{table_fields:t}=e,a=i(e,["table_fields"]),s=yield d.uspacySdk.crmTasksService.getTasksWithFilters(a);return null==s?void 0:s.data}case"deals":{const e=(0,n.getDealsParams)(t,r),i=yield d.uspacySdk.crmEntitiesService.getEntityItemsWithFilters(a,e,s,String(l),c);return null==i?void 0:i.data}default:{const e=yield d.uspacySdk.crmEntitiesService.getEntityItemsWithFilters(a,r,s,String(l),c);return null==e?void 0:e.data}}}catch(e){return u.rejectWithValue(e)}})))),t.moveItemFromStageToStage=(0,s.createAsyncThunk)("crm/items/moveItemFromStageToStage",(({entityId:e,stageId:t,reason_id:a,entityCode:i},s)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.moveEntityItemFromStageToStage(i,e,t,a)}catch(e){return s.rejectWithValue(e)}})))),t.createEntityItem=(0,s.createAsyncThunk)("crm/items/createEntityItem",(({data:e,entityCode:t,stageId:a},s)=>r(void 0,void 0,void 0,(function*(){var r;try{switch(t){case"products":{const t=e,{id:a}=t,s=i(t,["id"]),n=yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===r?void 0:r.createProduct((0,o.normalizeProduct)(s)),l=null==n?void 0:n.data;return(0,o.normalizeProductForView)(l)}case"tasks":{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmTasksService.createTask(a);return null==r?void 0:r.data}default:{const r=yield d.uspacySdk.crmEntitiesService.createEntityItem(t,Object.assign(Object.assign({},e),{kanban_stage_id:e.kanban_stage_id||a}));return null==r?void 0:r.data}}}catch(e){return s.rejectWithValue(e)}})))),t.updateEntityItem=(0,s.createAsyncThunk)("crm/items/updateEntityItem",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){var r;try{switch(t){case"products":{const t=e,{id:a}=t,s=i(t,["id"]),n=yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===r?void 0:r.updateProduct(a,(0,o.normalizeProduct)(s)),l=null==n?void 0:n.data;return(0,o.normalizeProductForView)(l)}case"tasks":{const t=yield d.uspacySdk.crmTasksService.updateTask(e.id,e);return null==t?void 0:t.data}default:{const{id:a}=e,r=i(e,["id"]),s=yield d.uspacySdk.crmEntitiesService.updateEntityItem(t,a,r);return null==s?void 0:s.data}}}catch(e){return a.rejectWithValue(e)}})))),t.deleteEntityItem=(0,s.createAsyncThunk)("crm/items/deleteEntityItem",(({id:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){var r;try{switch(t){case"products":return yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===r?void 0:r.deleteProduct(e);case"tasks":return yield d.uspacySdk.crmTasksService.deleteTask(e);default:return yield d.uspacySdk.crmEntitiesService.deleteEntityItem(t,e)}}catch(e){return a.rejectWithValue(e)}})))),t.massItemsEditing=(0,s.createAsyncThunk)("crm/items/massItemsEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,entityCode:o},{rejectWithValue:l})=>r(void 0,void 0,void 0,(function*(){try{return"tasks"===o?yield d.uspacySdk.crmTasksService.massTasksEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?i:void 0,payload:s,settings:n}):yield d.uspacySdk.crmEntitiesService.massEntityItemsEditing(o,{all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?i:void 0,payload:s,settings:n})}catch(e){return l(e)}})))),t.massItemsDeletion=(0,s.createAsyncThunk)("crm/items/massItemsDeletion",(({entityCode:e,entityIds:t,exceptIds:a,all:i,params:s},{rejectWithValue:n})=>r(void 0,void 0,void 0,(function*(){try{switch(e){case"tasks":return yield d.uspacySdk.crmTasksService.massTasksDeletion({all:i,entityIds:t,exceptIds:a,params:i&&(null==s?void 0:s.length)?s:void 0});case"products":return yield d.uspacySdk.crmProductsService.massProductsDeletion({all:i,entityIds:t,exceptIds:a,params:i&&(null==s?void 0:s.length)?s:void 0});default:return yield d.uspacySdk.crmEntitiesService.massEntityItemsDeletion(e,{all:i,entityIds:t,exceptIds:a,params:i&&(null==s?void 0:s.length)?s:void 0})}}catch(e){return n(e)}})))),t.fetchEntityItemsByStage=(0,s.createAsyncThunk)("crm/items/fetchEntityItemsByStage",(({fields:e,filters:t,entityCode:a,stageId:s},o)=>r(void 0,void 0,void 0,(function*(){try{const r=t,{table_fields:o}=r,l=i(r,["table_fields"]),c=(0,n.getFilterParams)(l,e||[]);switch(a){case"tasks":{const e=yield d.uspacySdk.crmTasksService.getTasksWithFilters(c);return null==e?void 0:e.data}case"deals":{const e=(0,n.getDealsParams)(t,c),r=yield d.uspacySdk.crmEntitiesService.getEntityItemsByStage(a,e,s);return null==r?void 0:r.data}default:{const e=yield d.uspacySdk.crmEntitiesService.getEntityItemsByStage(a,c,s);return null==e?void 0:e.data}}}catch(e){return o.rejectWithValue(e)}})))),t.getEntitiesCurrenciesAmount=(0,s.createAsyncThunk)("deals/getEntitiesCurrenciesAmount",(({params:e,entityCode:t,stageId:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield d.uspacySdk.crmEntitiesService.getEntitiesCurrenciesAmount(e,t,a)).data}catch(e){return i.rejectWithValue(e)}}))))},3953:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setCompleteModalOpen=t.setCreateModalOpen=t.setViewModalOpen=t.clearItems=t.changeReason=void 0;const i=a(5184),s=a(7109),d=a(529),n={loading:!0,data:[],errorMessage:null,meta:void 0},o=(0,i.createSlice)({name:"crm/items",initialState:{},reducers:{changeReason:(e,t)=>{e[t.payload.entityCode].data=e[t.payload.entityCode].data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{kanban_reason_id:t.payload.reasonId||""}):e))},clearItems:(e,t)=>{var a,r,i;const{entityCode:s,stageId:d}=t.payload;e[s]&&(e[s].data=[],e[s].loading=!0,e[s].errorMessage=null,e[s].meta=void 0),Array.isArray(null===(i=null===(r=null===(a=e[s])||void 0===a?void 0:a.stages)||void 0===r?void 0:r[d])||void 0===i?void 0:i.data)&&(e[s].stages[d]={data:[],loading:!0,errorMessage:null,meta:void 0})},setViewModalOpen:(e,t)=>{const{entityCode:a,value:r}=t.payload;e[a].viewModalOpen=r},setCreateModalOpen:(e,t)=>{const{entityCode:a,value:r}=t.payload;e[a].createModalOpen=r},setCompleteModalOpen:(e,t)=>{const{entityCode:a,value:r}=t.payload;e[a].completeModalOpen=r}},extraReducers:{[d.fetchEntityItems.fulfilled.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a].loading=!1,e[a].errorMessage=null,e[a].data="products"===a?(0,s.normalizeProducts)(t.payload.data):t.payload.data,e[a].meta=t.payload.meta},[d.fetchEntityItems.pending.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a]||(e[a]=Object.assign(Object.assign({},n),{stages:{}})),e[a].loading=!0,e[a].errorMessage=null},[d.fetchEntityItems.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a].loading=!1,e[a].errorMessage=t.payload,e[a].meta={total:0,page:1,list:20}},[d.fetchEntityItemsByStage.fulfilled.type]:(e,t)=>{const{entityCode:a,stageId:r}=t.meta.arg;e[a].stages[r].data=[...e[a].stages[r].data,...t.payload.data],e[a].stages[r].loading=!1,e[a].stages[r].meta=t.payload.meta},[d.fetchEntityItemsByStage.pending.type]:(e,t)=>{const{entityCode:a,stageId:r,filters:i}=t.meta.arg;e[a]||(e[a]=Object.assign(Object.assign({},n),{stages:{}})),e[a].stages[r]=Object.assign(Object.assign(Object.assign(Object.assign({},n),e[a].stages[r]),1===i.page&&{data:[],meta:void 0}),{loading:!0,errorMessage:null})},[d.fetchEntityItemsByStage.rejected.type]:(e,t)=>{const{entityCode:a,stageId:r}=t.meta.arg;e[a].stages[r].loading=!1},[d.updateEntityItem.fulfilled.type]:(e,t)=>{var a,r,i,s;const{entityCode:d}=t.meta.arg,n=t.meta.arg.stageId||String(t.meta.arg.data.kanban_stage_id);Array.isArray(null===(a=e[d])||void 0===a?void 0:a.data)&&(e[d].errorMessage=null,e[d].data=e[d].data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))),Array.isArray(null===(s=null===(i=null===(r=e[d])||void 0===r?void 0:r.stages)||void 0===i?void 0:i[n])||void 0===s?void 0:s.data)&&(e[d].stages[n].loading=!1,e[d].stages[n].errorMessage=null,e[d].stages[n].data=e[d].stages[n].data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e)))},[d.updateEntityItem.pending.type]:(e,t)=>{var a,r,i,s;const{entityCode:d}=t.meta.arg,n=t.meta.arg.stageId||String(t.meta.arg.data.kanban_stage_id);Array.isArray(null===(a=e[d])||void 0===a?void 0:a.data)&&(e[d].errorMessage=null),Array.isArray(null===(s=null===(i=null===(r=e[d])||void 0===r?void 0:r.stages)||void 0===i?void 0:i[n])||void 0===s?void 0:s.data)&&(e[d].stages[n].loading=!0,e[d].stages[n].errorMessage=null)},[d.updateEntityItem.rejected.type]:(e,t)=>{var a,r,i,s;const{entityCode:d}=t.meta.arg,n=t.meta.arg.stageId||String(t.meta.arg.data.kanban_stage_id);Array.isArray(null===(a=e[d])||void 0===a?void 0:a.data)&&(e[d].errorMessage=t.payload),Array.isArray(null===(s=null===(i=null===(r=e[d])||void 0===r?void 0:r.stages)||void 0===i?void 0:i[n])||void 0===s?void 0:s.data)&&(e[d].stages[n].loading=!1,e[d].stages[n].errorMessage=t.payload)},[d.createEntityItem.fulfilled.type]:(e,t)=>{var a,r,i,s;const{entityCode:d}=t.meta.arg,n=t.meta.arg.stageId||t.meta.arg.data.kanban_stage_id;Array.isArray(null===(a=e[d])||void 0===a?void 0:a.data)&&(e[d].loading=!1,e[d].errorMessage=null,e[d].data=[t.payload,...e[d].data],e[d].meta.total++),Array.isArray(null===(s=null===(i=null===(r=e[d])||void 0===r?void 0:r.stages)||void 0===i?void 0:i[n])||void 0===s?void 0:s.data)&&(e[d].stages[n].data=[t.payload,...e[d].stages[n].data],e[d].stages[n].meta.total++,e[d].stages[n].loading=!1,e[d].stages[n].errorMessage=null)},[d.createEntityItem.pending.type]:(e,t)=>{var a,r,i,s;const{entityCode:d}=t.meta.arg,n=t.meta.arg.stageId||t.meta.arg.data.kanban_stage_id;Array.isArray(null===(a=e[d])||void 0===a?void 0:a.data)&&(e[d].loading=!0,e[d].errorMessage=null),Array.isArray(null===(s=null===(i=null===(r=e[d])||void 0===r?void 0:r.stages)||void 0===i?void 0:i[n])||void 0===s?void 0:s.data)&&(e[d].stages[n].loading=!0,e[d].stages[n].errorMessage=null)},[d.createEntityItem.rejected.type]:(e,t)=>{var a,r,i;const{entityCode:s}=t.meta.arg,d=t.meta.arg.stageId||t.meta.arg.data.kanban_stage_id;e[s].loading=!1,e[s].errorMessage=t.payload,Array.isArray(null===(i=null===(r=null===(a=e[s])||void 0===a?void 0:a.stages)||void 0===r?void 0:r[d])||void 0===i?void 0:i.data)&&(e[s].stages[d].loading=!1,e[s].stages[d].errorMessage=t.payload)},[d.deleteEntityItem.pending.type]:(e,t)=>{var a,r,i,s;const{entityCode:d,stageId:n,id:o}=t.meta.arg;Array.isArray(null===(a=e[d])||void 0===a?void 0:a.data)&&(e[d].data=e[d].data.filter((e=>e.id!==o)),e[d].meta.total--),Array.isArray(null===(s=null===(i=null===(r=e[d])||void 0===r?void 0:r.stages)||void 0===i?void 0:i[n])||void 0===s?void 0:s.data)&&(e[d].stages[n].data=e[d].stages[n].data.filter((e=>e.id!==o)),e[d].stages[n].meta.total--)},[d.moveItemFromStageToStage.fulfilled.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a].movingCard=!1,e[a].errorMessage=null},[d.moveItemFromStageToStage.pending.type]:(e,t)=>{var a;const{entityCode:r,stageId:i,destinationIndex:s,entityId:d}=t.meta.arg;if(e[r]||(e[r]={loading:!0}),e[r].movingCard=!0,e[r].errorMessage=null,null===(a=e[r])||void 0===a?void 0:a.stages){let a;e[r].data=e[r].data.map((e=>e.id===t.meta.arg.entityId?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:i,updated_at:Math.floor((new Date).valueOf()/1e3),kanban_reason_id:t.meta.arg.reason_id,changed_by:t.meta.arg.profileId}),t.meta.arg.isFinishedStage&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||t.meta.arg.profileId,closed_by:t.meta.arg.profileId}):e));for(const i of Object.values(e[r].stages))if(a=i.data.find((e=>e.id===t.meta.arg.entityId)),a)break;if(!a)return;e[r].stages=Object.fromEntries(Object.entries(e[r].stages).map((([e,r])=>{var n,o,l;if(+e===i){const i=r.data;return i.splice(s||0,0,Object.assign(Object.assign({},a),t.meta.arg.isFinishedStage&&{first_closed_at:(null==a?void 0:a.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==a?void 0:a.first_closed_by)||t.meta.arg.profileId,closed_by:t.meta.arg.profileId})),[e,Object.assign(Object.assign({},r),{data:i,meta:Object.assign(Object.assign({},r.meta),{total:((null===(n=null==r?void 0:r.meta)||void 0===n?void 0:n.total)||0)+1})})]}const c=r.data.filter((e=>e.id!==d)),u=c.length===r.data.length?null===(o=r.meta)||void 0===o?void 0:o.total:(null===(l=r.meta)||void 0===l?void 0:l.total)-1;return[e,Object.assign(Object.assign({},r),{data:c,meta:Object.assign(Object.assign({},r.meta),{total:u||0})})]})))}},[d.moveItemFromStageToStage.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a]||(e[a]={loading:!0}),e[a].movingCard=!1,e[a].errorMessage=t.payload},[d.massItemsEditing.fulfilled.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=null)},[d.massItemsEditing.pending.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!0,e[a].errorMessage=null)},[d.massItemsEditing.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=t.payload)},[d.massItemsDeletion.fulfilled.type]:(e,t)=>{var a;const{entityCode:r}=t.meta.arg;if(!(null==e?void 0:e[r]))return;const i=Array.isArray(Object.keys((null===(a=e[r])||void 0===a?void 0:a.stages)||{}));e[r].loading=!1,e[r].errorMessage=null,e[r].data=e[r].data.filter((e=>!t.meta.arg.entityIds.map(Number).includes(e.id))),i&&Object.keys(e[r].stages).forEach((a=>{e[r].stages[a].data=e[r].stages[a].data.filter((e=>!t.meta.arg.exceptIds.map(Number).includes(e.id)))})),t.meta.arg.all?(i&&Object.keys(e[r].stages).forEach((t=>{e[r].stages[t].meta.total=0})),e[r].meta.total=0):t.meta.arg.all&&t.meta.arg.exceptIds.length?(e[r].meta.total=t.meta.arg.exceptIds.length,i&&Object.keys(e[r].stages).forEach((a=>{e[r].stages[a].meta.total=t.meta.arg.exceptIds.length}))):(e[r].meta.total-=t.meta.arg.entityIds.length,i&&Object.keys(e[r].stages).forEach((a=>{e[r].stages[a].meta.total-=t.meta.arg.exceptIds.length})))},[d.massItemsDeletion.pending.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!0,e[a].errorMessage=null)},[d.massItemsDeletion.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=t.payload)},[d.getEntitiesCurrenciesAmount.fulfilled.type]:(e,t)=>{const{entityCode:a,stageId:r}=t.meta.arg;e[a].stages[r].currencyAmount=t.payload,e[a].stages[r].loadingCurrencyAmount=!1,e[a].stages[r].errorCurrencyAmount=null},[d.getEntitiesCurrenciesAmount.pending.type]:(e,t)=>{const{entityCode:a,stageId:r}=t.meta.arg;e[a]||(e[a]=Object.assign(Object.assign({},n),{stages:{}})),e[a].stages[r]=Object.assign(Object.assign({},e[a].stages[r]),{loadingCurrencyAmount:!0,errorCurrencyAmount:null})},[d.getEntitiesCurrenciesAmount.rejected.type]:(e,t)=>{const{entityCode:a,stageId:r}=t.meta.arg;e[a].stages[r].loadingCurrencyAmount=!1}}});r=o.actions,t.changeReason=r.changeReason,t.clearItems=r.clearItems,t.setViewModalOpen=r.setViewModalOpen,t.setCreateModalOpen=r.setCreateModalOpen,t.setCompleteModalOpen=r.setCompleteModalOpen,t.default=o.reducer},9933:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTax=t.updateTax=t.createTax=t.fetchTaxes=void 0;const i=a(5184),s=a(4809);t.fetchTaxes=(0,i.createAsyncThunk)("crm/taxes/fetchTaxes",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===e?void 0:e.getProductTaxes();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createTax=(0,i.createAsyncThunk)("crm/taxes/createTax",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.createProductTax(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateTax=(0,i.createAsyncThunk)("crm/taxes/updateTax",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.updateProductTax(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteTax=(0,i.createAsyncThunk)("crm/taxes/deleteTax",(({id:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.deleteProductTax(e)}catch(e){return t.rejectWithValue(e)}}))))},7720:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(9933),s={data:[],loading:!1,errorMessage:""},d=(0,r.createSlice)({name:"productsTaxes",initialState:{},reducers:{},extraReducers:{[i.fetchTaxes.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=t.payload.data},[i.fetchTaxes.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=Object.assign({},s)),e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode].errorMessage=""},[i.fetchTaxes.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[i.createTax.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=[...e[t.meta.arg.entityCode].data,t.payload]},[i.createTax.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=s)},[i.createTax.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage=t.payload,e[t.meta.arg.entityCode].loading=!1},[i.updateTax.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[i.deleteTax.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==t.meta.arg.id))}}});d.actions,t.default=d.reducer},3372:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUnit=t.updateUnit=t.createUnit=t.fetchUnits=void 0;const i=a(5184),s=a(4809);t.fetchUnits=(0,i.createAsyncThunk)("crm/units/fetchUnits",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===e?void 0:e.getProductUnits();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createUnit=(0,i.createAsyncThunk)("crm/units/createUnit",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.createProductUnit(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUnit=(0,i.createAsyncThunk)("crm/units/updateUnit",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.updateProductUnit(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteUnit=(0,i.createAsyncThunk)("crm/units/deleteUnit",(({id:e},t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.deleteProductUnit(e)}catch(e){return t.rejectWithValue(e)}}))))},443:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(3372),s={data:[],loading:!1,errorMessage:""},d=(0,r.createSlice)({name:"productsUnit",initialState:{},reducers:{},extraReducers:{[i.fetchUnits.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=t.payload.data},[i.fetchUnits.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=Object.assign({},s)),e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode].errorMessage=""},[i.fetchUnits.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[i.createUnit.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=[...e[t.meta.arg.entityCode].data,t.payload]},[i.createUnit.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=s),e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].loading=!0},[i.createUnit.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage=t.payload,e[t.meta.arg.entityCode].loading=!1},[i.updateUnit.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[i.deleteUnit.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==t.meta.arg.id))}}});d.actions,t.default=d.reducer},9929:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCall=t.fetchCall=t.editCall=t.createCall=t.fetchCallsWithFilters=t.fetchCalls=void 0;const s=a(5184),d=a(4809);t.fetchCalls=(0,s.createAsyncThunk)("calls/fetchCalls",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmCallsService.getCalls();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchCallsWithFilters=(0,s.createAsyncThunk)("calls/fetchCallsWithFilters",((e,t)=>r(void 0,void 0,void 0,(function*(){const a=Object.assign({page:e.page,list:e.perPage,status:e.status,type:e.type,responsible_id:e.responsible_id,start_time:e.period},e.search?{q:e.search}:{});try{const e=yield d.uspacySdk.crmCallsService.getCallsWithFilters(a);return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createCall=(0,s.createAsyncThunk)("calls/createCall",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmCallsService.createCall(a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editCall=(0,s.createAsyncThunk)("calls/editCall",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmCallsService.editCall(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.fetchCall=(0,s.createAsyncThunk)("calls/fetchCall",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmCallsService.getCall(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure!")}})))),t.deleteCall=(0,s.createAsyncThunk)("calls/deleteCall",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmCallsService.deleteCall(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},1599:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearCallsFilter=t.clearCalls=t.editCallInState=t.removeCallFromState=t.addCallToState=t.changeItemsFilterCalls=t.changeFilterCalls=void 0;const i=a(5184),s=a(9929),d={data:[],meta:{total:0,from:0,per_page:0,list:0}},n={page:1,perPage:20,status:[],openDatePicker:!1,search:"",responsible_id:[],durationPeriod:[],duration:[],interval:[],period:[],time_label:[],certainDateOrPeriod:[],participants:[],boolean_operator:"",type:[]},o={calls:d,call:null,callFilter:n,errorMessage:"",loading:!1,loadingCallList:!0},l=(0,i.createSlice)({name:"calls",initialState:o,reducers:{changeFilterCalls:(e,t)=>{e.callFilter[t.payload.key]=t.payload.value},changeItemsFilterCalls:(e,t)=>{e.callFilter=t.payload},addCallToState:(e,t)=>{e.calls.data=[t.payload,...e.calls.data]},removeCallFromState:(e,t)=>{e.calls.data=e.calls.data.filter((e=>e.id!==t.payload))},editCallInState:(e,t)=>{e.calls.data=e.calls.data.map((e=>e.id===t.payload.id?t.payload:e))},clearCalls:e=>{e.calls=d,e.loadingCallList=!0},clearCallsFilter:e=>{e.callFilter=n}},extraReducers:{[s.fetchCalls.fulfilled.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage="",e.calls=t.payload},[s.fetchCalls.pending.type]:e=>{e.loadingCallList=!0,e.errorMessage=""},[s.fetchCalls.rejected.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage=t.payload},[s.fetchCallsWithFilters.fulfilled.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage="",e.calls=t.payload},[s.fetchCallsWithFilters.pending.type]:e=>{e.loadingCallList=!0,e.errorMessage=""},[s.fetchCallsWithFilters.rejected.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage=t.payload},[s.createCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.calls.data.unshift(t.payload),e.calls.meta.total=++e.calls.meta.total},[s.createCall.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[s.createCall.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.editCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage="",e.calls.data=e.calls.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[s.editCall.pending.type]:e=>{e.loading=!0,e.loadingCallList=!0,e.errorMessage=""},[s.editCall.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage=t.payload},[s.fetchCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.call=t.payload},[s.fetchCall.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[s.fetchCall.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.deleteCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage="",e.calls.data=e.calls.data.filter((e=>e.id!==t.payload))},[s.deleteCall.pending.type]:e=>{e.loading=!0,e.loadingCallList=!0,e.errorMessage=""},[s.deleteCall.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage=t.payload}}});r=l.actions,t.changeFilterCalls=r.changeFilterCalls,t.changeItemsFilterCalls=r.changeItemsFilterCalls,t.addCallToState=r.addCallToState,t.removeCallFromState=r.removeCallFromState,t.editCallInState=r.editCallInState,t.clearCalls=r.clearCalls,t.clearCallsFilter=r.clearCallsFilter,t.default=l.reducer},215:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCompanyField=t.deleteCompanyListValues=t.createCompanyField=t.updateCompanyListValues=t.updateCompanyField=t.fetchFieldsForCompany=t.fetchCompaniesWithFilters=t.massCompaniesEditing=t.massCompaniesDeletion=t.deleteCompany=t.updateCompany=t.createCompany=t.fetchCompanies=void 0;const s=a(5184),d=a(4809),n=a(9860),o=a(349);t.fetchCompanies=(0,s.createAsyncThunk)("companies/fetchCompanies",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmCompaniesService)||void 0===e?void 0:e.getCompanies();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createCompany=(0,s.createAsyncThunk)("companies/createCompany",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmCompaniesService.createCompany(a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.updateCompany=(0,s.createAsyncThunk)("companies/updateCompany",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmCompaniesService.updateCompany(t,a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteCompany=(0,s.createAsyncThunk)("companies/deleteCompany",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmCompaniesService.deleteCompany(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massCompaniesDeletion=(0,s.createAsyncThunk)("companies/massCompaniesDeletion",(({entityIds:e,exceptIds:t,all:a,params:i},{rejectWithValue:s})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmCompaniesService.massCompaniesDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massCompaniesEditing=(0,s.createAsyncThunk)("companies/massCompaniesEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l},{rejectWithValue:c})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmCompaniesService.massCompaniesEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:"",payload:s,settings:n}),{entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchCompaniesWithFilters=(0,s.createAsyncThunk)("companies/fetchCompaniesWithFilters",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=(Array.isArray(e.params.deals)?e.params.deals:[e.params.deals]).includes("NO_DEALS"),a=(0,n.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),r=`${(0,o.makeURIParams)(a)}${t?"&deals=":""}`,i=yield d.uspacySdk.crmCompaniesService.getCompaniesWithFilters(r,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==i?void 0:i.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchFieldsForCompany=(0,s.createAsyncThunk)("companies/fetchFieldsForCompany",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmCompaniesService.getCompanyFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCompanyField=(0,s.createAsyncThunk)("companies/updateCompanyField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmCompaniesService.updateCompanyField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCompanyListValues=(0,s.createAsyncThunk)("companies/updateCompanyListValues",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmCompaniesService.updateCompanyListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createCompanyField=(0,s.createAsyncThunk)("companies/createCompanyField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmCompaniesService.createCompanyField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteCompanyListValues=(0,s.createAsyncThunk)("companies/deleteCompanyListValues",(({value:e,fieldCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmCompaniesService.deleteCompanyListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteCompanyField=(0,s.createAsyncThunk)("companies/deleteCompanyField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmCompaniesService.deleteCompanyField(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},4712:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.clearCompanyFilters=t.clearCompanies=t.changeItemsFilterCompany=t.changeFilterCompany=t.companiesReducer=t.initialCompaniesFilter=void 0;const i=a(5184),s=a(3970),d=a(9860),n=a(215),o={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialCompaniesFilter={company_label:[],source:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],deals:[],openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"",table_fields:[],sortModel:[]};const l={companies:o,company:{},companyFields:{data:[]},companyFilters:{},companyFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingCompanyList:!0,loadingCompanyFields:!0,cardBlocks:[]},c={name:"requisite",code:"requisites",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"requisite",fieldSectionId:"",system_field:!0,base_field:!0,sort:"",defaultValue:""};t.companiesReducer=(0,i.createSlice)({name:"companies",initialState:l,reducers:{changeFilterCompany:(e,t)=>{e.companyFilters[t.payload.key]=t.payload.value},changeItemsFilterCompany:(e,t)=>{e.companyFilters=t.payload},clearCompanies:e=>{e.companies=o,e.loadingCompanyList=!0},clearCompanyFilters:e=>{var t,a,r;(null===(t=Object.keys(e.companyFields.data))||void 0===t?void 0:t.length)&&(e.companyFilters=Object.assign(Object.assign(Object.assign({},e.companyFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.companyFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(r=null==e?void 0:e.companyFilters)||void 0===r?void 0:r.table_fields)||[],page:1,perPage:20}))},setIsNewPreset:(e,t)=>{e.companyFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.companyFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.companyFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.companyFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[n.fetchCompanies.fulfilled.type]:(e,t)=>{e.loadingCompanyList=!1,e.errorMessage="",e.companies=t.payload},[n.fetchCompanies.pending.type]:e=>{e.loadingCompanyList=!0,e.errorMessage=""},[n.fetchCompanies.rejected.type]:(e,t)=>{e.loadingCompanyList=!1,e.errorMessage=t.payload},[n.createCompany.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companies.data.unshift(t.payload),e.companies.meta.total=++e.companies.meta.total},[n.createCompany.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createCompany.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateCompany.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companies.data=e.companies.data.map((e=>e.id===t.payload.id?t.payload:e))},[n.updateCompany.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateCompany.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteCompany.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companies.data=e.companies.data.filter((e=>e.id!==t.payload))},[n.deleteCompany.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteCompany.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.massCompaniesDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingCompanyList=!1,e.errorMessage="",e.companies.data=e.companies.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),t.payload.all?e.companies.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.companies.meta.total=t.payload.exceptIds.length:e.companies.meta.total=e.companies.meta.total-t.payload.entityIds.length},[n.massCompaniesDeletion.pending.type]:e=>{e.loading=!0,e.loadingCompanyList=!0,e.errorMessage=""},[n.massCompaniesDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCompanyList=!1,e.errorMessage=t.payload},[n.massCompaniesEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[n.massCompaniesEditing.pending.type]:e=>{e.loading=!0,e.loadingCompanyList=!0,e.errorMessage=""},[n.massCompaniesEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCompanyList=!1,e.errorMessage=t.payload},[n.fetchCompaniesWithFilters.fulfilled.type]:(e,t)=>{e.loadingCompanyList=t.payload.aborted,e.errorMessage="",e.companies=t.payload.aborted?e.companies:t.payload},[n.fetchCompaniesWithFilters.pending.type]:e=>{e.loadingCompanyList=!0,e.errorMessage=""},[n.fetchCompaniesWithFilters.rejected.type]:(e,t)=>{e.loadingCompanyList=!1,e.errorMessage=t.payload},[n.fetchFieldsForCompany.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingCompanyFields=!1,e.errorMessage="",e.companyFields=t.payload,e.companyFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),e.companyFields.data.splice(2,0,c),e.companyFields.data.splice(0,0,s.idColumn),(null===(a=Object.keys(e.companyFilters))||void 0===a?void 0:a.length)||(e.companyFilters=Object.assign(Object.assign(Object.assign({},e.companyFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:[]}))},[n.fetchFieldsForCompany.pending.type]:e=>{e.loading=!0,e.loadingCompanyFields=!0,e.errorMessage=""},[n.fetchFieldsForCompany.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCompanyFields=!1,e.errorMessage=t.payload},[n.updateCompanyField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[n.updateCompanyField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateCompanyField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateCompanyListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[n.updateCompanyListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateCompanyListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createCompanyField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data.push(t.payload)},[n.createCompanyField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createCompanyField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteCompanyListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[n.deleteCompanyListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteCompanyListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteCompanyField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.filter((e=>e.code!==t.payload))},[n.deleteCompanyField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteCompanyField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}}),r=t.companiesReducer.actions,t.changeFilterCompany=r.changeFilterCompany,t.changeItemsFilterCompany=r.changeItemsFilterCompany,t.clearCompanies=r.clearCompanies,t.clearCompanyFilters=r.clearCompanyFilters,t.setIsNewPreset=r.setIsNewPreset,t.setCurrentPreset=r.setCurrentPreset,t.setStandardPreset=r.setStandardPreset,t.setFilterPresets=r.setFilterPresets,t.setCardBlocks=r.setCardBlocks,t.default=t.companiesReducer.reducer},9773:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteContactField=t.deleteContactListValues=t.createContactField=t.updateContactListValues=t.updateContactField=t.fetchFieldsForContact=t.fetchContactsWithFilters=t.massContactsEditing=t.massContactsDeletion=t.deleteContact=t.updateContact=t.createContact=t.fetchContacts=void 0;const s=a(5184),d=a(4809),n=a(9860),o=a(349);t.fetchContacts=(0,s.createAsyncThunk)("contacts/fetchContacts",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmContactsService)||void 0===e?void 0:e.getContacts();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createContact=(0,s.createAsyncThunk)("contacts/createContact",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmContactsService.createContact(a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.updateContact=(0,s.createAsyncThunk)("contacts/updateContact",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmContactsService.updateContact(t,a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteContact=(0,s.createAsyncThunk)("contacts/deleteContact",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmContactsService.deleteContact(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massContactsDeletion=(0,s.createAsyncThunk)("contacts/massContactsDeletion",(({entityIds:e,exceptIds:t,all:a,params:i},{rejectWithValue:s})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmContactsService.massContactsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massContactsEditing=(0,s.createAsyncThunk)("contacts/massContactsEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l},{rejectWithValue:c})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmContactsService.massContactsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:"",payload:s,settings:n}),{entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchContactsWithFilters=(0,s.createAsyncThunk)("contacts/fetchContactsWithFilters",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=(Array.isArray(e.params.deals)?e.params.deals:[e.params.deals]).includes("NO_DEALS"),a=(0,n.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),r=`${(0,o.makeURIParams)(a)}${t?"&deals=":""}`,i=yield d.uspacySdk.crmContactsService.getContactsWithFilters(r,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==i?void 0:i.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchFieldsForContact=(0,s.createAsyncThunk)("contacts/fetchFieldsForContact",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmContactsService.getContactFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateContactField=(0,s.createAsyncThunk)("contacts/updateContactField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmContactsService.updateContactField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateContactListValues=(0,s.createAsyncThunk)("contacts/updateContactListValues",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmContactsService.updateContactListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createContactField=(0,s.createAsyncThunk)("contacts/createContactField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmContactsService.createContactField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteContactListValues=(0,s.createAsyncThunk)("contacts/deleteContactListValues",(({value:e,fieldCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmContactsService.deleteContactListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteContactField=(0,s.createAsyncThunk)("contacts/deleteContactField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmContactsService.deleteContactField(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},9215:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.clearContactFilters=t.clearContacts=t.changeItemsFilterContact=t.changeFilterContact=t.contactsReducer=t.initialContactsFilters=void 0;const i=a(5184),s=a(3970),d=a(9860),n=a(9773),o={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialContactsFilters={contact_label:[],source:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],deals:[],openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"",table_fields:[],sortModel:[]};const l={contacts:o,contact:{},contactFields:{data:[]},contactFilters:{},contactFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingContactList:!0,loadingsContactFields:!0,cardBlocks:[]},c={name:"requisite",code:"requisites",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"requisite",fieldSectionId:"",system_field:!0,base_field:!0,sort:"",defaultValue:""};t.contactsReducer=(0,i.createSlice)({name:"contacts",initialState:l,reducers:{changeFilterContact:(e,t)=>{e.contactFilters[t.payload.key]=t.payload.value},changeItemsFilterContact:(e,t)=>{e.contactFilters=t.payload},clearContacts:e=>{e.contacts=o,e.loadingContactList=!0},clearContactFilters:e=>{var t,a,r;e.createdAt=[],(null===(t=Object.keys(e.contactFields.data))||void 0===t?void 0:t.length)&&(e.contactFilters=Object.assign(Object.assign(Object.assign({},e.contactFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.contactFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(r=null==e?void 0:e.contactFilters)||void 0===r?void 0:r.table_fields)||[],page:1,perPage:20}))},setIsNewPreset:(e,t)=>{e.contactFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.contactFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.contactFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.contactFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[n.fetchContacts.fulfilled.type]:(e,t)=>{e.loadingContactList=!1,e.errorMessage="",e.contacts=t.payload},[n.fetchContacts.pending.type]:e=>{e.loadingContactList=!0,e.errorMessage=""},[n.fetchContacts.rejected.type]:(e,t)=>{e.loadingContactList=!1,e.errorMessage=t.payload},[n.createContact.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contacts.data.unshift(t.payload),e.contacts.meta.total=++e.contacts.meta.total},[n.createContact.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createContact.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateContact.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contacts.data=e.contacts.data.map((e=>e.id===t.payload.id?t.payload:e))},[n.updateContact.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateContact.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteContact.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contacts.data=e.contacts.data.filter((e=>e.id!==t.payload))},[n.deleteContact.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteContact.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.massContactsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingContactList=!1,e.errorMessage="",e.contacts.data=e.contacts.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),t.payload.all?e.contacts.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.contacts.meta.total=t.payload.exceptIds.length:e.contacts.meta.total=e.contacts.meta.total-t.payload.entityIds.length},[n.massContactsDeletion.pending.type]:e=>{e.loading=!0,e.loadingContactList=!0,e.errorMessage=""},[n.massContactsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingContactList=!1,e.errorMessage=t.payload},[n.massContactsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[n.massContactsEditing.pending.type]:e=>{e.loading=!0,e.loadingContactList=!0,e.errorMessage=""},[n.massContactsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingContactList=!1,e.errorMessage=t.payload},[n.fetchContactsWithFilters.fulfilled.type]:(e,t)=>{e.loadingContactList=t.payload.aborted,e.errorMessage="",e.contacts=t.payload.aborted?e.contacts:t.payload},[n.fetchContactsWithFilters.pending.type]:e=>{e.loadingContactList=!0,e.errorMessage=""},[n.fetchContactsWithFilters.rejected.type]:(e,t)=>{e.loadingContactList=!1,e.errorMessage=t.payload},[n.fetchFieldsForContact.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingsContactFields=!1,e.errorMessage="",e.contactFields=t.payload,e.contactFields.data.splice(2,0,c),e.contactFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),e.contactFields.data.splice(0,0,s.idColumn),(null===(a=Object.keys(e.contactFilters))||void 0===a?void 0:a.length)||(e.contactFilters=Object.assign(Object.assign({},e.contactFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS))},[n.fetchFieldsForContact.pending.type]:e=>{e.loading=!0,e.loadingsContactFields=!0,e.errorMessage=""},[n.fetchFieldsForContact.rejected.type]:(e,t)=>{e.loading=!1,e.loadingsContactFields=!1,e.errorMessage=t.payload},[n.updateContactField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[n.updateContactField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateContactField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateContactListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[n.updateContactListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateContactListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createContactField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data.push(t.payload)},[n.createContactField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createContactField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteContactListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[n.deleteContactListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteContactListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteContactField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.filter((e=>e.code!==t.payload))},[n.deleteContactField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteContactField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}}),r=t.contactsReducer.actions,t.changeFilterContact=r.changeFilterContact,t.changeItemsFilterContact=r.changeItemsFilterContact,t.clearContacts=r.clearContacts,t.clearContactFilters=r.clearContactFilters,t.setIsNewPreset=r.setIsNewPreset,t.setCurrentPreset=r.setCurrentPreset,t.setStandardPreset=r.setStandardPreset,t.setFilterPresets=r.setFilterPresets,t.setCardBlocks=r.setCardBlocks,t.default=t.contactsReducer.reducer},355:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.moveDealFromStageToStage=t.deleteDealField=t.deleteDealListValues=t.createDealField=t.updateDealListValues=t.updateDealField=t.fetchFieldsForDeal=t.massDealsEditing=t.massDealsDeletion=t.deleteDeal=t.updateDeal=t.createDealFromKanban=t.createDeal=t.fetchDealsWithFilters=t.fetchDeals=void 0;const s=a(5184),d=a(4809),n=a(9860),o=a(349);t.fetchDeals=(0,s.createAsyncThunk)("deals/fetchDeals",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsService)||void 0===e?void 0:e.getDeals();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchDealsWithFilters=(0,s.createAsyncThunk)("deals/fetchDealsWithFilters",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=(Array.isArray(e.params.time_label_tasks)?e.params.time_label_tasks:[e.params.time_label_task]).filter((e=>Boolean(e))),a=void 0!==e.params.time_label_tasks&&t.includes("noBusiness"),r=(0,n.getFilterParams)(e.params,e.fields||[]),i=`${(0,o.makeURIParams)(r)}${a?"&tasks=":""}`,s=yield d.uspacySdk.crmDealsService.getDealsWithFilters(i,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==s?void 0:s.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.createDeal=(0,s.createAsyncThunk)("deals/createDeal",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmDealsService.createDeal(a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.createDealFromKanban=(0,s.createAsyncThunk)("deals/createDealFromKanban",(({data:e,dontRenderInKanban:t},a)=>r(void 0,void 0,void 0,(function*(){try{const{id:a}=e,r=i(e,["id"]),s=yield d.uspacySdk.crmDealsService.createDeal(r);return{data:null==s?void 0:s.data,dontRenderInKanban:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateDeal=(0,s.createAsyncThunk)("deals/updateDeal",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmDealsService.updateDeal(t,a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteDeal=(0,s.createAsyncThunk)("deals/deleteDeal",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDealsService.deleteDeal(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massDealsDeletion=(0,s.createAsyncThunk)("deals/massDealsDeletion",(({entityIds:e,exceptIds:t,all:a,params:i},{rejectWithValue:s})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDealsService.massDealsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massDealsEditing=(0,s.createAsyncThunk)("deals/massDealsEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l},{rejectWithValue:c})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDealsService.massDealsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:"",payload:s,settings:n}),{entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchFieldsForDeal=(0,s.createAsyncThunk)("deals/fetchFieldsForDeal",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield d.uspacySdk.crmDealsService.getDealFields(),a=null==t?void 0:t.data;return Object.assign(Object.assign({},a),{data:null===(e=null==a?void 0:a.data)||void 0===e?void 0:e.map((e=>"companies"===(null==e?void 0:e.code)?Object.assign(Object.assign({},e),{name:"company"}):e))})}catch(e){return t.rejectWithValue("Failure")}})))),t.updateDealField=(0,s.createAsyncThunk)("deals/updateDealField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmDealsService.updateDealField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateDealListValues=(0,s.createAsyncThunk)("deals/updateDealListValues",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmDealsService.updateDealListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createDealField=(0,s.createAsyncThunk)("deals/createDealField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmDealsService.createDealField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteDealListValues=(0,s.createAsyncThunk)("deals/deleteLeadListValues",(({value:e,fieldCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDealsService.deleteDealListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteDealField=(0,s.createAsyncThunk)("deals/deleteDealField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDealsService.deleteDealField(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.moveDealFromStageToStage=(0,s.createAsyncThunk)("stages/moveLeadFromStageToStage",(({entityId:e,stageId:t,reason_id:a,funnelHasChanged:i,isFinishedStage:s,profileId:n},o)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDealsService.moveDealFromStageToStage(e,t,a),{entityId:e,stageId:t,funnelHasChanged:i,isFinishedStage:s,profileId:n}}catch(e){return o.rejectWithValue("Failure")}}))))},7929:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.changeReasonForDeal=t.clearDNDItem=t.dndHandlerDeleteCardFromColumn=t.dndHandlerAddCardFromColumn=t.clearCreatedDeal=t.moveDealChangeCardInColumn=t.clearDealsFilter=t.clearDeals=t.changeTaskTime=t.changeItemsFilterDeals=t.changeFilterDeals=t.initialDealsFilter=void 0;const i=a(5184),s=a(3970),d=a(9860),n=a(355),o={fromColumnId:"",toColumnId:"",cardId:"",item:{},isDeleteFromColumn:!1,isAddToColumn:!1},l={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialDealsFilter={kanban_status:[],stages:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],tasks_label:[],tasks:[],openDatePicker:!1,search:"",page:0,perPage:0,select:0,boolean_operator:"",table_fields:[],sortModel:[]};const c={deals:l,deal:{},createdDeal:{},dealFields:{data:[]},deleteDealId:0,deleteDealIds:[],deleteAllFromKanban:!1,changeDeals:[],taskTime:[],dealFilters:{},dealFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingDealList:!0,loadingDealFields:!0,movingCard:!1,dndDealItem:o,cardBlocks:[]},u={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"stage",fieldSectionId:"",system_field:!0,sort:"",defaultValue:""},p=(0,i.createSlice)({name:"deals",initialState:c,reducers:{changeFilterDeals:(e,t)=>{e.dealFilters[t.payload.key]=t.payload.value},changeItemsFilterDeals:(e,t)=>{e.dealFilters=t.payload},changeTaskTime:(e,t)=>{e.taskTime=t.payload},clearDeals:e=>{e.deals=l,e.loadingDealList=!0},clearDealsFilter:e=>{var t,a,r;e.taskTime=[],(null===(t=Object.keys(e.dealFields.data))||void 0===t?void 0:t.length)&&(e.dealFilters=Object.assign(Object.assign(Object.assign({},e.dealFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.dealFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(r=null==e?void 0:e.dealFilters)||void 0===r?void 0:r.table_fields)||[],page:1,perPage:20,select:0}))},moveDealChangeCardInColumn:(e,t)=>{var a;e.dndDealItem=null===(a=t.payload)||void 0===a?void 0:a.data,e.deals.data=e.deals.data.map((e=>{var a,r,i,s,d,n,o,l,c;return e.id===+(null===(i=null===(r=null===(a=t.payload)||void 0===a?void 0:a.data)||void 0===r?void 0:r.item)||void 0===i?void 0:i.id)?Object.assign(Object.assign(Object.assign({},e),(null===(s=t.payload)||void 0===s?void 0:s.meta)||{}),{first_closed_at:e.first_closed_at||(null===(n=null===(d=t.payload)||void 0===d?void 0:d.meta)||void 0===n?void 0:n.closed_at),first_closed_by:e.first_closed_by||(null===(l=null===(o=t.payload)||void 0===o?void 0:o.meta)||void 0===l?void 0:l.changed_by),kanban_stage_id:+(null===(c=t.payload.data)||void 0===c?void 0:c.toColumnId)}):e}))},dndHandlerDeleteCardFromColumn:e=>{e.dndDealItem.isDeleteFromColumn=!0},dndHandlerAddCardFromColumn:e=>{e.dndDealItem.isAddToColumn=!0},clearDNDItem:e=>{e.dndDealItem=o},clearCreatedDeal:e=>{e.createdDeal={id:0}},changeReasonForDeal:(e,t)=>{e.deals.data=e.deals.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.dealFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.dealFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.dealFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.dealFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[n.fetchDeals.fulfilled.type]:(e,t)=>{e.loadingDealList=!1,e.errorMessage="",e.deals=t.payload},[n.fetchDeals.pending.type]:e=>{e.loadingDealList=!0,e.errorMessage=""},[n.fetchDeals.rejected.type]:(e,t)=>{e.loadingDealList=!1,e.errorMessage=t.payload},[n.fetchDealsWithFilters.fulfilled.type]:(e,t)=>{e.loadingDealList=t.payload.aborted,e.errorMessage="",e.deals=t.payload.aborted?e.deals:t.payload},[n.fetchDealsWithFilters.pending.type]:e=>{e.loadingDealList=!0,e.errorMessage=""},[n.createDeal.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.deals.data.unshift(t.payload),e.deals.meta.total=++e.deals.meta.total},[n.fetchDealsWithFilters.rejected.type]:(e,t)=>{e.loadingDealList=!1,e.errorMessage=t.payload},[n.createDeal.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createDeal.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createDealFromKanban.fulfilled.type]:(e,t)=>{var a,r,i;e.loading=!1,e.errorMessage="",e.deals.data.unshift(null===(a=t.payload)||void 0===a?void 0:a.data),(null===(r=t.payload)||void 0===r?void 0:r.dontRenderInKanban)||(e.createdDeal=null===(i=t.payload)||void 0===i?void 0:i.data)},[n.createDealFromKanban.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createDealFromKanban.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateDeal.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.deals.data=e.deals.data.map((e=>e.id===t.payload.id?t.payload:e))},[n.updateDeal.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateDeal.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteDeal.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.deals.data=e.deals.data.filter((e=>e.id!==t.payload)),e.deleteDealId=t.payload},[n.deleteDeal.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteDeal.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.massDealsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingDealList=!1,e.errorMessage="",e.deals.data=e.deals.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteDealIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.deals.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.deals.meta.total=t.payload.exceptIds.length:e.deals.meta.total=e.deals.meta.total-t.payload.entityIds.length},[n.massDealsDeletion.pending.type]:e=>{e.loading=!0,e.loadingDealList=!0,e.errorMessage=""},[n.massDealsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingDealList=!1,e.errorMessage=t.payload},[n.massDealsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[n.massDealsEditing.pending.type]:e=>{e.loading=!0,e.loadingDealList=!0,e.errorMessage=""},[n.massDealsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingDealList=!1,e.errorMessage=t.payload},[n.fetchFieldsForDeal.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingDealFields=!1,e.errorMessage="",e.dealFields=t.payload,e.dealFields.data.splice(0,0,s.idColumn),e.dealFields.data.splice(2,0,u),e.dealFields.data.splice(0,0,s.taskField),e.dealFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),(null===(a=Object.keys(e.dealFilters))||void 0===a?void 0:a.length)||(e.dealFilters=Object.assign(Object.assign(Object.assign({},e.dealFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{select:0}))},[n.fetchFieldsForDeal.pending.type]:e=>{e.loading=!0,e.loadingDealFields=!0,e.errorMessage=""},[n.fetchFieldsForDeal.rejected.type]:(e,t)=>{e.loading=!1,e.loadingDealFields=!1,e.errorMessage=t.payload},[n.updateDealField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[n.updateDealField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateDealField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateDealListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[n.updateDealListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateDealListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createDealField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data.push(t.payload)},[n.createDealField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createDealField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteDealListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[n.deleteDealListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteDealListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteDealField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.filter((e=>e.code!==t.payload))},[n.deleteDealField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteDealField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.moveDealFromStageToStage.fulfilled.type]:(e,t)=>{var a;e.movingCard=!1,e.errorMessage="",(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.funnelHasChanged)?e.deals.data=e.deals.data.filter((e=>{var a;return(null==e?void 0:e.id)!==(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)})):e.deals.data=e.deals.data.map((e=>{var a,r,i,s,d;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:t.payload.stageId,updated_at:Math.floor((new Date).valueOf()/1e3),changed_by:null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.profileId}),(null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.isFinishedStage)&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||(null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.profileId),closed_by:null===(d=null==t?void 0:t.payload)||void 0===d?void 0:d.profileId}):e}))},[n.moveDealFromStageToStage.pending.type]:e=>{e.movingCard=!0,e.errorMessage=""},[n.moveDealFromStageToStage.rejected.type]:(e,t)=>{e.movingCard=!1,e.errorMessage=t.payload}}});r=p.actions,t.changeFilterDeals=r.changeFilterDeals,t.changeItemsFilterDeals=r.changeItemsFilterDeals,t.changeTaskTime=r.changeTaskTime,t.clearDeals=r.clearDeals,t.clearDealsFilter=r.clearDealsFilter,t.moveDealChangeCardInColumn=r.moveDealChangeCardInColumn,t.clearCreatedDeal=r.clearCreatedDeal,t.dndHandlerAddCardFromColumn=r.dndHandlerAddCardFromColumn,t.dndHandlerDeleteCardFromColumn=r.dndHandlerDeleteCardFromColumn,t.clearDNDItem=r.clearDNDItem,t.changeReasonForDeal=r.changeReasonForDeal,t.setDeleteAllFromKanban=r.setDeleteAllFromKanban,t.setIsNewPreset=r.setIsNewPreset,t.setCurrentPreset=r.setCurrentPreset,t.setStandardPreset=r.setStandardPreset,t.setFilterPresets=r.setFilterPresets,t.setCardBlocks=r.setCardBlocks,t.default=p.reducer},1884:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchStagesForDealsFunnel=t.deleteReasonsForDealsFunnelStage=t.editReasonsForDealsFunnelStage=t.createReasonsForDealsFunnelStage=t.deleteStageForDealsFunnel=t.editStageForDealsFunnel=t.createStageForDealsFunnel=t.deleteDealsFunnel=t.editDealsFunnel=t.createDealsFunnel=t.fetchDealsFunnel=void 0;const s=a(5184),d=a(4809);t.fetchDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/fetchDealsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===e?void 0:e.getDealsFunnels();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/createDealsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.createDealsFunnel(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/editDealsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{id:r}=e,s=i(e,["id"]);try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.updateDealsFunnel(r,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/deleteDealsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.deleteDealsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createStageForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/createStageForDealsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.createStageForDealsFunnel(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnel_id})}catch(e){return t.rejectWithValue("Failure")}})))),t.editStageForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/editStageForDealsFunnel",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){var r;try{const a=yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===r?void 0:r.updateStageForDealsFunnel(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteStageForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/deleteStageForDealsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.deleteStageForDealsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createReasonsForDealsFunnelStage=(0,s.createAsyncThunk)("dealsFunnel/createReasonsForDealsFunnelStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.createReasonsForDealsFunnelStage(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnelId})}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonsForDealsFunnelStage=(0,s.createAsyncThunk)("dealsFunnel/editReasonsForDealsFunnelStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{id:r}=e,s=i(e,["id"]);try{const e=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.updateReasonsForDealsFunnelStage(r,s);return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForDealsFunnelStage=(0,s.createAsyncThunk)("dealsFunnel/deleteReasonsForDealsFunnelStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.deleteReasonsForDealsFunnelStage(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchStagesForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/fetchStagesForDealsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.getStagesForDealsFunnel(e);return{data:(null==t?void 0:t.data).data,funnelId:e}}catch(e){return t.rejectWithValue("Failure")}}))))},7326:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.changeModalViewMode=t.changeDealFunnelReasons=t.changeDealFunnelState=void 0;const i=a(5184),s=a(2089),d=a(1884),n=(0,i.createSlice)({name:"dealsFunnel",initialState:{dealsFunnel:[],dealsFunnelLoading:!1,errorMessage:null,modalViewMode:!1},reducers:{changeDealFunnelState:(e,t)=>{e.dealsFunnel=e.dealsFunnel.map((e=>e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:t.payload.stages}):e))},changeDealFunnelReasons:(e,t)=>{e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.stageId?Object.assign(Object.assign({},e),{reasons:t.payload.reasons}):e))})}))},changeModalViewMode:(e,t)=>{e.modalViewMode=t.payload}},extraReducers:{[d.fetchDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=t.payload.map((e=>Object.assign(Object.assign({},e),{stages:e.stages.sort(((e,t)=>e.sort-t.sort))})))},[d.fetchDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.fetchDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.createDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel.push(t.payload)},[d.createDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.createDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.editDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[d.editDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.editDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.deleteDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[d.deleteDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.deleteDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.createStageForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:(0,s.sortStagesWhenCreateNew)({data:e.stages},t.payload)}):e))},[d.createStageForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.createStageForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.editStageForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))},[d.editStageForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.editStageForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.deleteStageForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>e.stages.some((e=>e.id===t.payload))?Object.assign(Object.assign({},e),{stages:e.stages.filter((e=>e.id!==t.payload))}):e))},[d.deleteStageForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.deleteStageForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.createReasonsForDealsFunnelStage.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>"FAIL"===e.stage_code?Object.assign(Object.assign({},e),{reasons:[...e.reasons,t.payload]}):e))}):e))},[d.createReasonsForDealsFunnelStage.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.createReasonsForDealsFunnelStage.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.editReasonsForDealsFunnelStage.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>{var a;return Object.assign(Object.assign({},e),{reasons:null===(a=e.reasons)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))})}))},[d.editReasonsForDealsFunnelStage.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.editReasonsForDealsFunnelStage.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.deleteReasonsForDealsFunnelStage.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel.forEach((e=>{var a;null===(a=e.stages)||void 0===a||a.forEach((e=>{var a;e.reasons=null===(a=e.reasons)||void 0===a?void 0:a.filter((e=>e.id!==t.payload))}))}))},[d.deleteReasonsForDealsFunnelStage.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.deleteReasonsForDealsFunnelStage.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[d.fetchStagesForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null;const{funnelId:a,data:r}=t.payload;e.dealsFunnel=e.dealsFunnel.map((e=>e.id===a?Object.assign(Object.assign({},e),{stages:r}):e))},[d.fetchStagesForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[d.fetchStagesForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload}}});t.default=n.reducer,r=n.actions,t.changeDealFunnelState=r.changeDealFunnelState,t.changeDealFunnelReasons=r.changeDealFunnelReasons,t.changeModalViewMode=r.changeModalViewMode},3296:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReasonsForDealsStage=t.editReasonForDealsStage=t.createReasonsForDealsStage=t.fetchReasonsForDeals=t.deleteDealsStage=t.editDealsStage=t.createDealsStage=t.fetchDealsStages=void 0;const s=a(5184),d=a(4809),n=a(3970);t.fetchDealsStages=(0,s.createAsyncThunk)("tasks/fetchDealsStages",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===e?void 0:e.getDealsStages()).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDealsStage=(0,s.createAsyncThunk)("deals/createDealsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.createDealsStage(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editDealsStage=(0,s.createAsyncThunk)("tasks/editDealsStage",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){var r;try{return(yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===r?void 0:r.updateDealsStage(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteDealsStage=(0,s.createAsyncThunk)("stages/deleteDealsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.deleteDealsStage(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchReasonsForDeals=(0,s.createAsyncThunk)("leads/fetchReasonsForDeals",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===e?void 0:e.getDealsReasons(Number(n.EntityIds.deals))).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createReasonsForDealsStage=(0,s.createAsyncThunk)("stages/createReasonsForDealsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.createDealsStageReasons(Number(n.EntityIds.deals),e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonForDealsStage=(0,s.createAsyncThunk)("stages/editReasonForDealsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{id:r}=e,s=i(e,["id"]);try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.updateDealsReason(r,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForDealsStage=(0,s.createAsyncThunk)("stages/deleteReasonsForDealsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.deleteDealsReason(e),e}catch(e){return t.rejectWithValue(e)}}))))},2591:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.changeDealItem=t.changeSortingForDealsReasons=t.changeDealsStagesSortState=t.changeDealsColumnsState=void 0;const i=a(5184),s=a(2089),d=a(3296),n=(0,i.createSlice)({name:"deals",initialState:{stages:{data:[]},stage:{},errorMessage:"",loading:!1,reasonsLoading:!1,dealsColumns:{},reasons:{}},reducers:{changeDealsColumnsState:(e,t)=>{e.dealsColumns=t.payload.data},changeDealsStagesSortState:(e,t)=>{e.stages.data=t.payload},changeSortingForDealsReasons:(e,t)=>{e.reasons.FAIL=t.payload},changeDealItem:(e,t)=>{e.dealsColumns=Object.entries(e.dealsColumns).reduce(((e,[a,r])=>{var i;if(r.items.map((e=>+e.id)).includes((null===(i=t.payload)||void 0===i?void 0:i.id)||0)){const i=Object.assign(Object.assign({},r),{items:r.items.map((e=>{var a,r;return+e.id==+t.payload.id?Object.assign(Object.assign(Object.assign(Object.assign({},e),{title:(null===(a=t.payload)||void 0===a?void 0:a.title)||(null==e?void 0:e.title),preparedTitle:(null===(r=t.payload)||void 0===r?void 0:r.title)||(null==e?void 0:e.title)}),t.payload),{id:String(e.id)}):e}))});return Object.assign(Object.assign({},e),{[a]:i})}return Object.assign(Object.assign({},e),{[a]:r})}),{})}},extraReducers:{[d.fetchDealsStages.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages=t.payload},[d.fetchDealsStages.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.fetchDealsStages.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=(0,s.sortStagesWhenCreateNew)(e.stages,t.payload)},[d.createDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.editDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[d.editDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.editDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[d.deleteDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.fetchReasonsForDeals.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons=t.payload},[d.fetchReasonsForDeals.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.fetchReasonsForDeals.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createReasonsForDealsStage.fulfilled.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage="",e.reasons.FAIL.push(t.payload)},[d.createReasonsForDealsStage.pending.type]:e=>{e.reasonsLoading=!0,e.errorMessage=""},[d.createReasonsForDealsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage=t.payload},[d.editReasonForDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))},[d.editReasonForDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.editReasonForDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteReasonsForDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[d.deleteReasonsForDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteReasonsForDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});r=n.actions,t.changeDealsColumnsState=r.changeDealsColumnsState,t.changeDealsStagesSortState=r.changeDealsStagesSortState,t.changeSortingForDealsReasons=r.changeSortingForDealsReasons,t.changeDealItem=r.changeDealItem,t.default=n.reducer},5105:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteArrayTemplates=t.deleteTemplate=t.updateTemplate=t.createTemplate=t.fetchDocumentTemplatesFields=t.fetchDocumentTemplates=void 0;const s=a(5184),d=a(4809),n=a(3970);t.fetchDocumentTemplates=(0,s.createAsyncThunk)("documentTemplates/fetchDocumentTemplates",((e,t)=>r(void 0,void 0,void 0,(function*(){var a,r;try{const t=Object.assign(Object.assign(Object.assign({page:e.params.page,list:e.params.list},e.params.search?{search:e.params.search}:{}),{is_active:(Array.isArray(e.params.is_active)?e.params.is_active:[e.params.is_active]).map((e=>"active"===e?1:"noActive"===e?0:e)),create_between:e.params.create_between,update_between:e.params.update_between}),null===(a=e.params.binding_entities_template)||void 0===a?void 0:a.reduce(((e,t,a)=>(e[`binding_entities[${a}][entity_id]`]=t.entity_id,t.funnels.forEach(((t,r)=>{e[`binding_entities[${a}][funnels][${r}]`]=t})),e)),{})),i=yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDocumentTemplatesService)||void 0===r?void 0:r.getDocumentTemplates(t,null==e?void 0:e.signal);return null==i?void 0:i.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchDocumentTemplatesFields=(0,s.createAsyncThunk)("documentTemplates/fetchDocumentTemplatesFields",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=null==e?void 0:e.params,{search:r}=t,s=i(t,["search"]),n=Object.assign(Object.assign({},s),r?{search:r}:{}),o=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmDocumentTemplatesService)||void 0===a?void 0:a.getDocumentTemplatesFields(n,null==e?void 0:e.signal);return null==o?void 0:o.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.createTemplate=(0,s.createAsyncThunk)("documentTemplates/createTemplate",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=new FormData;t.append("files[]",e.item.file),t.append("entityType","document_templates");const r=yield d.uspacySdk.httpClient.client.post(`${n.API_PREFIX_FILES}/files`,t,{headers:{"Content-Type":void 0}}),i=null==r?void 0:r.data,s=Object.assign(Object.assign({},e.item),{file:null===(a=null==i?void 0:i.data[0])||void 0===a?void 0:a.id}),o=yield d.uspacySdk.crmDocumentTemplatesService.createTemplate(s);return null==o?void 0:o.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateTemplate=(0,s.createAsyncThunk)("documentTemplates/updateTemplate",((e,t)=>r(void 0,void 0,void 0,(function*(){var a,r,s;try{let t={data:[{id:null}]};if(!(null===(a=e.item.file)||void 0===a?void 0:a.id)){const a=new FormData;a.append("files[]",e.item.file),a.append("entityType","document_templates"),a.append("entityId",e.item.id.toString());const r=yield d.uspacySdk.httpClient.client.post(`${n.API_PREFIX_FILES}/files`,a,{headers:{"Content-Type":void 0}});t=null==r?void 0:r.data}const o=e.item,{file:l,numerator_id:c}=o,u=i(o,["file","numerator_id"]),p=Object.assign(Object.assign({},u),(null===(r=null==t?void 0:t.data[0])||void 0===r?void 0:r.id)&&{file:null===(s=null==t?void 0:t.data[0])||void 0===s?void 0:s.id}),y=yield d.uspacySdk.crmDocumentTemplatesService.updateTemplate(e.item.id,p);return null==y?void 0:y.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteTemplate=(0,s.createAsyncThunk)("documentTemplates/deleteTemplate",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDocumentTemplatesService.deleteTemplate(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteArrayTemplates=(0,s.createAsyncThunk)("documentTemplates/deleteArrayTemplates",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmDocumentTemplatesService.deleteArrayTemplates(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},9222:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.changeFilesTemplate=t.toDefaultTemplate=t.changeTemplate=t.fillTemplate=t.changeFilterByType=t.changeFiltersByType=t.clearFilterByType=t.defaultTemplate=void 0;const i=a(5184),s=a(5105);t.defaultTemplate={name:"",is_active:!0,binding_entities:[],access:{departments:[],users:[]},file:null,numerator_id:0};const d={documentTemplates:{data:[],meta:{},total_templates_count:0},documentTemplatesFilters:{page:1,list:20,binding_entities_template:[],updated_at:[],created_at:[],createdAtCertainDateOrPeriod:[],updatedAtCertainDateOrPeriod:[],search:"",create_between:[],is_active:[],update_between:[]},template:t.defaultTemplate,documentTemplatesFields:{data:[],meta:{}},documentTemplatesFieldsFilters:{page:1,list:20,binding_entities:[],search:""},loadingDocumentTemplate:!1,loadingDocumentTemplates:!1,loadingDocumentTemplatesFields:!1,error:null},n=(0,i.createSlice)({name:"documentTemplates",initialState:d,reducers:{changeFilterByType:(e,t)=>{e[`${t.payload.type}Filters`][t.payload.key]=t.payload.value},changeFiltersByType:(e,t)=>{e[`${t.payload.type}Filters`]=t.payload.filters},clearFilterByType:(e,t)=>{e[`${t.payload.type}Filters`]=d[`${t.payload.type}Filters`]},fillTemplate:(e,t)=>{e.template=t.payload.item},changeTemplate:(e,t)=>{e.template=Object.assign(Object.assign({},e.template),t.payload.item)},toDefaultTemplate:e=>{e.template=t.defaultTemplate},changeFilesTemplate:(e,t)=>{e.documentTemplates.data=t.payload.items}},extraReducers:{[s.fetchDocumentTemplates.fulfilled.type]:(e,t)=>{var a;e.loadingDocumentTemplates=!!(null===(a=t.payload)||void 0===a?void 0:a.aborted),e.error=null,e.documentTemplates=t.payload.aborted?e.documentTemplates:t.payload},[s.fetchDocumentTemplates.pending.type]:e=>{e.loadingDocumentTemplates=!0,e.error=null},[s.fetchDocumentTemplates.rejected.type]:(e,t)=>{e.loadingDocumentTemplates=!1,e.error=t.payload},[s.fetchDocumentTemplatesFields.fulfilled.type]:(e,t)=>{var a;e.loadingDocumentTemplatesFields=!!(null===(a=t.payload)||void 0===a?void 0:a.aborted),e.error=null,e.documentTemplatesFields=t.payload.aborted?e.documentTemplatesFields:t.payload},[s.fetchDocumentTemplatesFields.pending.type]:e=>{e.loadingDocumentTemplatesFields=!0,e.error=null},[s.fetchDocumentTemplatesFields.rejected.type]:(e,t)=>{e.loadingDocumentTemplatesFields=!1,e.error=t.payload},[s.createTemplate.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:Object.assign(Object.assign({},e.documentTemplates.meta),{total:e.documentTemplates.meta.total+1}),data:[a.payload,...e.documentTemplates.data],total_templates_count:e.documentTemplates.total_templates_count+1},e.template=t.defaultTemplate},[s.createTemplate.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.createTemplate.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload},[s.updateTemplate.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:e.documentTemplates.meta,data:e.documentTemplates.data.map((e=>e.id===a.payload.id?a.payload:e)),total_templates_count:e.documentTemplates.total_templates_count},e.template=t.defaultTemplate},[s.updateTemplate.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.updateTemplate.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload},[s.deleteTemplate.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:Object.assign(Object.assign({},e.documentTemplates.meta),{total:e.documentTemplates.meta.total-1}),data:e.documentTemplates.data.filter((e=>e.id!==a.payload)),total_templates_count:e.documentTemplates.total_templates_count-1},e.template=t.defaultTemplate},[s.deleteTemplate.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.deleteTemplate.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload},[s.deleteArrayTemplates.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:Object.assign(Object.assign({},e.documentTemplates.meta),{total:e.documentTemplates.meta.total-a.payload.length}),data:e.documentTemplates.data.filter((e=>!a.payload.includes(e.id))),total_templates_count:e.documentTemplates.total_templates_count-a.payload.length},e.template=t.defaultTemplate},[s.deleteArrayTemplates.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.deleteArrayTemplates.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload}}});r=n.actions,t.clearFilterByType=r.clearFilterByType,t.changeFiltersByType=r.changeFiltersByType,t.changeFilterByType=r.changeFilterByType,t.fillTemplate=r.fillTemplate,t.changeTemplate=r.changeTemplate,t.toDefaultTemplate=r.toDefaultTemplate,t.changeFilesTemplate=r.changeFilesTemplate,t.default=n.reducer},2187:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.createUniversalEntityItemFromKanban=t.moveUniversalItemFromStageToStage=t.massUniversalEntityItemsEditing=t.massUniversalEntityItemsDeletion=t.deleteUniversalEntityItem=t.updateUniversalEntityItem=t.createUniversalEntityItem=t.fetchUniversalEntityItemsWithFilters=t.fetchEntityItemsForUniversalEntity=t.deleteReasonForUniversalEntity=t.editReasonForUniversalEntity=t.createReasonsForUniversalEntity=t.fetchStagesForUniversalEntity=t.deleteStageForUniversalEntity=t.editStageForUniversalEntity=t.createStageForUniversalEntity=t.deleteFunnelForUniversalEntity=t.editFunnelForUniversalEntity=t.createFunnelForUniversalEntity=t.deleteFieldForUniversalEntity=t.deleteListValuesForUniversalEntity=t.createFieldForUniversalEntity=t.updateListValuesForUniversalEntity=t.updateFieldForUniversalEntity=t.fetchFieldsForUniversalEntity=t.fetchUniversalFunnel=t.editUniversalEntity=t.deleteUniversalEntity=t.createUniversalEntity=t.fetchEntitiesWithFunnels=t.fetchEntities=void 0;const s=a(5184),d=a(4809),n=a(9860);t.fetchEntities=(0,s.createAsyncThunk)("entities/fetchEntities",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmEntitiesService.getEntities();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchEntitiesWithFunnels=(0,s.createAsyncThunk)("entities/fetchEntitiesWithFunnels",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmEntitiesService.getEntitiesWithFunnels();return null==e?void 0:e.data}catch(e){return t.rejectWithValue(e)}})))),t.createUniversalEntity=(0,s.createAsyncThunk)("entities/createUniversalEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmEntitiesService.createEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteUniversalEntity=(0,s.createAsyncThunk)("entities/deleteEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntity(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.editUniversalEntity=(0,s.createAsyncThunk)("entities/editEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmEntitiesService.updateEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.fetchUniversalFunnel=(0,s.createAsyncThunk)("entities/fetchUniversalFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmEntitiesService.getEntityFunnel(e);return{res:null==t?void 0:t.data,code:e}}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchFieldsForUniversalEntity=(0,s.createAsyncThunk)("entities/fetchFieldsForUniversalEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmEntitiesService.getEntityFields(e);return{res:null==t?void 0:t.data,code:e}}catch(e){return t.rejectWithValue("Failure")}})))),t.updateFieldForUniversalEntity=(0,s.createAsyncThunk)("entities/updateFieldForUniversalEntity",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.updateEntityField(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateListValuesForUniversalEntity=(0,s.createAsyncThunk)("entities/updateListValuesForUniversalEntity",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.updateEntityListValues(t,e);return{code:null==e?void 0:e.code,values:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.createFieldForUniversalEntity=(0,s.createAsyncThunk)("entities/createFieldForUniversalEntity",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.createEntityField(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteListValuesForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteListValuesForUniversalEntity",(({value:e,fieldCode:t,entityCode:a},i)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityListValues(a,t,e),{value:e,fieldCode:t,entityCode:a}}catch(e){return i.rejectWithValue("Failure")}})))),t.deleteFieldForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteLeadFieldForUniversalEntity",(({fieldCode:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityField(t,e),{fieldCode:e,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.createFunnelForUniversalEntity=(0,s.createAsyncThunk)("entities/createFunnelForUniversalEntity",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.createEntityFunnel(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.editFunnelForUniversalEntity=(0,s.createAsyncThunk)("entities/editFunnelForUniversalEntity",(({funnelData:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){const{id:r}=e,s=i(e,["id"]);try{const e=yield d.uspacySdk.crmEntitiesService.updateEntityFunnel(t,r,s);return{response:null==e?void 0:e.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteFunnelForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteFunnelForUniversalEntity",(({id:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityFunnel(t,e),{id:e,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.createStageForUniversalEntity=(0,s.createAsyncThunk)("entities/createStageForUniversalEntity",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){const{funnel_id:r}=e;try{const a=yield d.uspacySdk.crmEntitiesService.createEntityStage(t,e);return{response:null==a?void 0:a.data,entityCode:t,funnel_id:r}}catch(e){return a.rejectWithValue("Failure")}})))),t.editStageForUniversalEntity=(0,s.createAsyncThunk)("entities/editStageForUniversalEntity",(({id:e,data:t,entityCode:a,funnelId:i},s)=>r(void 0,void 0,void 0,(function*(){try{const r=yield d.uspacySdk.crmEntitiesService.updateEntityStage(a,e,t);return{response:null==r?void 0:r.data,funnelId:i,entityCode:a}}catch(e){return s.rejectWithValue("Failure")}})))),t.deleteStageForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteStageForUniversalEntity",(({id:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityStage(t,e),{id:e,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.fetchStagesForUniversalEntity=(0,s.createAsyncThunk)("entities/fetchStagesForForUniversalEntity",(({funnelId:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.getEntityStages(t,e);return{response:{data:(null==a?void 0:a.data).data,funnelId:e},funnelId:e,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.createReasonsForUniversalEntity=(0,s.createAsyncThunk)("entities/createReasonsForForUniversalEntity",(({reasonData:e,funnelId:t,entityCode:a},i)=>r(void 0,void 0,void 0,(function*(){try{const r=yield d.uspacySdk.crmEntitiesService.createEntityReason(t,e);return{response:null==r?void 0:r.data,funnelId:t,entityCode:a}}catch(e){return i.rejectWithValue("Failure")}})))),t.editReasonForUniversalEntity=(0,s.createAsyncThunk)("entities/editReasonForUniversalEntity",(({reasonData:e,funnelId:t,entityCode:a},s)=>r(void 0,void 0,void 0,(function*(){const{id:r}=e,n=i(e,["id"]);try{const e=yield d.uspacySdk.crmEntitiesService.updateEntityReason(r,n);return{response:null==e?void 0:e.data,funnelId:t,entityCode:a}}catch(e){return s.rejectWithValue(e)}})))),t.deleteReasonForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteReasonForUniversalEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityReason(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchEntityItemsForUniversalEntity=(0,s.createAsyncThunk)("entitites/fetchEntityItemsForUniversalEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmEntitiesService.getEntityItems(e);return{res:null==t?void 0:t.data,entityCode:e}}catch(e){return t.rejectWithValue(e)}})))),t.fetchUniversalEntityItemsWithFilters=(0,s.createAsyncThunk)("entitites/fetchUniversalEntityItemsWithFilters",(({data:e},t)=>r(void 0,void 0,void 0,(function*(){try{const t=(0,n.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),a=e.params.entityCode,r=e.signal,i=yield d.uspacySdk.crmEntitiesService.getEntityItemsWithFilters(a,t,r,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return{res:null==i?void 0:i.data,entityCode:a,signal:r}}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue(a)}})))),t.createUniversalEntityItem=(0,s.createAsyncThunk)("entitites/createUniversalEntityItem",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.createEntityItem(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateUniversalEntityItem=(0,s.createAsyncThunk)("entitites/updateUniversalEntityItem",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const{id:a}=e,r=i(e,["id"]),s=yield d.uspacySdk.crmEntitiesService.updateEntityItem(t,a,r);return null==s?void 0:s.data}catch(e){return a.rejectWithValue(e)}})))),t.deleteUniversalEntityItem=(0,s.createAsyncThunk)("entitites/deleteUniversalEntityItem",(({id:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.deleteEntityItem(t,e),{id:e,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.massUniversalEntityItemsDeletion=(0,s.createAsyncThunk)("entities/massUniversalEntityItemsDeletion",(({entityCode:e,entityIds:t,exceptIds:a,all:i,params:s},{rejectWithValue:n})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.massEntityItemsDeletion(e,{all:i,entityIds:t,exceptIds:a,params:i&&(null==s?void 0:s.length)?`/?${s}`:""}),{entityCode:e,entityIds:t,exceptIds:a,all:i}}catch(e){return n(e)}})))),t.massUniversalEntityItemsEditing=(0,s.createAsyncThunk)("entities/massUniversalEntityItemsEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l,entityCode:c},{rejectWithValue:u})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.massEntityItemsEditing(c,{all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:"",payload:s,settings:n}),{entityCode:c,entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l}}catch(e){return u(e)}})))),t.moveUniversalItemFromStageToStage=(0,s.createAsyncThunk)("stages/moveUniversalItemFromStageToStage",(({entityId:e,stageId:t,reason_id:a,funnelHasChanged:i,entityCode:s,isFinishedStage:n,profileId:o},l)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmEntitiesService.moveEntityItemFromStageToStage(s,e,t,a),{entityId:e,stageId:t,funnelHasChanged:i,entityCode:s,isFinishedStage:n,profileId:o}}catch(e){return l.rejectWithValue(e)}})))),t.createUniversalEntityItemFromKanban=(0,s.createAsyncThunk)("deals/createUniversalEntityItemFromKanban",(({data:e,entityCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmEntitiesService.createEntityItemFromKanban(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue(e)}}))))},6021:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setUniversalEntityCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.clearDataByTableName=t.clearCreatedUniversalEntityItem=t.clearDNDItem=t.dndHandlerAddCardFromColumn=t.dndHandlerDeleteCardFromColumn=t.moveEntityChangeCardInColumn=t.changeUniversalEntityFunnelState=t.changeUniversalEntityItem=t.changeReasonForUniversalEntityItem=t.changeEntityItemColumnsState=t.changeCreateEntityMode=t.changeEntityCode=t.clearItemsFilterUniversalEntity=t.changeItemsFilterUniversalEntity=t.changeFilterUniversalEntity=t.initialEntityItemFilter=t.initialEntityFilterPreset=void 0;const i=a(5184),s=a(3970),d=a(9860),n=a(2089),o=a(2187);t.initialEntityFilterPreset={isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},t.initialEntityItemFilter={created_at:[],updated_at:[],created_at_period:[],updated_at_period:[],created_by:[],changed_by:[],time_label:[],certainDateOrPeriod:[],owner:[],search:"",page:0,perPage:0,select:0,entityCode:"",boolean_operator:"",stages:[],openDatePicker:!1,table_fields:[],sortModel:[]};const l={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"stage",fieldSectionId:"",sort:"",defaultValue:"",system_field:!1},c={fromColumnId:"",toColumnId:"",cardId:"",item:{},isDeleteFromColumn:!1,isAddToColumn:!1},u={entities:{data:[]},entitiesWithFunnels:{data:[]},entityFilters:{},entityFiltersPreset:t.initialEntityFilterPreset,entityItemsColumns:{},errorMessage:null,loading:!1,loadingItems:!1,createEntityMode:!1,movingCard:!1,deletedItemId:0,deletedItemIds:[],changeItems:[],dndEntityItem:c,createdUniversalEntityItem:{}},p=(0,i.createSlice)({name:"entities",initialState:u,reducers:{changeFilterUniversalEntity:(e,t)=>{e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:Object.assign(Object.assign({},e.entityFilters[t.payload.tableCode]),{[t.payload.key]:t.payload.value})})},changeItemsFilterUniversalEntity:(e,t)=>{e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:t.payload.filters})},clearItemsFilterUniversalEntity:(e,t)=>{var a,r,i,n,o;if(null===(a=Object.keys(e.entityFilters[t.payload.tableCode]))||void 0===a?void 0:a.length){const a=(null===(i=null===(r=e.entities.data.find((e=>e.table_name===t.payload.tableCode)))||void 0===r?void 0:r.fields)||void 0===i?void 0:i.data)||[];e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:Object.assign(Object.assign(Object.assign(Object.assign({},e.entityFilters[t.payload.tableCode]),null==a?void 0:a.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(n=null==e?void 0:e.entityFilters[t.payload.tableCode])||void 0===n?void 0:n.sortModel)||[],table_fields:(null===(o=e.entityFilters[t.payload.tableCode])||void 0===o?void 0:o.table_fields)||[],page:1,perPage:20,select:0,entityCode:e.entityFilters[t.payload.tableCode].entityCode})})}},changeEntityCode:(e,t)=>{e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:Object.assign(Object.assign({},e.entityFilters[t.payload.tableCode]),{entityCode:t.payload.entityCode})})},changeCreateEntityMode:(e,t)=>{e.createEntityMode=t.payload},changeEntityItemColumnsState:(e,t)=>{e.entityItemsColumns=t.payload.data},changeReasonForUniversalEntityItem:(e,t)=>{var a,r;e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>{var a,r;return(null==e?void 0:e.table_name)===t.payload.entityCode&&(null===(r=null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)||void 0===r||r.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))),e}))},changeUniversalEntityItem:(e,t)=>{e.entityItemsColumns=Object.entries(e.entityItemsColumns).reduce(((e,[a,r])=>{var i;if(r.items.map((e=>+e.id)).includes((null===(i=t.payload)||void 0===i?void 0:i.id)||0)){const i=Object.assign(Object.assign({},r),{items:r.items.map((e=>{var a,r;return+e.id==+t.payload.id?Object.assign(Object.assign(Object.assign(Object.assign({},e),{title:(null===(a=t.payload)||void 0===a?void 0:a.title)||(null==e?void 0:e.title),preparedTitle:(null===(r=t.payload)||void 0===r?void 0:r.title)||(null==e?void 0:e.title)}),t.payload),{id:String(e.id)}):e}))});return Object.assign(Object.assign({},e),{[a]:i})}return Object.assign(Object.assign({},e),{[a]:r})}),{})},changeUniversalEntityFunnelState:(e,t)=>{var a,r;e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>e.table_name===t.payload.entityCode?(e.funnels=e.funnels.map((e=>e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:t.payload.stages}):e)),e):e))},moveEntityChangeCardInColumn:(e,t)=>{var a,r;e.dndEntityItem=t.payload.dndItem,e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>{var a,r,i;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)?(null===(i=null===(r=null==e?void 0:e.items)||void 0===r?void 0:r.data)||void 0===i||i.map((e=>{var a,r,i,s,d,n,o,l,c,u;return(null==e?void 0:e.id)===+(null===(i=null===(r=null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.dndItem)||void 0===r?void 0:r.item)||void 0===i?void 0:i.id)?Object.assign(Object.assign(Object.assign({},e),(null===(s=t.payload)||void 0===s?void 0:s.meta)||{}),{first_closed_at:e.first_closed_at||(null===(n=null===(d=t.payload)||void 0===d?void 0:d.meta)||void 0===n?void 0:n.closed_at),first_closed_by:e.first_closed_by||(null===(l=null===(o=t.payload)||void 0===o?void 0:o.meta)||void 0===l?void 0:l.changed_by),kanban_stage_id:+(null===(u=null===(c=null==t?void 0:t.payload)||void 0===c?void 0:c.dndItem)||void 0===u?void 0:u.toColumnId)}):e})),e):e}))},dndHandlerDeleteCardFromColumn:e=>{e.dndEntityItem.isDeleteFromColumn=!0},dndHandlerAddCardFromColumn:e=>{e.dndEntityItem.isAddToColumn=!0},clearDNDItem:e=>{e.dndEntityItem=c},clearCreatedUniversalEntityItem:e=>{e.createdUniversalEntityItem={id:0}},clearDataByTableName:(e,t)=>{var a,r;e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>(null==e?void 0:e.table_name)===(null==t?void 0:t.payload)?Object.assign(Object.assign({},e),{data:[],items:[]}):e)),e.loadingItems=!0},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.entityFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.entityFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.entityFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.entityFiltersPreset.filterPresets=t.payload},setUniversalEntityCardBlocks:(e,t)=>{var a,r;e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>{var a,r;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)?Object.assign(Object.assign({},e),{cardBlocks:null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.cardBlocks}):e}))}},extraReducers:{[o.fetchEntities.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities=t.payload},[o.fetchEntities.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchEntities.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchEntitiesWithFunnels.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entitiesWithFunnels=t.payload},[o.fetchEntitiesWithFunnels.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchEntitiesWithFunnels.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.push(t.payload)},[o.createUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteUniversalEntity.fulfilled.type]:(e,t)=>{var a,r;e.loading=!1,e.errorMessage=null,e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[o.deleteUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editUniversalEntity.fulfilled.type]:(e,t)=>{var a,r;e.loading=!1,e.errorMessage=null,e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[o.editUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchUniversalFunnel.fulfilled.type]:(e,t)=>{var a,r;e.loading=!1,e.errorMessage=null;const i=t.payload.res.map((e=>(e.stages.sort(((e,t)=>e.sort-t.sort)),e))).map((e=>"Universal funnel"===e.title?Object.assign(Object.assign({},e),{title:"newDirection"}):e));null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r||r.forEach((e=>{e.table_name===t.payload.code&&(e.funnels=i)}))},[o.fetchUniversalFunnel.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchUniversalFunnel.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchFieldsForUniversalEntity.fulfilled.type]:(e,t)=>{var a,r;e.loading=!1,e.errorMessage=null,null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r||r.forEach((a=>{a.table_name===t.payload.code&&(a.fields=t.payload.res,a.fields.data.splice(0,0,s.idColumn),a.fields.data.splice(2,0,l),e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.code]:Object.assign(Object.assign(Object.assign(Object.assign({},e.entityFilters[t.payload.code]),a.fields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{select:0,entityCode:t.payload.code})}))}))},[o.fetchFieldsForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchFieldsForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateFieldForUniversalEntity.fulfilled.type]:(e,t)=>{var a,r;e.loading=!1,e.errorMessage=null,e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>{var a,r,i;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)&&(e.fields.data=null===(i=null===(r=null==e?void 0:e.fields)||void 0===r?void 0:r.data)||void 0===i?void 0:i.map((e=>{var a,r,i,s,d;return e.code===(null===(r=null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.response)||void 0===r?void 0:r.code)?Object.assign(Object.assign({},null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.response),{values:(null===(d=null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.response)||void 0===d?void 0:d.values)||(null==e?void 0:e.values)}):e}))),e}))},[o.updateFieldForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateFieldForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createFieldForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{var a,r;e.table_name===t.payload.entityCode&&(null===(r=null===(a=null==e?void 0:e.fields)||void 0===a?void 0:a.data)||void 0===r||r.push(t.payload.response))}))},[o.createFieldForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createFieldForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateListValuesForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.fields.data=e.fields.data.map((e=>(null==e?void 0:e.code)===t.payload.code?Object.assign(Object.assign({},e),{values:t.payload.values}):e))),e)))},[o.updateListValuesForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateListValuesForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteListValuesForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.fields.data=e.fields.data.map((e=>((null==e?void 0:e.code)===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))),e)))},[o.deleteListValuesForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteListValuesForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteFieldForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.fields.data=e.fields.data.filter((e=>(null==e?void 0:e.code)!==t.payload.fieldCode))),e)))},[o.deleteFieldForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteFieldForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createFunnelForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{var a;return e.table_name===t.payload.entityCode&&(null==e?void 0:e.funnels)&&(null===(a=null==e?void 0:e.funnels)||void 0===a||a.push(t.payload.response)),e}))},[o.createFunnelForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createFunnelForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editFunnelForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>e.id===t.payload.response.id?Object.assign(Object.assign({},e),t.payload.response):e))),e)))},[o.editFunnelForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editFunnelForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteFunnelForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.filter((e=>e.id!==t.payload.id))),e)))},[o.deleteFunnelForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteFunnelForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createStageForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:(0,n.sortStagesWhenCreateNew)({data:e.stages},t.payload.response)}):e))),e)))},[o.createStageForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createStageForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editStageForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&e.funnels.map((e=>(e.id===t.payload.funnelId&&(e.stages=e.stages.map((e=>e.id===t.payload.response.id?t.payload.response:e))),e))),e)))},[o.editStageForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editStageForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteStageForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>(e.stages=e.stages.filter((e=>e.id!==t.payload.id)),e)))),e)))},[o.deleteStageForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteStageForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchStagesForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>(e.id===t.payload.funnelId&&(e.stages=t.payload.response.data),e)))),e)))},[o.fetchStagesForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchStagesForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createReasonsForUniversalEntity.fulfilled.type]:(e,t)=>{const{response:a,funnelId:r,entityCode:i}=t.payload;return e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===i&&(e.funnels=e.funnels.map((e=>(e.id===r&&(e.stages=e.stages.map((e=>("FAIL"===e.stage_code&&e.reasons.push(a),e)))),e)))),e))),e},[o.createReasonsForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createReasonsForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editReasonForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>(e.id===t.payload.funnelId&&(e.stages=e.stages.map((e=>("FAIL"===e.stage_code&&(e.reasons=e.reasons.map((e=>e.id===t.payload.response.id?t.payload.response:e))),e)))),e)))),e)))},[o.editReasonForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editReasonForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchEntityItemsForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{e.table_name===t.payload.entityCode&&(e.items=t.payload.res)}))},[o.fetchEntityItemsForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchEntityItemsForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createUniversalEntityItem.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>{var a,r,i;return e.table_name===t.payload.entityCode&&(null===(r=null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)||void 0===r?void 0:r.length)&&(null===(i=null==e?void 0:e.items)||void 0===i||i.data.unshift(t.payload.response),e.items.meta.total=++e.items.meta.total),e}))},[o.createUniversalEntityItem.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createUniversalEntityItem.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateUniversalEntityItem.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>{var a,r;return e.table_name===t.payload.entityCode&&(null===(r=null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)||void 0===r||r.map((e=>e.id===t.payload.data.id?t.payload.data.id:e))),e}))},[o.updateUniversalEntityItem.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateUniversalEntityItem.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteUniversalEntityItem.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{var a;return e.table_name===t.payload.entityCode&&(null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)&&(e.items.data=e.items.data.filter((e=>e.id!==t.payload.id)),e.items.meta.total-=1),e})),e.deletedItemId=t.payload.id},[o.deleteUniversalEntityItem.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteUniversalEntityItem.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.massUniversalEntityItemsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingItems=!1,e.errorMessage=null,e.entities.data.map((a=>{var r,i,s,d,n;return a.table_name===t.payload.entityCode&&(null===(r=null==a?void 0:a.items)||void 0===r?void 0:r.data)&&(a.items.data=a.items.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deletedItemIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),(null===(s=null===(i=null==a?void 0:a.items)||void 0===i?void 0:i.meta)||void 0===s?void 0:s.total)&&(t.payload.all?a.items.meta.total=0:t.payload.all&&t.payload.exceptIds.length?a.items.meta.total=t.payload.exceptIds.length:a.items.meta.total=(null===(n=null===(d=null==a?void 0:a.items)||void 0===d?void 0:d.meta)||void 0===n?void 0:n.total)-t.payload.entityIds.length)),a}))},[o.massUniversalEntityItemsDeletion.pending.type]:e=>{e.loading=!0,e.loadingItems=!0,e.errorMessage=null},[o.massUniversalEntityItemsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingItems=!1,e.errorMessage=t.payload},[o.massUniversalEntityItemsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=null},[o.massUniversalEntityItemsEditing.pending.type]:e=>{e.loading=!0,e.loadingItems=!0,e.errorMessage=null},[o.massUniversalEntityItemsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingItems=!1,e.errorMessage=t.payload},[o.fetchUniversalEntityItemsWithFilters.fulfilled.type]:(e,t)=>{e.loadingItems=t.payload.aborted,e.errorMessage=null,e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.items=t.payload.aborted?e.items:t.payload.res),e)))},[o.fetchUniversalEntityItemsWithFilters.pending.type]:e=>{e.loadingItems=!0,e.errorMessage=null},[o.fetchUniversalEntityItemsWithFilters.rejected.type]:(e,t)=>{e.loadingItems=!1,e.errorMessage=t.payload},[o.moveUniversalItemFromStageToStage.fulfilled.type]:(e,t)=>{var a,r,i,s;e.movingCard=!1,e.errorMessage=null;const d=e.entities.data.findIndex((e=>{var a;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)}));if(-1!==d){const n=e.entities.data[d];(null===(a=null==n?void 0:n.items)||void 0===a?void 0:a.data)&&((null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.funnelHasChanged)?n.items.data=n.items.data.filter((e=>{var a;return(null==e?void 0:e.id)!==(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)})):n.items.data=null===(s=null===(i=null==n?void 0:n.items)||void 0===i?void 0:i.data)||void 0===s?void 0:s.map((e=>{var a,r,i,s,d;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:t.payload.stageId,updated_at:Math.floor((new Date).valueOf()/1e3),changed_by:null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.profileId}),(null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.isFinishedStage)&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||(null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.profileId),closed_by:null===(d=null==t?void 0:t.payload)||void 0===d?void 0:d.profileId}):e})))}},[o.moveUniversalItemFromStageToStage.pending.type]:e=>{e.movingCard=!0,e.errorMessage=null},[o.moveUniversalItemFromStageToStage.rejected.type]:(e,t)=>{e.movingCard=!1,e.errorMessage=t.payload},[o.createUniversalEntityItemFromKanban.fulfilled.type]:(e,t)=>{var a,r;e.loading=!1,e.errorMessage=null,e.entities.data=null===(r=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===r?void 0:r.map((e=>{var a,r,i,s;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)&&Array.isArray(null===(r=e.items)||void 0===r?void 0:r.data)?Object.assign(Object.assign({},e),{items:Object.assign(Object.assign({},e.items),{data:[null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.response,...null===(s=null==e?void 0:e.items)||void 0===s?void 0:s.data]})}):e})),e.createdUniversalEntityItem=t.payload.response},[o.createUniversalEntityItemFromKanban.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createUniversalEntityItemFromKanban.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});r=p.actions,t.changeFilterUniversalEntity=r.changeFilterUniversalEntity,t.changeItemsFilterUniversalEntity=r.changeItemsFilterUniversalEntity,t.clearItemsFilterUniversalEntity=r.clearItemsFilterUniversalEntity,t.changeEntityCode=r.changeEntityCode,t.changeCreateEntityMode=r.changeCreateEntityMode,t.changeEntityItemColumnsState=r.changeEntityItemColumnsState,t.changeReasonForUniversalEntityItem=r.changeReasonForUniversalEntityItem,t.changeUniversalEntityItem=r.changeUniversalEntityItem,t.changeUniversalEntityFunnelState=r.changeUniversalEntityFunnelState,t.moveEntityChangeCardInColumn=r.moveEntityChangeCardInColumn,t.dndHandlerDeleteCardFromColumn=r.dndHandlerDeleteCardFromColumn,t.dndHandlerAddCardFromColumn=r.dndHandlerAddCardFromColumn,t.clearDNDItem=r.clearDNDItem,t.clearCreatedUniversalEntityItem=r.clearCreatedUniversalEntityItem,t.clearDataByTableName=r.clearDataByTableName,t.setDeleteAllFromKanban=r.setDeleteAllFromKanban,t.setIsNewPreset=r.setIsNewPreset,t.setCurrentPreset=r.setCurrentPreset,t.setStandardPreset=r.setStandardPreset,t.setFilterPresets=r.setFilterPresets,t.setUniversalEntityCardBlocks=r.setUniversalEntityCardBlocks,t.default=p.reducer},7704:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.moveLeadFromStageToStage=t.deleteLeadField=t.deleteLeadListValues=t.createLeadField=t.updateLeadListValues=t.updateLeadField=t.fetchFieldsForLead=t.massLeadsEditing=t.massLeadsDeletion=t.deleteLead=t.updateLead=t.createLeadFromKanban=t.createLead=t.fetchLeadsByStages=t.fetchLeadsWithFilters=void 0;const s=a(5184),d=a(4809),n=a(9860),o=a(349);t.fetchLeadsWithFilters=(0,s.createAsyncThunk)("leads/fetchLeadsWithFilters",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=(0,n.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),a=(0,o.makeURIParams)(t),r=yield d.uspacySdk.crmLeadsService.getLeadsWithFilters(a,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==r?void 0:r.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchLeadsByStages=(0,s.createAsyncThunk)("leads/fetchLeadsByStages",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmLeadsService.getLeadsByStage(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createLead=(0,s.createAsyncThunk)("leads/createLead",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmLeadsService.createLead(a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.createLeadFromKanban=(0,s.createAsyncThunk)("leads/createLeadFromKanban",(({data:e,dontRenderInKanban:t},a)=>r(void 0,void 0,void 0,(function*(){try{const{id:a}=e,r=i(e,["id"]),s=yield d.uspacySdk.crmLeadsService.createLead(r);return{data:null==s?void 0:s.data,dontRenderInKanban:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateLead=(0,s.createAsyncThunk)("leads/updateLead",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmLeadsService.updateLead(t,a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteLead=(0,s.createAsyncThunk)("leads/deleteLead",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmLeadsService.deleteLead(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massLeadsDeletion=(0,s.createAsyncThunk)("leads/massLeadsDeletion",(({entityIds:e,exceptIds:t,all:a,params:i},{rejectWithValue:s})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmLeadsService.massLeadsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massLeadsEditing=(0,s.createAsyncThunk)("leads/massLeadsEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l},{rejectWithValue:c})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmLeadsService.massLeadsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:"",payload:s,settings:n}),{entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchFieldsForLead=(0,s.createAsyncThunk)("leads/fetchFieldsForLead",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmLeadsService.getLeadFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateLeadField=(0,s.createAsyncThunk)("leads/updateLeadField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmLeadsService.updateLeadField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateLeadListValues=(0,s.createAsyncThunk)("leads/updateLeadListValues",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmLeadsService.updateLeadListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createLeadField=(0,s.createAsyncThunk)("leads/createLeadField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmLeadsService.createLeadField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteLeadListValues=(0,s.createAsyncThunk)("leads/deleteLeadListValues",(({value:e,fieldCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmLeadsService.deleteLeadListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteLeadField=(0,s.createAsyncThunk)("leads/deleteLeadField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmLeadsService.deleteLeadField(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.moveLeadFromStageToStage=(0,s.createAsyncThunk)("stages/moveLeadFromStageToStage",(({entityId:e,stageId:t,reason_id:a,isFinishedStage:i,profileId:s},n)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmLeadsService.moveLeadFromStageToStage(e,t,a),{entityId:e,stageId:t,isFinishedStage:i,profileId:s}}catch(e){return n.rejectWithValue("Failure")}}))))},905:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.changeReasonForLead=t.clearUpdateLead=t.clearDNDItem=t.dndHandlerAddCardFromColumn=t.dndHandlerDeleteCardFromColumn=t.clearCreatedLead=t.moveLeadChangeCardInColumn=t.clearLeadsFilter=t.clearLeads=t.changeItemsFilterLeads=t.changeFilterLeads=t.initialLeadsFilter=void 0;const i=a(5184),s=a(3970),d=a(9860),n=a(7704),o={fromColumnId:"",toColumnId:"",cardId:"",item:{},isDeleteFromColumn:!1,isAddToColumn:!1},l={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialLeadsFilter={kanban_status:[],stages:[],source:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"",table_fields:[],sortModel:[]};const c={leads:l,lead:{},updatedLead:{},leadCard:{},createdLead:{},leadFields:{data:[]},deleteLeadId:0,deleteLeadIds:[],deleteAllFromKanban:!1,changeLeads:[],leadFilters:{},leadFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingLeadList:!0,loadingLeadFields:!0,movingCard:!1,dndLeadItem:o,cardBlocks:[]},u={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"stage",fieldSectionId:"",system_field:!0,sort:"",defaultValue:""},p=(0,i.createSlice)({name:"leads",initialState:c,reducers:{changeFilterLeads:(e,t)=>{e.leadFilters[t.payload.key]=t.payload.value},changeItemsFilterLeads:(e,t)=>{e.leadFilters=t.payload},clearLeads:e=>{e.leads=l,e.loadingLeadList=!0},clearLeadsFilter:e=>{var t,a,r;(null===(t=Object.keys(e.leadFields.data))||void 0===t?void 0:t.length)&&(e.leadFilters=Object.assign(Object.assign(Object.assign({},e.leadFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.leadFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(r=null==e?void 0:e.leadFilters)||void 0===r?void 0:r.table_fields)||[],page:1,perPage:20}))},moveLeadChangeCardInColumn:(e,t)=>{var a;e.dndLeadItem=null===(a=t.payload)||void 0===a?void 0:a.data,e.leads.data=e.leads.data.map((e=>{var a,r,i,s,d,n,o,l,c;return e.id===+(null===(i=null===(r=null===(a=t.payload)||void 0===a?void 0:a.data)||void 0===r?void 0:r.item)||void 0===i?void 0:i.id)?Object.assign(Object.assign(Object.assign({},e),(null===(s=t.payload)||void 0===s?void 0:s.meta)||{}),{first_closed_at:e.first_closed_at||(null===(n=null===(d=t.payload)||void 0===d?void 0:d.meta)||void 0===n?void 0:n.closed_at),first_closed_by:e.first_closed_by||(null===(l=null===(o=t.payload)||void 0===o?void 0:o.meta)||void 0===l?void 0:l.changed_by),kanban_stage_id:+(null===(c=t.payload.data)||void 0===c?void 0:c.toColumnId)}):e}))},clearCreatedLead:e=>{e.createdLead={id:0}},dndHandlerDeleteCardFromColumn:e=>{e.dndLeadItem.isDeleteFromColumn=!0},dndHandlerAddCardFromColumn:e=>{e.dndLeadItem.isAddToColumn=!0},clearDNDItem:e=>{e.dndLeadItem=o},clearUpdateLead:e=>{e.updatedLead=c.updatedLead},changeReasonForLead:(e,t)=>{e.leads.data=e.leads.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.leadFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.leadFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.leadFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.leadFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[n.fetchLeadsWithFilters.fulfilled.type]:(e,t)=>{e.loadingLeadList=t.payload.aborted,e.errorMessage="",e.leads=t.payload.aborted?e.leads:t.payload},[n.fetchLeadsWithFilters.pending.type]:e=>{e.loadingLeadList=!0,e.errorMessage=""},[n.fetchLeadsWithFilters.rejected.type]:(e,t)=>{e.loadingLeadList=!1,e.errorMessage=t.payload},[n.fetchLeadsByStages.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leads=t.payload},[n.fetchLeadsByStages.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.fetchLeadsByStages.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leads.data.unshift(t.payload),e.createdLead=t.payload,e.leads.meta.total=++e.leads.meta.total},[n.createLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createLeadFromKanban.fulfilled.type]:(e,t)=>{var a,r,i;e.loading=!1,e.errorMessage="",e.leads.data.unshift(null===(a=t.payload)||void 0===a?void 0:a.data),(null===(r=t.payload)||void 0===r?void 0:r.dontRenderInKanban)||(e.createdLead=null===(i=t.payload)||void 0===i?void 0:i.data)},[n.createLeadFromKanban.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createLeadFromKanban.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.updatedLead=t.payload,e.leads.data=e.leads.data.map((e=>e.id===t.payload.id?t.payload:e))},[n.updateLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leads.data=e.leads.data.filter((e=>e.id!==t.payload)),e.deleteLeadId=t.payload,e.leads.meta.total=--e.leads.meta.total},[n.deleteLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.massLeadsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingLeadList=!1,e.errorMessage="",e.leads.data=e.leads.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteLeadIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.leads.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.leads.meta.total=t.payload.exceptIds.length:e.leads.meta.total=e.leads.meta.total-t.payload.entityIds.length},[n.massLeadsDeletion.pending.type]:e=>{e.loading=!0,e.loadingLeadList=!0,e.errorMessage=""},[n.massLeadsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingLeadList=!1,e.errorMessage=t.payload},[n.massLeadsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[n.massLeadsEditing.pending.type]:e=>{e.loading=!0,e.loadingLeadList=!0,e.errorMessage=""},[n.massLeadsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingLeadList=!1,e.errorMessage=t.payload},[n.fetchFieldsForLead.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingLeadFields=!1,e.errorMessage="",e.leadFields=t.payload,e.leadFields.data.splice(0,0,s.idColumn),e.leadFields.data.splice(2,0,u),e.leadFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),(null===(a=Object.keys(e.leadFilters))||void 0===a?void 0:a.length)||(e.leadFilters=Object.assign(Object.assign({},e.leadFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS))},[n.fetchFieldsForLead.pending.type]:e=>{e.loading=!0,e.loadingLeadFields=!0,e.errorMessage=""},[n.fetchFieldsForLead.rejected.type]:(e,t)=>{e.loading=!1,e.loadingLeadFields=!1,e.errorMessage=t.payload},[n.updateLeadField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[n.updateLeadField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateLeadField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.updateLeadListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[n.updateLeadListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.updateLeadListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createLeadField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data.push(t.payload)},[n.createLeadField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createLeadField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteLeadListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[n.deleteLeadListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteLeadListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteLeadField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.filter((e=>e.code!==t.payload))},[n.deleteLeadField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteLeadField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.moveLeadFromStageToStage.fulfilled.type]:(e,t)=>{e.movingCard=!1,e.errorMessage="",e.leads.data=e.leads.data.map((e=>{var a,r,i,s,d;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:+t.payload.stageId,updated_at:Math.floor((new Date).valueOf()/1e3),changed_by:null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.profileId}),(null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.isFinishedStage)&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||(null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.profileId),closed_by:null===(d=null==t?void 0:t.payload)||void 0===d?void 0:d.profileId}):e}))},[n.moveLeadFromStageToStage.pending.type]:e=>{e.movingCard=!0,e.errorMessage=""},[n.moveLeadFromStageToStage.rejected.type]:(e,t)=>{e.movingCard=!1,e.errorMessage=t.payload}}});r=p.actions,t.changeFilterLeads=r.changeFilterLeads,t.changeItemsFilterLeads=r.changeItemsFilterLeads,t.clearLeads=r.clearLeads,t.clearLeadsFilter=r.clearLeadsFilter,t.moveLeadChangeCardInColumn=r.moveLeadChangeCardInColumn,t.clearCreatedLead=r.clearCreatedLead,t.dndHandlerDeleteCardFromColumn=r.dndHandlerDeleteCardFromColumn,t.dndHandlerAddCardFromColumn=r.dndHandlerAddCardFromColumn,t.clearDNDItem=r.clearDNDItem,t.clearUpdateLead=r.clearUpdateLead,t.changeReasonForLead=r.changeReasonForLead,t.setDeleteAllFromKanban=r.setDeleteAllFromKanban,t.setIsNewPreset=r.setIsNewPreset,t.setCurrentPreset=r.setCurrentPreset,t.setStandardPreset=r.setStandardPreset,t.setFilterPresets=r.setFilterPresets,t.setCardBlocks=r.setCardBlocks,t.default=p.reducer},439:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReasonsForLeadsFunnelStage=t.editReasonsForLeadsFunnelStage=t.createReasonsForLeadsFunnelStage=t.deleteStageForLeadsFunnel=t.editStageForLeadsFunnel=t.createStageForLeadsFunnel=t.deleteLeadsFunnel=t.editLeadsFunnel=t.createLeadsFunnel=t.fetchLeadsFunnel=void 0;const s=a(5184),d=a(4809);t.fetchLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/fetchLeadsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===e?void 0:e.getLeadsFunnels();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/createLeadsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.createLeadsFunnel(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/editLeadsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{id:r}=e,s=i(e,["id"]);try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.updateLeadsFunnel(r,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/deleteLeadsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.deleteLeadsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createStageForLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/createStageForLeadsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.createStageForLeadsFunnel(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnel_id})}catch(e){return t.rejectWithValue("Failure")}})))),t.editStageForLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/editStageForLeadsFunnel",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){var r;try{const a=yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===r?void 0:r.updateStageForLeadsFunnel(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteStageForLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/deleteStageForLeadsFunnel",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.deleteStageForLeadsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createReasonsForLeadsFunnelStage=(0,s.createAsyncThunk)("leadsFunnel/createReasonsForLeadsFunnelStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.createReasonsForLeadsFunnelStage(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnelId})}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonsForLeadsFunnelStage=(0,s.createAsyncThunk)("leadsFunnel/editReasonForLeadsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{id:r}=e,s=i(e,["id"]);try{const e=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.updateReasonsForLeadsFunnelStage(r,s);return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForLeadsFunnelStage=(0,s.createAsyncThunk)("leadsFunnel/deleteReasonsForLeadsFunnelStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.deleteReasonsForLeadsFunnelStage(e),e}catch(e){return t.rejectWithValue(e)}}))))},1419:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.changeLeadFunnelReasons=t.changeLeadFunnelStage=void 0;const i=a(5184),s=a(2089),d=a(439),n=(0,i.createSlice)({name:"leadsFunnel",initialState:{leadsFunnel:[],leadsFunnelLoading:!1,errorMessage:null},reducers:{changeLeadFunnelStage:(e,t)=>{e.leadsFunnel=e.leadsFunnel.map((e=>e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:t.payload.stages}):e))},changeLeadFunnelReasons:(e,t)=>{e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.stageId?Object.assign(Object.assign({},e),{reasons:t.payload.reasons}):e))})}))}},extraReducers:{[d.fetchLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=t.payload.map((e=>Object.assign(Object.assign({},e),{stages:e.stages.sort(((e,t)=>e.sort-t.sort))})))},[d.fetchLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.fetchLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.createLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel.push(t.payload)},[d.createLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.createLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.editLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[d.editLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.editLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.deleteLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[d.deleteLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.deleteLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.createStageForLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:(0,s.sortStagesWhenCreateNew)({data:e.stages},t.payload)}):e))},[d.createStageForLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.createStageForLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.editStageForLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))},[d.editStageForLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.editStageForLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.deleteStageForLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>e.stages.some((e=>e.id===t.payload))?Object.assign(Object.assign({},e),{stages:e.stages.filter((e=>e.id!==t.payload))}):e))},[d.deleteStageForLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.deleteStageForLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.createReasonsForLeadsFunnelStage.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>"FAIL"===e.stage_code?Object.assign(Object.assign({},e),{reasons:[...e.reasons,t.payload]}):e))}):e))},[d.createReasonsForLeadsFunnelStage.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.createReasonsForLeadsFunnelStage.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.editReasonsForLeadsFunnelStage.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>{var a;return Object.assign(Object.assign({},e),{reasons:null===(a=e.reasons)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))})}))},[d.editReasonsForLeadsFunnelStage.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.editReasonsForLeadsFunnelStage.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[d.deleteReasonsForLeadsFunnelStage.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel.forEach((e=>{var a;null===(a=e.stages)||void 0===a||a.forEach((e=>{var a;e.reasons=null===(a=e.reasons)||void 0===a?void 0:a.filter((e=>e.id!==t.payload))}))}))},[d.deleteReasonsForLeadsFunnelStage.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[d.deleteReasonsForLeadsFunnelStage.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload}}});r=n.actions,t.changeLeadFunnelStage=r.changeLeadFunnelStage,t.changeLeadFunnelReasons=r.changeLeadFunnelReasons,t.default=n.reducer},8607:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReasonsForLeadsStage=t.editReasonForLeadsStage=t.createReasonsForLeadsStage=t.fetchReasonsForLead=t.deleteLeadsStage=t.editLeadsStage=t.createLeadsStage=t.fetchLeadsStages=void 0;const s=a(5184),d=a(4809),n=a(3970);t.fetchLeadsStages=(0,s.createAsyncThunk)("stages/fetchLeadsStages",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===e?void 0:e.getLeadsStages()).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createLeadsStage=(0,s.createAsyncThunk)("leads/createLeadsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.createLeadsStage(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editLeadsStage=(0,s.createAsyncThunk)("tasks/editLeadsStage",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){var r;try{return(yield null===(r=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===r?void 0:r.updateLeadsStage(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteLeadsStage=(0,s.createAsyncThunk)("stages/deleteLeadsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.deleteLeadsStage(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchReasonsForLead=(0,s.createAsyncThunk)("leads/fetchReasonsForLeads",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===e?void 0:e.getLeadsReasons(Number(n.EntityIds.leads))).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createReasonsForLeadsStage=(0,s.createAsyncThunk)("stages/createReasonsForLeadsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.createLeadsStageReasons(Number(n.EntityIds.leads),e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonForLeadsStage=(0,s.createAsyncThunk)("stages/editReasonForLeadsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{id:r}=e,s=i(e,["id"]);try{return(yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.updateLeadsReason(r,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForLeadsStage=(0,s.createAsyncThunk)("stages/deleteReasonsForLeadsStage",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.deleteLeadsReason(e),e}catch(e){return t.rejectWithValue(e)}}))))},824:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearLeadColumns=t.changeLeadItem=t.changeLeadsStagesFromFunnelState=t.changeSortingForLeadsReasons=t.changeLeadStagesSortState=t.changeLeadsColumnsState=void 0;const i=a(5184),s=a(1897),d=a(2089),n=a(8607),o=(0,i.createSlice)({name:"leads",initialState:{stages:{data:[]},stage:{},errorMessage:"",loading:!1,reasonsLoading:!1,leadsColumns:{},reasons:{}},reducers:{changeLeadsColumnsState:(e,t)=>{e.leadsColumns=t.payload.data;const{isUpdateStages:a,newStageArray:r}=(0,s.changeCRMColumn)(t.payload.data,t.payload.isColumnsChanged,e.stages.data);a&&(e.stages.data=r)},changeLeadStagesSortState:(e,t)=>{e.stages.data=t.payload},changeSortingForLeadsReasons:(e,t)=>{e.reasons.FAIL=t.payload},changeLeadsStagesFromFunnelState:(e,t)=>{void 0!==t.payload&&(e.stages.data=t.payload,e.reasons.FAIL=null==t?void 0:t.payload.filter((e=>"FAIL"===e.stage_code)).flatMap((e=>e.reasons)))},changeLeadItem:(e,t)=>{e.leadsColumns=Object.entries(e.leadsColumns).reduce(((e,[a,r])=>{var i;if(r.items.map((e=>+e.id)).includes((null===(i=t.payload)||void 0===i?void 0:i.id)||0)){const i=Object.assign(Object.assign({},r),{items:r.items.map((e=>{var a,r;return+e.id==+t.payload.id?Object.assign(Object.assign(Object.assign(Object.assign({},e),{title:(null===(a=t.payload)||void 0===a?void 0:a.title)||(null==e?void 0:e.title),preparedTitle:(null===(r=t.payload)||void 0===r?void 0:r.title)||(null==e?void 0:e.title)}),t.payload),{id:String(e.id)}):e}))});return Object.assign(Object.assign({},e),{[a]:i})}return Object.assign(Object.assign({},e),{[a]:r})}),{})},clearLeadColumns:e=>{e.leadsColumns=Object.entries(e.leadsColumns).reduce(((e,[t,a])=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},a),{items:[],total:0})})),{})}},extraReducers:{[n.fetchLeadsStages.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages=t.payload},[n.fetchLeadsStages.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.fetchLeadsStages.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=(0,d.sortStagesWhenCreateNew)(e.stages,t.payload)},[n.createLeadsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createLeadsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.editLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[n.editLeadsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.editLeadsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload))).map(((e,t)=>Object.assign(Object.assign({},e),{sort:10*t})))},[n.deleteLeadsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteLeadsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.fetchReasonsForLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons=t.payload},[n.fetchReasonsForLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.fetchReasonsForLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createReasonsForLeadsStage.fulfilled.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage="",e.reasons.FAIL.push(t.payload)},[n.createReasonsForLeadsStage.pending.type]:e=>{e.reasonsLoading=!0,e.errorMessage=""},[n.createReasonsForLeadsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage=t.payload},[n.editReasonForLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.reasonsLoading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))},[n.editReasonForLeadsStage.pending.type]:e=>{e.reasonsLoading=!0,e.loading=!0,e.errorMessage=""},[n.editReasonForLeadsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.loading=!1,e.errorMessage=t.payload},[n.deleteReasonsForLeadsStage.fulfilled.type]:(e,t)=>{e.reasonsLoading=!1,e.loading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[n.deleteReasonsForLeadsStage.pending.type]:e=>{e.reasonsLoading=!0,e.loading=!0,e.errorMessage=""},[n.deleteReasonsForLeadsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.loading=!1,e.errorMessage=t.payload}}});r=o.actions,t.changeLeadsColumnsState=r.changeLeadsColumnsState,t.changeLeadStagesSortState=r.changeLeadStagesSortState,t.changeSortingForLeadsReasons=r.changeSortingForLeadsReasons,t.changeLeadsStagesFromFunnelState=r.changeLeadsStagesFromFunnelState,t.changeLeadItem=r.changeLeadItem,t.clearLeadColumns=r.clearLeadColumns,t.default=o.reducer},8310:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductField=t.deleteProductListValues=t.createProductField=t.updateProductListValues=t.updateProductField=t.fetchFieldsForProduct=t.massProductsEditing=t.massProductsDeletion=t.deleteProduct=t.updateProduct=t.createProduct=t.fetchProductsWithFilters=t.fetchProducts=void 0;const s=a(5184),d=a(4809),n=a(7109);t.fetchProducts=(0,s.createAsyncThunk)("products/fetchProducts",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===e?void 0:e.getProducts();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchProductsWithFilters=(0,s.createAsyncThunk)("products/fetchProductsWithFilters",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=null===(0,n.normalizeCategories)(e.params.select),r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.params.search?{q:e.params.search}:{}),{page:e.params.page,list:e.params.perPage,availability:Array.isArray(e.params.availability)?e.params.availability:[e.params.availability],type:Array.isArray(e.params.type)?e.params.type:[e.params.type],currency:(e.params.price_from||e.params.price_to)&&e.params.currency}),e.params.price_from?{price_from:Math.round(100*e.params.price_from)}:{}),e.params.price_to?{price_to:Math.round(100*e.params.price_to)}:{}),{balance_from:e.params.balance_from,balance_to:e.params.balance_to,is_active:(Array.isArray(e.params.is_active)?e.params.is_active:[e.params.is_active]).map((e=>"active"===e?1:"noActive"===e?0:e)),product_category_ids:t?" ":(0,n.normalizeCategories)(e.params.select)}),i=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===a?void 0:a.getProductsWithFilters(r,null==e?void 0:e.signal);return null==i?void 0:i.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.createProduct=(0,s.createAsyncThunk)("products/createProduct",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const{id:t}=e,r=i(e,["id"]),s=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===a?void 0:a.createProduct((0,n.normalizeProduct)(r)),o=null==s?void 0:s.data;return(0,n.normalizeProductForView)(o)}catch(e){return t.rejectWithValue(e)}})))),t.updateProduct=(0,s.createAsyncThunk)("products/updateProduct",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const{id:t}=e,r=i(e,["id"]),s=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===a?void 0:a.updateProduct(t,(0,n.normalizeProduct)(r)),o=null==s?void 0:s.data;return(0,n.normalizeProductForView)(o)}catch(e){return t.rejectWithValue(e)}})))),t.deleteProduct=(0,s.createAsyncThunk)("products/deleteProduct",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmProductsService)||void 0===a?void 0:a.deleteProduct(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massProductsDeletion=(0,s.createAsyncThunk)("products/massProductsDeletion",(({entityIds:e,exceptIds:t,all:a,params:i},{rejectWithValue:s})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmProductsService.massProductsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massProductsEditing=(0,s.createAsyncThunk)("products/massProductsEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l},{rejectWithValue:c})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmProductsService.massProductsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:"",payload:s,settings:n}),{entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchFieldsForProduct=(0,s.createAsyncThunk)("products/fetchFieldsForProduct",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmProductsService.getProductFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateProductField=(0,s.createAsyncThunk)("products/updateProductField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmProductsService.updateProductField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateProductListValues=(0,s.createAsyncThunk)("products/updateProductListValues",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmProductsService.updateProductListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductField=(0,s.createAsyncThunk)("products/createProductField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmProductsService.createProductField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductListValues=(0,s.createAsyncThunk)("products/deleteLeadListValues",(({value:e,fieldCode:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmProductsService.deleteProductListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteProductField=(0,s.createAsyncThunk)("products/deleteProductField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmProductsService.deleteProductField(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},4066:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.changeReasonForProduct=t.clearCreatedProduct=t.clearProductsFilter=t.clearProducts=t.changeTaskTime=t.changeItemsFilterProducts=t.changeFilterProducts=t.initialProductsFilter=void 0;const i=a(5184),s=a(3970),d=a(9860),n=a(7109),o=a(8310),l={name:"",code:"",required:!1,editable:!0,show:!0,hidden:!1,multiple:!1,type:"string",system_field:!0,base_field:!0},c={id:null,title:"",product_category_id:0,type:"",article:"",prices:[],measurement_unit_id:null,comment:"",availability:"",is_active:!0,description:"",quantity:null,reserved_quantity:null,remainder:null,preview_image_id:null,file_ids:[],files:[]},u=[Object.assign(Object.assign({},l),{name:"product/service",code:"title",type:"productTitle",required:!0}),Object.assign(Object.assign({},l),{name:"category",code:"product_category_id",type:"productCategory"}),Object.assign(Object.assign({},l),{name:"productType",code:"type",type:"productType"}),Object.assign(Object.assign({},l),{name:"article",code:"article",type:"productArticle"}),Object.assign(Object.assign({},l),{name:"price",code:"prices",type:"productPrice",multiple:!0}),Object.assign(Object.assign({},l),{name:"unit",code:"measurement_unit_id",type:"productUnit"}),Object.assign(Object.assign({},l),{name:"availability",code:"availability",type:"productAvailability"}),Object.assign(Object.assign({},l),{name:"remainder",code:"remainder",type:"productRemind"}),Object.assign(Object.assign({},l),{name:"description",code:"description",type:"textarea"}),Object.assign(Object.assign({},l),{name:"tax",code:"tax",type:"productTax"}),Object.assign(Object.assign({},l),{name:"activityProductFilter",code:"is_active",type:"productActivity"}),Object.assign(Object.assign({},l),{name:"productGallery",code:"files",type:"productGallery"}),Object.assign(Object.assign({},l),{name:"productLink",code:"link",type:"productLink"}),Object.assign(Object.assign({},l),{name:"commentProduct",code:"comment",type:"textarea"}),Object.assign(Object.assign({},l),{name:"currency",code:"currency",type:"label"})],p={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialProductsFilter={availability:[],type:[],currency:"",price_from:null,price_to:null,balance_from:null,balance_to:null,is_active:[],openDatePicker:!1,search:"",page:0,perPage:0,select:0,boolean_operator:"",sortModel:[]};const y={products:Object.assign({},p),product:Object.assign({},p.data[0]),createdProduct:Object.assign({},p.data[0]),productFields:{data:[]},createdAt:[],deleteProductId:0,deleteProductIds:[],deleteAllFromKanban:!1,changeProducts:[],productTime:[],productFilters:t.initialProductsFilter,productFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingProductList:!0},g=(0,i.createSlice)({name:"products",initialState:y,reducers:{changeFilterProducts:(e,t)=>{e.productFilters[t.payload.key]=t.payload.value},changeItemsFilterProducts:(e,t)=>{e.productFilters=t.payload},changeTaskTime:(e,t)=>{e.productTime=t.payload},clearProducts:e=>{e.products=p,e.loadingProductList=!0},clearProductsFilter:e=>{var t;e.productTime=[],(null===(t=Object.keys(e.productFields.data))||void 0===t?void 0:t.length)&&(e.productFilters=Object.assign(Object.assign(Object.assign({},e.productFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{page:1,perPage:20}))},clearCreatedProduct:e=>{e.createdProduct=c},changeReasonForProduct:(e,t)=>{e.products.data=e.products.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.productFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.productFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.productFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.productFiltersPreset.filterPresets=t.payload}},extraReducers:{[o.fetchProducts.fulfilled.type]:(e,t)=>{e.loadingProductList=!1,e.errorMessage="",e.products=t.payload},[o.fetchProducts.pending.type]:e=>{e.loadingProductList=!0,e.errorMessage=""},[o.fetchProducts.rejected.type]:(e,t)=>{e.loadingProductList=!1,e.errorMessage=t.payload},[o.fetchProductsWithFilters.fulfilled.type]:(e,t)=>{e.loadingProductList=t.payload.aborted,e.errorMessage="",e.products=t.payload.aborted?e.products:(0,n.normalizeGetProducts)(t.payload)},[o.fetchProductsWithFilters.pending.type]:e=>{e.loadingProductList=!0,e.errorMessage=""},[o.createProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.products.data.unshift(t.payload),e.products.meta.total=++e.products.meta.total},[o.fetchProductsWithFilters.rejected.type]:(e,t)=>{e.loadingProductList=!1,e.errorMessage=t.payload},[o.createProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.createProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.products.data=e.products.data.map((e=>e.id===t.payload.id?t.payload:e))},[o.updateProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.updateProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.products.data=e.products.data.filter((e=>e.id!==t.payload)),e.deleteProductId=t.payload},[o.deleteProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.deleteProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.massProductsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingProductList=!1,e.errorMessage="",e.products.data=e.products.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteProductIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.products.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.products.meta.total=t.payload.exceptIds.length:e.products.meta.total=e.products.meta.total-t.payload.entityIds.length},[o.massProductsDeletion.pending.type]:e=>{e.loading=!0,e.loadingProductList=!0,e.errorMessage=""},[o.massProductsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingProductList=!1,e.errorMessage=t.payload},[o.massProductsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[o.massProductsEditing.pending.type]:e=>{e.loading=!0,e.loadingProductList=!0,e.errorMessage=""},[o.massProductsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingProductList=!1,e.errorMessage=t.payload},[o.fetchFieldsForProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=(0,n.normalizeProductFields)(t.payload,u),e.productFields.data.splice(0,0,s.idColumn)},[o.fetchFieldsForProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.fetchFieldsForProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateProductField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.map((e=>{var a;const r="preview_image_id"===e.code&&"files"===t.payload.code;if(e.code===t.payload.code||r){const i=r?Object.assign(Object.assign({},t.payload),{code:"preview_image_id",type:"photo"}):t.payload,s=(0,n.normalizeProductField)(i,u);return Object.assign(Object.assign({},s),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)})}return e}))},[o.updateProductField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.updateProductField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateProductListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[o.updateProductListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.updateProductListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createProductField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data.push(t.payload)},[o.createProductField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.createProductField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteProductField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.filter((e=>e.code!==t.payload))},[o.deleteProductField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.deleteProductField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteProductListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[o.deleteProductListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.deleteProductListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});r=g.actions,t.changeFilterProducts=r.changeFilterProducts,t.changeItemsFilterProducts=r.changeItemsFilterProducts,t.changeTaskTime=r.changeTaskTime,t.clearProducts=r.clearProducts,t.clearProductsFilter=r.clearProductsFilter,t.clearCreatedProduct=r.clearCreatedProduct,t.changeReasonForProduct=r.changeReasonForProduct,t.setDeleteAllFromKanban=r.setDeleteAllFromKanban,t.setIsNewPreset=r.setIsNewPreset,t.setCurrentPreset=r.setCurrentPreset,t.setStandardPreset=r.setStandardPreset,t.setFilterPresets=r.setFilterPresets,t.default=g.reducer},7849:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductCategory=t.editProductCategory=t.createProductCategory=t.fetchProductsCategories=void 0;const i=a(5184),s=a(4809);t.fetchProductsCategories=(0,i.createAsyncThunk)("productsCategory/fetchProductsCategory",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===e?void 0:e.getProductCategories();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductCategory=(0,i.createAsyncThunk)("productsCategory/createProductCategory",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.createProductCategory(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductCategory=(0,i.createAsyncThunk)("productsCategory/editProductCategory",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.updateProductCategory(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductCategory=(0,i.createAsyncThunk)("productsCategory/deleteProductCategory",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.deleteProductCategory(e,null),e}catch(e){return t.rejectWithValue(e)}}))))},3295:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearProductCategory=void 0;const r=a(5184),i=a(7849),s={productsCategory:{data:[]},productCategory:{},errorMessage:"",loadingList:!1,loading:!1},d=(0,r.createSlice)({name:"productsCategory",initialState:s,reducers:{clearProductCategory:e=>{e.productCategory=s.productCategory}},extraReducers:{[i.fetchProductsCategories.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsCategory=t.payload},[i.fetchProductsCategories.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[i.fetchProductsCategories.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[i.createProductCategory.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsCategory={data:[...e.productsCategory.data,t.payload]}},[i.createProductCategory.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.createProductCategory.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[i.editProductCategory.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsCategory.data=e.productsCategory.data.map((e=>e.id===t.payload.id?t.payload:e))},[i.editProductCategory.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.editProductCategory.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[i.deleteProductCategory.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsCategory.data=e.productsCategory.data.filter((e=>e.id!==t.payload))},[i.deleteProductCategory.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.deleteProductCategory.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});t.clearProductCategory=d.actions.clearProductCategory,t.default=d.reducer},7278:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductsForEntity=t.deleteProductForEntityById=t.editProductsForEntity=t.editProductForEntity=t.createProductsForEntity=t.createProductForEntity=t.fetchProductForEntity=t.fetchProductsForEntity=t.editInfoProductsForEntity=t.fetchInfoProductsForEntity=void 0;const i=a(5184),s=a(4809);t.fetchInfoProductsForEntity=(0,i.createAsyncThunk)("productsForEntity/fetchInfoProductsForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.getInfoProductsForEntity(e.entityType,e.entityId);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editInfoProductsForEntity=(0,i.createAsyncThunk)("productsForEntity/editInfoProductsForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.updateInfoProductForEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchProductsForEntity=(0,i.createAsyncThunk)("productsForEntity/fetchProductsForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===e?void 0:e.getProductsForEntity();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchProductForEntity=(0,i.createAsyncThunk)("productsForEntity/fetchProductForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.getProductForEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductForEntity=(0,i.createAsyncThunk)("productsForEntity/createProductForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.createProductForEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductsForEntity=(0,i.createAsyncThunk)("productsForEntity/createProductsForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.createProductsForEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductForEntity=(0,i.createAsyncThunk)("productsForEntity/editProductForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.updateProductForEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductsForEntity=(0,i.createAsyncThunk)("productsForEntity/editProductsForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.updateProductsForEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductForEntityById=(0,i.createAsyncThunk)("productsForEntity/deleteProductForEntityById",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.deleteProductForEntity(e.productForEntityId),e.productForEntityId}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductsForEntity=(0,i.createAsyncThunk)("productsForEntity/deleteProductsForEntity",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.deleteProductsForEntity(e.ids),e.ids}catch(e){return t.rejectWithValue("Failure")}}))))},5686:(e,t,a)=>{var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.changeDefaultCurrency=t.deleteLocalProduct=t.liveEditProductsForEntity=t.addProduct=t.liveEditInfoProductsForEntity=t.liveEditProductForEntity=t.clearProductsForEntity=void 0;const s=a(5184),d=a(7278),n={productsWithInfoForEntity:{},productsForEntity:[],errorMessage:"",defaultProduct:{createType:"",price:0,product:null,amount:0,currency:(null===(i=JSON.parse(localStorage.getItem("userSettings")))||void 0===i?void 0:i.defaultCurrency)||"UAH",discount_type:"relative",measurement_unit_abbr:"pcs",discount_price:0,discount_value:0,quantity:1,tax_rate:null,title:"",id:0,is_tax_included:0,updated_at:null,created_at:null},loadingList:!1,loading:!1},o=(0,s.createSlice)({name:"productsForEntity",initialState:n,reducers:{changeDefaultCurrency:(e,t)=>{e.defaultProduct=Object.assign(Object.assign({},e.defaultProduct),{currency:t.payload})},liveEditProductForEntity:(e,t)=>{e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.map((e=>e.id===t.payload.id?t.payload:e)),e.productsForEntity=e.productsForEntity.map((e=>e.id===t.payload.id?t.payload:e))},liveEditProductsForEntity:(e,t)=>{e.productsWithInfoForEntity.list_products=t.payload,e.productsForEntity=t.payload},liveEditInfoProductsForEntity:(e,t)=>{e.productsWithInfoForEntity=Object.assign(Object.assign({},e.productsWithInfoForEntity),t.payload)},clearProductsForEntity:e=>{e.productsWithInfoForEntity=n.productsWithInfoForEntity,e.productsForEntity=n.productsForEntity},addProduct:(e,t)=>{e.productsWithInfoForEntity.list_products=[...e.productsWithInfoForEntity.list_products.filter((e=>0!==e.id)),t.payload],e.productsForEntity=[...e.productsForEntity.filter((e=>0!==e.id)),t.payload]},deleteLocalProduct:(e,t)=>{e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.filter((e=>e.id!==t.payload)),e.productsForEntity=e.productsForEntity.filter((e=>e.id!==t.payload)),e.productsForEntity.length||(e.productsForEntity=[e.defaultProduct],e.productsWithInfoForEntity.list_products=[e.defaultProduct])}},extraReducers:{[d.fetchInfoProductsForEntity.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsWithInfoForEntity=Object.assign(Object.assign({},t.payload),{list_products:t.payload.list_products.length?t.payload.list_products:[e.defaultProduct]}),e.productsForEntity=t.payload.list_products.length?t.payload.list_products:[e.defaultProduct]},[d.fetchInfoProductsForEntity.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[d.fetchInfoProductsForEntity.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[d.editInfoProductsForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=""},[d.editInfoProductsForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.editInfoProductsForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.fetchProductsForEntity.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsForEntity=t.payload.length?t.payload:[e.defaultProduct],e.productsWithInfoForEntity=Object.assign(Object.assign({},e.productsWithInfoForEntity),{list_products:t.payload.length?t.payload:[e.defaultProduct]})},[d.fetchProductsForEntity.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[d.fetchProductsForEntity.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[d.fetchProductForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.map((e=>e.id===t.payload.id?t.payload:e)),e.productsForEntity=e.productsForEntity.map((e=>e.id===t.payload.id?t.payload:e))},[d.fetchProductForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.fetchProductForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createProductForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsForEntity=[...e.productsForEntity,t.payload].filter((e=>0!==e.id)),e.productsWithInfoForEntity=Object.assign(Object.assign({},e.productsWithInfoForEntity),{list_products:e.productsForEntity})},[d.createProductForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createProductForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createProductsForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createProductsForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createProductsForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="";const a=t.payload.data.map(((e,a)=>{var r,i,s;return Object.assign(Object.assign({},e),{product:Object.assign(Object.assign({},null===(s=null===(i=null===(r=null==t?void 0:t.meta)||void 0===r?void 0:r.arg)||void 0===i?void 0:i[a])||void 0===s?void 0:s.product),e.product)})}));e.productsWithInfoForEntity.list_products=[...e.productsWithInfoForEntity.list_products.filter((e=>0!==e.id)),...a],e.productsForEntity=[...e.productsForEntity.filter((e=>0!==e.id)),...a]},[d.editProductForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=""},[d.editProductForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.editProductForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.editProductsForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=""},[d.editProductsForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.editProductsForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteProductForEntityById.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.filter((e=>e.id!==t.payload)),e.productsForEntity=e.productsForEntity.filter((e=>e.id!==t.payload)),e.productsForEntity.length||(e.productsForEntity=[e.defaultProduct],e.productsWithInfoForEntity.list_products=[e.defaultProduct])},[d.deleteProductForEntityById.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteProductForEntityById.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteProductsForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.filter((e=>!t.payload.includes(e.id))),e.productsForEntity=e.productsForEntity.filter((e=>!t.payload.includes(e.id))),e.productsForEntity.length||(e.productsForEntity=[e.defaultProduct],e.productsWithInfoForEntity.list_products=[e.defaultProduct])},[d.deleteProductsForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteProductsForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});r=o.actions,t.clearProductsForEntity=r.clearProductsForEntity,t.liveEditProductForEntity=r.liveEditProductForEntity,t.liveEditInfoProductsForEntity=r.liveEditInfoProductsForEntity,t.addProduct=r.addProduct,t.liveEditProductsForEntity=r.liveEditProductsForEntity,t.deleteLocalProduct=r.deleteLocalProduct,t.changeDefaultCurrency=r.changeDefaultCurrency,t.default=o.reducer},3894:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductTax=t.editProductTax=t.createProductTax=t.fetchProductsTaxes=void 0;const i=a(5184),s=a(4809);t.fetchProductsTaxes=(0,i.createAsyncThunk)("productsTaxes/fetchProductsCategory",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===e?void 0:e.getProductTaxes();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductTax=(0,i.createAsyncThunk)("productsTaxes/createProductTax",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.createProductTax(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductTax=(0,i.createAsyncThunk)("productsTaxes/editProductTax",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.updateProductTax(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductTax=(0,i.createAsyncThunk)("productsTaxes/deleteProductTax",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.deleteProductTax(e),e}catch(e){return t.rejectWithValue(e)}}))))},3600:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearProductTax=void 0;const r=a(5184),i=a(3894),s={productsTaxes:{data:[]},productsTax:{},errorMessage:"",loadingList:!1,loading:!1},d=(0,r.createSlice)({name:"productsTaxes",initialState:s,reducers:{clearProductTax:e=>{e.productsTax=s.productsTax}},extraReducers:{[i.fetchProductsTaxes.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsTaxes=t.payload},[i.fetchProductsTaxes.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[i.fetchProductsTaxes.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[i.createProductTax.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsTaxes={data:[...e.productsTaxes.data,t.payload]}},[i.createProductTax.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.createProductTax.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[i.editProductTax.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsTaxes.data=e.productsTaxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[i.editProductTax.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.editProductTax.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[i.deleteProductTax.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsTaxes.data=e.productsTaxes.data.filter((e=>e.id!==t.payload))},[i.deleteProductTax.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.deleteProductTax.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});t.clearProductTax=d.actions.clearProductTax,t.default=d.reducer},2201:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductMeasurementUnit=t.editProductMeasurementUnit=t.createProductMeasurementUnit=t.fetchProductsMeasurementUnits=void 0;const i=a(5184),s=a(4809);t.fetchProductsMeasurementUnits=(0,i.createAsyncThunk)("productsUnit/fetchProductsMeasurementUnits",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===e?void 0:e.getProductUnits();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductMeasurementUnit=(0,i.createAsyncThunk)("productsUnit/createProductMeasurementUnit",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.createProductUnit(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductMeasurementUnit=(0,i.createAsyncThunk)("productsUnit/editProductMeasurementUnit",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.updateProductUnit(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductMeasurementUnit=(0,i.createAsyncThunk)("productsUnit/deleteProductMeasurementUnit",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.deleteProductUnit(e),e}catch(e){return t.rejectWithValue(e)}}))))},2678:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearProductUnit=void 0;const r=a(5184),i=a(2201),s={productsUnit:{},productsUnits:{data:[]},errorMessage:"",loadingList:!1,loading:!1},d=(0,r.createSlice)({name:"productsUnit",initialState:s,reducers:{clearProductUnit:e=>{e.productsUnit=s.productsUnit}},extraReducers:{[i.fetchProductsMeasurementUnits.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsUnits=t.payload},[i.fetchProductsMeasurementUnits.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[i.fetchProductsMeasurementUnits.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[i.createProductMeasurementUnit.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsUnits={data:[...e.productsUnits.data,t.payload]}},[i.createProductMeasurementUnit.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.createProductMeasurementUnit.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[i.editProductMeasurementUnit.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsUnits.data=e.productsUnits.data.map((e=>e.id===t.payload.id?t.payload:e))},[i.editProductMeasurementUnit.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.editProductMeasurementUnit.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[i.deleteProductMeasurementUnit.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsUnits.data=e.productsUnits.data.filter((e=>e.id!==t.payload))},[i.deleteProductMeasurementUnit.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[i.deleteProductMeasurementUnit.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});t.clearProductUnit=d.actions.clearProductUnit,t.default=d.reducer},9512:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.attachBankRequisites=t.deleteBankRequisites=t.updateBankRequisites=t.createBankRequisites=t.deleteCardRequisites=t.attachCardRequisites=t.updateCardRequisites=t.createCardRequisites=t.fetchCardRequisites=t.fetchTemplates=void 0;const s=a(5184),d=a(4809),n=a(3124);t.fetchTemplates=(0,s.createAsyncThunk)("requisite/fetchTemplates",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.getTemplates(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchCardRequisites=(0,s.createAsyncThunk)("requisite/fetchCardRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{cardId:r,refContext:i}=e,[s,o]=(0,n.getSeparateCardId)(r);try{const e=Object.assign({entity_type:s,entity_id:o},i&&{is_reference_context:!0}),t=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.getCardRequisites(e),n=null==t?void 0:t.data;return{cardId:r,requisites:null==n?void 0:n.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.createCardRequisites=(0,s.createAsyncThunk)("requisite/createCardRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{cardId:r,requisite:i,isProfile:s}=e;try{const[e,t]=(0,n.getSeparateCardId)(r),o=Object.assign({},s?{}:{entity_type:e,entity_id:t}),l=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.createCardRequisites(i,o);return{cardId:r,requisite:null==l?void 0:l.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCardRequisites=(0,s.createAsyncThunk)("requisite/updateCardRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{cardId:r,requisite:s}=e,{template_id:n}=s,o=i(s,["template_id"]);try{const e=Object.assign(Object.assign({},o),n&&{template_id:n}),t=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.updateCardRequisites(s.id,e);return{cardId:r,requisite:null==t?void 0:t.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.attachCardRequisites=(0,s.createAsyncThunk)("requisite/attachCardRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){const{cardId:a,mainCardId:r,requisiteId:i}=e;try{const[e,t]=(0,n.getSeparateCardId)(a),[s,o]=(0,n.getSeparateCardId)(r),l={entity_type:s,entity_id:o,entity_reference_type:e,entity_reference_id:t,requisite_id:i};return yield d.uspacySdk.crmRequisitesService.attachCardRequisites(l),{cardId:a,requisiteId:i,entityId:+o}}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteCardRequisites=(0,s.createAsyncThunk)("requisite/detachCardRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){const{cardId:a,requisiteId:r}=e;try{return yield d.uspacySdk.crmRequisitesService.deleteCardRequisites(r),{cardId:a,requisiteId:r}}catch(e){return t.rejectWithValue("Failure")}})))),t.createBankRequisites=(0,s.createAsyncThunk)("requisite/createBankRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{cardId:r,requisiteId:s,bankRequisites:n}=e,o=n.map((e=>{const{id:t,isCreate:a}=e,r=i(e,["id","isCreate"]);return Object.assign(Object.assign({},r),{fields:{values:r.fields.values,list:r.fields.list.map((e=>{const{required:t,value:a}=e,r=i(e,["required","value"]);return Object.assign(Object.assign({},r),{is_show_default:Number(t)})}))}})}));try{const e=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.createBankRequisites(s,o);return{cardId:r,requisiteId:s,res:null==e?void 0:e.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.updateBankRequisites=(0,s.createAsyncThunk)("requisite/updateBankRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){var a;const{cardId:r,requisiteId:s,bankRequisite:n}=e,{id:o,isCreate:l}=n,c=i(n,["id","isCreate"]),u=Object.assign(Object.assign({},c),{fields:{values:c.fields.values,list:c.fields.list.map((e=>{const{required:t,value:a}=e,r=i(e,["required","value"]);return Object.assign(Object.assign({},r),{is_show_default:Number(t)})}))}});try{const e=yield null===(a=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.updateBankRequisites(s,n.id,u);return{cardId:r,requisiteId:s,bankRequisite:null==e?void 0:e.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteBankRequisites=(0,s.createAsyncThunk)("requisite/deleteBankRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){const{cardId:a,requisiteId:r,bankRequisiteId:i}=e;try{return yield d.uspacySdk.crmRequisitesService.deleteBankRequisites(r,i),{cardId:a,requisiteId:r,bankRequisiteId:i}}catch(e){return t.rejectWithValue("Failure")}})))),t.attachBankRequisites=(0,s.createAsyncThunk)("requisite/attachBankRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){const{cardId:a,mainCardId:r,requisiteId:i,bankRequisiteId:s}=e;try{const[e,t]=(0,n.getSeparateCardId)(a),[o,l]=(0,n.getSeparateCardId)(r),c={entity_type:o,entity_id:l,entity_reference_type:e,entity_reference_id:t,bank_requisite_id:s};return yield d.uspacySdk.crmRequisitesService.attachBankRequisites(i,c),{cardId:a,requisiteId:i,bankRequisiteId:s,entityId:+l}}catch(e){return t.rejectWithValue("Failure")}}))))},9622:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearCardRequisites=void 0;const r=a(5184),i=a(3124),s=a(9512),d={cardRequisites:[],templates:[],errorMessage:"",loading:{load:!1,cardLoading:!1,cardUpdateLoading:!1,cardCreateLoading:!1,cardAttachLoading:!1,cardDeleteLoading:!1,templateLoading:!0}},n=(0,r.createSlice)({name:"requisite",initialState:d,reducers:{clearCardRequisites:e=>{e.cardRequisites=d.cardRequisites}},extraReducers:{[s.fetchTemplates.fulfilled.type]:(e,t)=>{e.loading.templateLoading=!1,e.loading.load=!1,e.errorMessage="",e.templates=t.payload.data},[s.fetchTemplates.pending.type]:e=>{e.loading.templateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.fetchTemplates.rejected.type]:(e,t)=>{e.loading.templateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.fetchCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=[...e.cardRequisites,t.payload]},[s.fetchCardRequisites.pending.type]:e=>{e.loading.cardLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.fetchCardRequisites.rejected.type]:(e,t)=>{e.loading.cardLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.createCardRequisites.fulfilled.type]:(e,t)=>{const a=e.cardRequisites.find((e=>e.cardId===t.payload.cardId));e.loading.cardCreateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=a?e.cardRequisites.map((0,i.normalizeRequisiteCreation)(t.payload)):[{cardId:t.payload.cardId,requisites:[t.payload.requisite]}]},[s.createCardRequisites.pending.type]:e=>{e.loading.cardCreateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.createCardRequisites.rejected.type]:(e,t)=>{e.loading.cardCreateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.updateCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>{const a=t.payload.requisite.is_basic;return(null==e?void 0:e.id)===t.payload.requisite.id?Object.assign(Object.assign({},e),t.payload.requisite):Object.assign(Object.assign({},e),{is_basic:!a&&e.is_basic})}))}):e))},[s.updateCardRequisites.pending.type]:e=>{e.loading.cardUpdateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.updateCardRequisites.rejected.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.attachCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>{var a,r;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())===(null===(r=t.payload.requisiteId)||void 0===r?void 0:r.toString())?Object.assign(Object.assign({},e),{is_basic:!0,references_relations:[t.payload.entityId]}):Object.assign(Object.assign({},e),{is_basic:!1,references_relations:[]})}))}):e))},[s.attachCardRequisites.pending.type]:e=>{e.loading.cardAttachLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.attachCardRequisites.rejected.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.deleteCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.filter((e=>{var a,r;return(null===(a=e.id)||void 0===a?void 0:a.toString())!==(null===(r=t.payload.requisiteId)||void 0===r?void 0:r.toString())}))}):e))},[s.deleteCardRequisites.pending.type]:e=>{e.loading.cardDeleteLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.deleteCardRequisites.rejected.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.createBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>(null==e?void 0:e.id)===t.payload.requisiteId?Object.assign(Object.assign({},e),{bank_requisites:t.payload.res}):e))}):e))},[s.createBankRequisites.pending.type]:e=>{e.loading.cardUpdateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.createBankRequisites.rejected.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.updateBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>(null==e?void 0:e.id)===t.payload.requisiteId?Object.assign(Object.assign({},e),{bank_requisites:e.bank_requisites.map((e=>{const a=t.payload.bankRequisite.is_basic;return(null==e?void 0:e.id)===t.payload.bankRequisite.id?Object.assign(Object.assign({},e),t.payload.bankRequisite):Object.assign(Object.assign({},e),{is_basic:!a&&e.is_basic})}))}):e))}):e))},[s.updateBankRequisites.pending.type]:e=>{e.loading.cardUpdateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.updateBankRequisites.rejected.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.deleteBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>e.id===t.payload.requisiteId?Object.assign(Object.assign({},e),{bank_requisites:e.bank_requisites.filter((e=>e!==t.payload.bankRequisiteId))}):e))}):e))},[s.deleteBankRequisites.pending.type]:e=>{e.loading.cardDeleteLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.deleteBankRequisites.rejected.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.attachBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>{var a,r;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())===(null===(r=t.payload.requisiteId)||void 0===r?void 0:r.toString())?Object.assign(Object.assign({},e),{bank_requisites:e.bank_requisites.map((e=>{var a,r;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())===(null===(r=t.payload.bankRequisiteId)||void 0===r?void 0:r.toString())?Object.assign(Object.assign({},e),{is_basic:!0,references_relations:[t.payload.entityId]}):Object.assign(Object.assign({},e),{is_basic:!1,references_relations:[]})}))}):e}))}):e))},[s.attachBankRequisites.pending.type]:e=>{e.loading.cardAttachLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.attachBankRequisites.rejected.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage=t.payload}}});t.clearCardRequisites=n.actions.clearCardRequisites,t.default=n.reducer},6519:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(a[r[i]]=e[r[i]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteServicesAccount=t.activateServicesAccountSync=t.stopServicesAccountSync=t.startServicesAccountSync=t.startInitialServicesAccountSync=t.saveCalendarsSettings=t.getCalendars=t.getOauthServicesAccounts=t.getOAuthRedirectUrl=t.massTasksEditing=t.massTasksDeletion=t.deleteTaskById=t.fetchTaskById=t.editTask=t.fetchTasksWithFilters=t.createTask=t.fetchTasks=void 0;const s=a(5184),d=a(4809),n=a(9860),o=a(349);t.fetchTasks=(0,s.createAsyncThunk)("crmTasks/fetchTasks",((e,t)=>r(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===d.uspacySdk||void 0===d.uspacySdk?void 0:d.uspacySdk.crmTasksService)||void 0===e?void 0:e.getTasks();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createTask=(0,s.createAsyncThunk)("crmTasks/createTask",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=i(e,["id"]),r=yield d.uspacySdk.crmTasksService.createTask(a);return null==r?void 0:r.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchTasksWithFilters=(0,s.createAsyncThunk)("crmTasks/fetchTasksWithFilters",((e,t)=>r(void 0,void 0,void 0,(function*(){const a=(0,n.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),r=(0,o.makeURIParams)(a);try{const t=yield d.uspacySdk.crmTasksService.getTasksWithFilters(r,null==e?void 0:e.signal);return null==t?void 0:t.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.editTask=(0,s.createAsyncThunk)("crmTasks/edit",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmTasksService.updateTask(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.fetchTaskById=(0,s.createAsyncThunk)("crmTasks/fetchTaskById",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmTasksService.getTask(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure!")}})))),t.deleteTaskById=(0,s.createAsyncThunk)("crmTasks/deleteTaskById",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.deleteTask(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massTasksDeletion=(0,s.createAsyncThunk)("crmTasks/massTasksDeletion",(({entityIds:e,exceptIds:t,all:a,params:i},{rejectWithValue:s})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.massTasksDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massTasksEditing=(0,s.createAsyncThunk)("crmTasks/massTasksEditing",(({entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l},{rejectWithValue:c})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.massTasksEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==i?void 0:i.length)?`/?${i}`:"",payload:s,settings:n}),{entityIds:e,exceptIds:t,all:a,params:i,payload:s,settings:n,profile:o,admin:l}}catch(e){return c(e)}})))),t.getOAuthRedirectUrl=(0,s.createAsyncThunk)("crmTasks/getOAuthRedirectUrl",(({provider:e,type:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{const a=yield d.uspacySdk.crmTasksService.getOAuthRedirectUrl(e,t);return null==a?void 0:a.data}catch(e){return a(e)}})))),t.getOauthServicesAccounts=(0,s.createAsyncThunk)("crmTasks/getOauthServicesAccounts",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmTasksService.getOauthServicesAccounts(e);return null==t?void 0:t.data}catch(e){return t(e)}})))),t.getCalendars=(0,s.createAsyncThunk)("crmTasks/getCalendars",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{const e=yield d.uspacySdk.crmTasksService.getCalendars();return null==e?void 0:e.data}catch(e){return t(e)}})))),t.saveCalendarsSettings=(0,s.createAsyncThunk)("crmTasks/saveCalendarsSettings",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{const t=yield d.uspacySdk.crmTasksService.saveCalendarsSettings(e);return null==t?void 0:t.data}catch(e){return t(e)}})))),t.startInitialServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/startInitialServicesAccountSync",(({body:e,providerId:t,integrationId:a},{rejectWithValue:i})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.startInitialServicesAccountSync(e),{providerId:t,integrationId:a}}catch(e){return i(e)}})))),t.startServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/startServicesAccountSync",(({providerId:e,integrationId:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.startServicesAccountSync(),{providerId:e,integrationId:t}}catch(e){return a(e)}})))),t.stopServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/stopServicesAccountSync",(({providerId:e,integrationId:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.stopServicesAccountSync(),{providerId:e,integrationId:t}}catch(e){return a(e)}})))),t.activateServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/activateServicesAccountSync",(({providerId:e,integrationId:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.activateServicesAccountSync(t),{providerId:e,integrationId:t}}catch(e){return a(e)}})))),t.deleteServicesAccount=(0,s.createAsyncThunk)("crmTasks/deleteServicesAccount",(({providerId:e,integrationId:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return yield d.uspacySdk.crmTasksService.deleteServicesAccount(e,t),{providerId:e,integrationId:t}}catch(e){return a(e)}}))))},8218:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setIsSuccessServicesAccountSync=t.setRedirectOauthUrl=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.editCompanyFromCard=t.editContactFromCard=t.setDeletionModalOpen=t.chooseTaskId=t.addItemToTasksFilter=t.clearTasksFilter=t.clearTasks=t.openCompleteTaskModal=t.editTaskInState=t.removeTaskFromState=t.addTaskToState=t.changeItemsFilterTasks=t.changeFilterTasks=t.setCopy=t.copyTask=t.openTaskViewModal=t.openCreateTaskModal=t.fieldForTasks=t.initialTaskFilter=void 0;const i=a(5184),s=a(9243),d=a(9860),n=a(3970),o=a(6519),l={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialTaskFilter={page:1,perPage:20,status:[],openDatePicker:!1,search:"",responsible_id:[],period:[],time_label:[],certainDateOrPeriod:[],participants:[],boolean_operator:"",task_type:[],sortModel:[]},t.fieldForTasks=[n.idColumn,{name:"caseType",code:"type",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"list",system_field:!0,sort:"",default_value:"",values:[{color:"",selected:!1,sort:0,title:"task",value:"task"},{color:"",selected:!1,sort:0,title:"call",value:"call"},{color:"",selected:!1,sort:0,title:"meeting",value:"meeting"},{color:"",selected:!1,sort:0,title:"chat",value:"chat"},{color:"",selected:!1,sort:0,title:"message",value:"email"}]},{name:"taskTitle",code:"title",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"string",sort:"",system_field:!1,default_value:""},{name:"eventStartDate",code:"start_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"eventEndDate",code:"end_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"status",code:"status",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"status",sort:"",system_field:!1,default_value:""},{name:"priority",code:"priority",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"priority",sort:"",system_field:!1,default_value:""},{name:"responsibleId",code:"responsible_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"user_id",sort:"",system_field:!1,default_value:""},{name:"leadOrAgreement",code:"leadOrDeal",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"contacts",code:"contacts",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"company",code:"company",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"dateOfCompletion",code:"closed_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"created_at",code:"created_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"dateOfUpdate",code:"updated_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"participants",code:"participants",required:!1,editable:!1,show:!0,hidden:!1,multiple:!0,type:"user_id",system_field:!1,sort:"",default_value:""}];const c={tasks:l,tasksFromCard:l,task:{},deleteTaskId:0,deleteTaskIds:[],deleteAllFromKanban:!1,changeTasks:[],taskCopy:{},tasksFields:{data:t.fieldForTasks},taskFilter:{},taskFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},redirectOauthUrl:"",servicesAccounts:{},calendars:[],isSuccessServicesAccountSync:!1,errorMessage:"",errorLoadingOauthRedirectUrl:null,errorLoadingServicesAccounts:null,errorLoadingDeleteServicesAccounts:null,errorLoadingCalendars:null,loading:!1,loadingTaskList:!0,loadingOauthRedirectUrl:!1,loadingSevicesAccounts:!1,loadingDeleteServicesAccounts:!1,loadingCalendars:!1,isCreateTaskModalOpened:!1,isTaskViewModalOpened:!1,isCopy:!1,isCompleteTaskModalOpened:!1,clickedTaskId:null,deletionModalOpen:{action:!1,id:null}},u=(0,i.createSlice)({name:"crmTasks",initialState:c,reducers:{openCreateTaskModal:(e,t)=>{e.isCreateTaskModalOpened=t.payload},openTaskViewModal:(e,t)=>{e.isTaskViewModalOpened=t.payload},copyTask:(e,t)=>{e.taskCopy=t.payload},setCopy:(e,t)=>{e.isCopy=t.payload},changeFilterTasks:(e,t)=>{e.taskFilter[t.payload.key]=t.payload.value},changeItemsFilterTasks:(e,t)=>{e.taskFilter=t.payload},addTaskToState:(e,t)=>{e.tasks.data=[t.payload,...e.tasks.data]},removeTaskFromState:(e,t)=>{e.tasks.data=e.tasks.data.filter((e=>e.id!==t.payload))},editTaskInState:(e,t)=>{e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?t.payload:e))},openCompleteTaskModal:(e,t)=>{e.isCompleteTaskModalOpened=t.payload},clearTasks:e=>{e.tasks=l,e.loadingTaskList=!0},chooseTaskId:(e,t)=>{e.clickedTaskId=t.payload},setDeletionModalOpen:(e,t)=>{e.deletionModalOpen.action=t.payload.action,e.deletionModalOpen.id=t.payload.id},editContactFromCard:(e,t)=>{e.tasks.data=e.tasks.data.map((e=>{var a,r;return Object.assign(Object.assign({},e),{crm_entities:Object.assign(Object.assign({},null==e?void 0:e.crm_entities),{contacts:null===(r=null===(a=null==e?void 0:e.crm_entities)||void 0===a?void 0:a.contacts)||void 0===r?void 0:r.map((e=>{var a;return(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)===(null==e?void 0:e.id)&&Object.keys(t.payload).forEach((a=>{e.hasOwnProperty(a)&&(e[a]=t.payload[a])})),e}))})})}))},editCompanyFromCard:(e,t)=>{e.tasks.data=e.tasks.data.map((e=>{var a,r;return Object.assign(Object.assign({},e),{crm_entities:Object.assign(Object.assign({},null==e?void 0:e.crm_entities),{companies:null===(r=null===(a=null==e?void 0:e.crm_entities)||void 0===a?void 0:a.companies)||void 0===r?void 0:r.map((e=>{var a;return(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)===(null==e?void 0:e.id)&&Object.keys(t.payload).forEach((a=>{e.hasOwnProperty(a)&&(e[a]=t.payload[a])})),e}))})})}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.taskFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.taskFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.taskFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.taskFiltersPreset.filterPresets=t.payload},clearTasksFilter:(e,a)=>{var r;e.taskFilter=Object.assign(Object.assign(Object.assign(Object.assign({},t.fieldForTasks.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),a.payload.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),n.OTHER_DEFAULT_FIELDS),{sortModel:(null===(r=null==e?void 0:e.taskFilter)||void 0===r?void 0:r.sortModel)||[],page:1,perPage:20})},addItemToTasksFilter:(e,a)=>{e.taskFilter=Object.assign(Object.assign(Object.assign({},t.fieldForTasks.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),a.payload.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,d.getField)(t))),{})),n.OTHER_DEFAULT_FIELDS)},setRedirectOauthUrl:(e,t)=>{e.redirectOauthUrl=t.payload},setIsSuccessServicesAccountSync:(e,t)=>{e.isSuccessServicesAccountSync=t.payload}},extraReducers:{[o.fetchTasks.fulfilled.type]:(e,t)=>{e.loadingTaskList=!1,e.errorMessage="",e.tasks=t.payload},[o.fetchTasks.pending.type]:e=>{e.loadingTaskList=!0,e.errorMessage=""},[o.fetchTasks.rejected.type]:(e,t)=>{e.loadingTaskList=!1,e.errorMessage=t.payload},[o.fetchTasksWithFilters.fulfilled.type]:(e,t)=>{e.loadingTaskList=t.payload.aborted,e.errorMessage="",e.tasks=t.payload.aborted?e.tasks:t.payload},[o.fetchTasksWithFilters.pending.type]:e=>{e.loadingTaskList=!0,e.errorMessage=""},[o.fetchTasksWithFilters.rejected.type]:(e,t)=>{e.loadingTaskList=!1,e.errorMessage=t.payload},[o.createTask.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.tasks.data.unshift(t.payload),e.tasks.meta.total=++e.tasks.meta.total},[o.createTask.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.createTask.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editTask.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage="",e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[o.editTask.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.editTask.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.fetchTaskById.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.task=t.payload},[o.fetchTaskById.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.fetchTaskById.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteTaskById.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage="",e.deleteTaskId=t.payload,e.tasks.data=e.tasks.data.filter((e=>e.id!==t.payload))},[o.deleteTaskById.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.deleteTaskById.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.massTasksDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.tasks.data=e.tasks.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteTaskIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.tasks.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.tasks.meta.total=t.payload.exceptIds.length:e.tasks.meta.total=e.tasks.meta.total-t.payload.entityIds.length},[o.massTasksDeletion.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.massTasksDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.massTasksEditing.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage="",e.tasks.data=e.tasks.data.map((a=>{var r;if(null===(r=t.payload.entityIds)||void 0===r?void 0:r.includes(null==a?void 0:a.id)){const r=Object.assign({},a);for(const e in t.payload.payload)t.payload.payload.hasOwnProperty(e)&&t.payload.settings[e]?Array.isArray(t.payload.payload[e])?r[e]=[...r[e],...t.payload.payload[e]]:r[e]=r[e]:r[e]=t.payload.payload[e];return e.changeTasks.push(r),r}return a}))},[o.massTasksEditing.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.massTasksEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.getOAuthRedirectUrl.fulfilled.type]:(e,t)=>{e.loadingOauthRedirectUrl=!1,e.errorLoadingOauthRedirectUrl=null,e.redirectOauthUrl=t.payload.url},[o.getOAuthRedirectUrl.pending.type]:e=>{e.loadingOauthRedirectUrl=!0,e.errorLoadingOauthRedirectUrl=null},[o.getOAuthRedirectUrl.rejected.type]:(e,t)=>{e.loadingOauthRedirectUrl=!1,e.errorLoadingOauthRedirectUrl=t.payload},[o.getOauthServicesAccounts.fulfilled.type]:(e,t)=>{e.loadingSevicesAccounts=!1,e.servicesAccounts=t.payload,e.errorLoadingServicesAccounts=null},[o.getOauthServicesAccounts.pending.type]:e=>{e.loadingSevicesAccounts=!0,e.errorLoadingServicesAccounts=null},[o.getOauthServicesAccounts.rejected.type]:(e,t)=>{e.loadingSevicesAccounts=!1,e.errorLoadingServicesAccounts=t.payload},[o.deleteServicesAccount.fulfilled.type]:(e,t)=>{e.loadingDeleteServicesAccounts=!1,e.errorLoadingDeleteServicesAccounts=null,e.servicesAccounts.data=e.servicesAccounts.data.filter((e=>{if(e.id===t.meta.arg.providerId){const a=e.integrations.filter((e=>e.id!==t.meta.arg.integrationId));return a.length>1&&Object.assign(Object.assign({},e),{integrations:a})}return!0}))},[o.deleteServicesAccount.pending.type]:e=>{e.loadingDeleteServicesAccounts=!0,e.errorLoadingDeleteServicesAccounts=null},[o.deleteServicesAccount.rejected.type]:(e,t)=>{e.loadingDeleteServicesAccounts=!1,e.errorLoadingDeleteServicesAccounts=t.payload},[o.getCalendars.fulfilled.type]:(e,t)=>{e.loadingCalendars=!1,e.errorLoadingCalendars=null,e.calendars=t.payload},[o.getCalendars.pending.type]:e=>{e.loadingCalendars=!0,e.errorLoadingCalendars=null},[o.getCalendars.rejected.type]:(e,t)=>{e.loadingCalendars=!1,e.errorLoadingCalendars=t.payload},[o.saveCalendarsSettings.fulfilled.type]:(e,t)=>{e.loadingSaveServicesAccoutSettings=!1,e.errorLoadingSaveServicesAccoutSettings=null,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.payload.data.integration.account_id?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>{if(e.id===t.payload.data.integration.id){const a=[Object.keys(t.payload.data||{}).filter((e=>"integration"!==e)).reduce(((e,a)=>(e[a]=t.payload.data[a],e)),{})];return Object.assign(Object.assign({},e),{calendars:a})}return e}))}):e))},[o.saveCalendarsSettings.pending.type]:e=>{e.loadingSaveServicesAccoutSettings=!0,e.errorLoadingSaveServicesAccoutSettings=null},[o.saveCalendarsSettings.rejected.type]:(e,t)=>{e.loadingSaveServicesAccoutSettings=!1,e.errorLoadingSaveServicesAccoutSettings=t.payload},[o.startInitialServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.RUN}):e))}):e))},[o.startInitialServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.startInitialServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload},[o.startServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.RUN}):e))}):e))},[o.startServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.startServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload},[o.stopServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.STOPPED}):e))}):e))},[o.stopServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.stopServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload},[o.activateServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.STARTED}):e))}):e))},[o.activateServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.activateServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload}}});r=u.actions,t.openCreateTaskModal=r.openCreateTaskModal,t.openTaskViewModal=r.openTaskViewModal,t.copyTask=r.copyTask,t.setCopy=r.setCopy,t.changeFilterTasks=r.changeFilterTasks,t.changeItemsFilterTasks=r.changeItemsFilterTasks,t.addTaskToState=r.addTaskToState,t.removeTaskFromState=r.removeTaskFromState,t.editTaskInState=r.editTaskInState,t.openCompleteTaskModal=r.openCompleteTaskModal,t.clearTasks=r.clearTasks,t.clearTasksFilter=r.clearTasksFilter,t.addItemToTasksFilter=r.addItemToTasksFilter,t.chooseTaskId=r.chooseTaskId,t.setDeletionModalOpen=r.setDeletionModalOpen,t.editContactFromCard=r.editContactFromCard,t.editCompanyFromCard=r.editCompanyFromCard,t.setDeleteAllFromKanban=r.setDeleteAllFromKanban,t.setIsNewPreset=r.setIsNewPreset,t.setCurrentPreset=r.setCurrentPreset,t.setStandardPreset=r.setStandardPreset,t.setFilterPresets=r.setFilterPresets,t.setRedirectOauthUrl=r.setRedirectOauthUrl,t.setIsSuccessServicesAccountSync=r.setIsSuccessServicesAccountSync,t.default=u.reducer},9790:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeUsersFromDepartment=t.addUsersToDepartment=t.deleteDepartment=t.editDepartment=t.createDepartment=t.fetchDepartments=void 0;const i=a(5184),s=a(4809),d=a(8065);t.fetchDepartments=(0,i.createAsyncThunk)("departments/fetchDepartments",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=(yield s.uspacySdk.tokensService.getUserRoles().catch((()=>{})))||[],t=s.uspacySdk.usersService.hasRole(e,[d.MainRoles.ADMIN,d.MainRoles.OWNER])?"all":void 0;return(yield s.uspacySdk.departmentsService.getDepartments(void 0,"all",t)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDepartment=(0,i.createAsyncThunk)("departments/createDepartment",(({name:e,headId:t,description:a,usersIds:i,parentDepartmentId:d,generalDepartmentId:n},o)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.departmentsService.createDepartment({name:e,headId:t,description:a,usersIds:i,parentDepartmentId:d||n.toString()})).data}catch(e){return o.rejectWithValue("Failure")}})))),t.editDepartment=(0,i.createAsyncThunk)("departments/editDepartment",(({id:e,name:t,headId:a,description:i,usersIds:d,parentDepartmentId:n},o)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.departmentsService.updateDepartment(e,{name:t,headId:a,description:i,parentDepartmentId:n,usersIds:d})).data}catch(e){return o.rejectWithValue("Failure")}})))),t.deleteDepartment=(0,i.createAsyncThunk)("departments/deleteDepartment",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return s.uspacySdk.departmentsService.deleteDepartment(e)}catch(e){return t.rejectWithValue("Failure")}finally{return e}})))),t.addUsersToDepartment=(0,i.createAsyncThunk)("departments/addUsersToDepartment",(({departmentId:e,usersIds:t},a)=>r(void 0,void 0,void 0,(function*(){try{return s.uspacySdk.departmentsService.addUsersToDepartment(String(e),t)}catch(e){return a.rejectWithValue("Failure")}})))),t.removeUsersFromDepartment=(0,i.createAsyncThunk)("departments/removeUsersFromDepartment",(({departmentId:e,usersIds:t},a)=>r(void 0,void 0,void 0,(function*(){try{return s.uspacySdk.departmentsService.deleteUsersFromDepartment(String(e),t)}catch(e){return a.rejectWithValue("Failure")}}))))},7002:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(9790),s=(0,r.createSlice)({name:"departmentsReducer",initialState:{departments:[],loadingDepartments:!0,errorLoadingDepartments:""},reducers:{},extraReducers:{[i.fetchDepartments.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=t.payload},[i.fetchDepartments.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[i.fetchDepartments.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[i.createDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=[...e.departments,t.payload]},[i.createDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[i.createDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[i.editDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.map((e=>e.id===t.payload.id?t.payload:e))},[i.editDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[i.editDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[i.deleteDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.filter((e=>e.id.toString()!==t.payload.toString()))},[i.deleteDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[i.deleteDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[i.addUsersToDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.map((e=>e.id===t.payload.id?t.payload:e))},[i.addUsersToDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[i.addUsersToDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[i.removeUsersFromDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.map((e=>e.id===t.payload.id?t.payload:e))},[i.removeUsersFromDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[i.removeUsersFromDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload}}});t.default=s.reducer},3749:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearDrawerData=t.setMessengerDrawerData=t.drawersSlice=void 0;const i=a(5184),s={messengerData:{type:a(6063).EMessengerType.INTERNAL_CHAT,data:{chatId:null,letter:null,crmEntities:null}}};t.drawersSlice=(0,i.createSlice)({name:"messenger",initialState:s,reducers:{setMessengerDrawerData(e,t){e.messengerData=t.payload},clearDrawerData(e){e.messengerData=s.messengerData}},extraReducers:{}}),r=t.drawersSlice.actions,t.setMessengerDrawerData=r.setMessengerDrawerData,t.clearDrawerData=r.clearDrawerData,t.default=t.drawersSlice.reducer},1014:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEmailSignature=t.updateEmailSignature=t.createEmailSignature=t.getEmailSignatures=t.receiveToOauthLink=t.redirectToOauthLink=t.getIntgrWithCrmSettings=t.moveLetters=t.unreadEmailLetters=t.readEmailLetters=t.removeEmailLetters=t.removeEmailLetter=t.resendEmailLetter=t.createEmailLetter=t.getEmailLetter=t.getEmailLetters=t.getEmailFolders=t.removeEmailBox=t.updateEmailBox=t.updateEmailBoxCredentials=t.setupEmailBox=t.connectEmailBox=t.getEmailBox=t.getEmailsBoxes=void 0;const i=a(5184),s=a(4809);t.getEmailsBoxes=(0,i.createAsyncThunk)("email/getEmailsBoxes",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailsBoxes()).data}catch(e){return t.rejectWithValue(e)}})))),t.getEmailBox=(0,i.createAsyncThunk)("email/getEmailBox",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailBox(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.connectEmailBox=(0,i.createAsyncThunk)("email/connectEmailBox",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.connectEmailBox(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.setupEmailBox=(0,i.createAsyncThunk)("email/setupEmailBox",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.setupEmailBox(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.updateEmailBoxCredentials=(0,i.createAsyncThunk)("email/updateEmailBoxCredentials",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.updateEmailBoxCredentials(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.updateEmailBox=(0,i.createAsyncThunk)("email/updateEmailBox",(({id:e,data:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.updateEmailBox(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.removeEmailBox=(0,i.createAsyncThunk)("email/removeEmailBox",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailBox(e),e}catch(e){return t.rejectWithValue(e)}})))),t.getEmailFolders=(0,i.createAsyncThunk)("email/getEmailFolders",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailFolders()).data}catch(e){return t.rejectWithValue(e)}})))),t.getEmailLetters=(0,i.createAsyncThunk)("email/getEmailLetters",(({id:e,params:t,signal:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailLetters(e,t,a)).data}catch(e){return i.rejectWithValue(e)}})))),t.getEmailLetter=(0,i.createAsyncThunk)("email/getEmailLetter",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailLetter(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.createEmailLetter=(0,i.createAsyncThunk)("email/createEmailLetter",(({data:e,id:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.createEmailLetter(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.resendEmailLetter=(0,i.createAsyncThunk)("email/resendEmailLetter",(({id:e},t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.resendEmailLetter(e),e}catch(e){return t.rejectWithValue(e)}})))),t.removeEmailLetter=(0,i.createAsyncThunk)("email/removeEmailLetter",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailLetter(e),e}catch(e){return t.rejectWithValue(e)}})))),t.removeEmailLetters=(0,i.createAsyncThunk)("email/removeEmailLetters",(({ids:e,folderId:t,list_ids:a,threads:i},d)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailLetters(e,i),{list_ids:a,folderId:t}}catch(e){return d.rejectWithValue(e)}})))),t.readEmailLetters=(0,i.createAsyncThunk)("email/readEmailLetters",(({ids:e,folderId:t,list_ids:a,threads:i},d)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.readEmailLetters(e,t,i),{list_ids:a,folderId:t}}catch(e){return d.rejectWithValue(e)}})))),t.unreadEmailLetters=(0,i.createAsyncThunk)("email/unreadEmailLetters",(({ids:e,folderId:t,list_ids:a,threads:i},d)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.unreadEmailLetters(e,t,i),{list_ids:a,folderId:t}}catch(e){return d.rejectWithValue(e)}})))),t.moveLetters=(0,i.createAsyncThunk)("email/moveLetters",(({ids:e,folderId:t,list_ids:a,threads:i},d)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.moveLetters(e,t,i),{list_ids:a,folderId:t}}catch(e){return d.rejectWithValue(e)}})))),t.getIntgrWithCrmSettings=(0,i.createAsyncThunk)("email/getIntgrWithCrmSettings",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getIntgrWithCrmSettings(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.redirectToOauthLink=(0,i.createAsyncThunk)("email/redirectToOauthLink",(({url:e,service:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.redirectToOauthLink(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.receiveToOauthLink=(0,i.createAsyncThunk)("email/receiveToOauthLink",(({code:e,service:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.receiveToOauthLink(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.getEmailSignatures=(0,i.createAsyncThunk)("email/getEmailSignatures",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailSignatures()).data}catch(e){return t.rejectWithValue(e)}})))),t.createEmailSignature=(0,i.createAsyncThunk)("email/createEmailSignature",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.createEmailSignature(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.updateEmailSignature=(0,i.createAsyncThunk)("email/updateEmailSignature",(({id:e,body:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.updateEmailSignature(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.removeEmailSignature=(0,i.createAsyncThunk)("email/removeEmailSignature",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailSignature(e)}catch(e){return t.rejectWithValue(e)}}))))},7682:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setErrorLoadingConnectEmailBox=t.setOAuthCode=t.setOAuthUrl=t.generalUpdateLettersCrmEntities=t.setCrmEntities=t.setCrmSetting=t.setCrmConnectStatus=t.setEmailTableHeaderType=t.setSelectedLetters=t.setFilters=t.setCreateNewLetterMode=t.setIsCreateNewLetter=t.setOpenLetter=t.setCreatedLetter=t.setLetter=t.setChainLetters=t.setLetters=t.setFolder=t.setFolders=t.setConnectedEmailBox=t.setEmailBox=t.setEmailBoxes=void 0;const i=a(5184),s=a(1014),d={emailBoxes:{data:[]},emailBox:{},connectedEmailBox:{},folders:{data:[]},folder:{},letters:{},chainLetters:{},letter:{},createdLetter:{},crmSettings:[],signatures:{},removedLetterIds:null,loadingEmailBoxes:!1,loadingEmailBox:!1,loadingConnectEmailBox:!1,loadingUpdateEmailCredentials:!1,loadingUpdateEmailBox:!1,loadingRemoveEmailBox:!1,loadingFolders:!1,loadingLetters:!1,loadingChainLetters:!1,loadingLetter:!1,loadingCreatingLetter:!1,loadingResendLetter:!1,loadingDeletingLetter:!1,loadingDeletingLetters:!1,loadingIsReadStatus:!1,loadingMoveLetter:!1,loadingOAuthRedirect:!1,loadingSignatures:!1,loadingCreateSignature:!1,loadingUpdateSignature:!1,loadingRemoveSignature:!1,errorLoadingEmailBoxes:null,errorLoadingEmailBox:null,errorLoadingConnectEmailBox:null,errorLoadingUpdateEmailCredentials:null,errorLoadingUpdateEmailBox:null,errorLoadingRemoveEmailBox:null,errorLoadingFolders:null,errorLoadingLetters:null,errorLoadingChainLetters:null,errorLoadingLetter:null,errorLoadingCreatingLetter:null,errorLoadingResendLetter:null,errorLoadingDeletingLetter:null,errorLoadingDeletingLetters:null,errorLoadingIsReadStatus:null,errorLoadingMoveLetter:null,errorLoadingOAuthRedirect:null,errorLoadingSignatures:null,errorLoadingCreateSignature:null,errorLoadingUpdateSignature:null,errorLoadingRemoveSignature:null,openLetter:!1,isCreateNewLetter:!1,createNewLetterMode:"window",filters:{page:1,list:50,is_read:[],date:[],certainDateOrPeriod_date:[],time_label_date:[],openCalendar:!1,q:""},selectedLetters:[],emailTableHeaderType:"default",crm_entities:[],oAuthUrl:"",oAuthCode:""},n=(0,i.createSlice)({name:"emailReducer",initialState:d,reducers:{setEmailBoxes:(e,t)=>{e.emailBoxes=t.payload},setEmailBox:(e,t)=>{e.emailBox=t.payload},setConnectedEmailBox:(e,t)=>{e.connectedEmailBox=t.payload},setFolders:(e,t)=>{e.folders=t.payload},setFolder:(e,t)=>{e.folder=t.payload},setLetters:(e,t)=>{e.letters=t.payload},setChainLetters:(e,t)=>{e.chainLetters=t.payload},setLetter:(e,t)=>{e.letter=t.payload},setCreatedLetter:(e,t)=>{e.createdLetter=t.payload},setOpenLetter:(e,t)=>{e.openLetter=t.payload},setIsCreateNewLetter:(e,t)=>{e.isCreateNewLetter=t.payload},setCreateNewLetterMode:(e,t)=>{e.createNewLetterMode=t.payload},setFilters:(e,t)=>{e.filters=t.payload},setSelectedLetters:(e,t)=>{e.selectedLetters=t.payload},setEmailTableHeaderType:(e,t)=>{e.emailTableHeaderType=t.payload},setCrmConnectStatus:(e,t)=>{e.emailBox=Object.assign(Object.assign({},e.emailBox),{crm_integration_enabled:t.payload})},setCrmSetting:(e,t)=>{const{key:a,value:r}=t.payload;e.crmSettings=e.crmSettings.map((e=>e.setting_name===a?Object.assign(Object.assign({},e),{setting_value:r}):e))},clearCrmSettings:e=>{e.crmSettings=d.crmSettings},setCrmEntities:(e,t)=>{const{letterId:a,type:r,entities:i}=t.payload;e.crm_entities.find((e=>e.letterId===a))?e.crm_entities=e.crm_entities.map((e=>e.letterId===a?Object.assign(Object.assign({},e),{entities:Object.assign(Object.assign({},e.entities),{[r]:i})}):e)):e.crm_entities.push({letterId:a,entities:{[r]:i}})},generalUpdateLettersCrmEntities:(e,t)=>{const{letterId:a,entities:r}=t.payload;e.crm_entities=e.crm_entities.map((e=>e.letterId===a?Object.assign(Object.assign({},e),{entities:r}):e))},setOAuthUrl:(e,t)=>{e.oAuthUrl=t.payload},setOAuthCode:(e,t)=>{e.oAuthCode=t.payload},setErrorLoadingConnectEmailBox:(e,t)=>{e.errorLoadingConnectEmailBox=t.payload}},extraReducers:{[s.getEmailsBoxes.fulfilled.type]:(e,t)=>{e.loadingEmailBoxes=!1,e.errorLoadingEmailBoxes=null,e.emailBoxes=t.payload},[s.getEmailsBoxes.pending.type]:e=>{e.loadingEmailBoxes=!0,e.errorLoadingEmailBoxes=null},[s.getEmailsBoxes.rejected.type]:(e,t)=>{e.loadingEmailBoxes=!1,e.errorLoadingEmailBoxes=t.payload},[s.getEmailBox.fulfilled.type]:(e,t)=>{e.loadingEmailBox=!1,e.errorLoadingEmailBox=null,e.emailBox=t.payload},[s.getEmailBox.pending.type]:e=>{e.loadingEmailBox=!0,e.errorLoadingEmailBox=null},[s.getEmailBox.rejected.type]:(e,t)=>{e.loadingEmailBox=!1,e.errorLoadingEmailBox=t.payload},[s.connectEmailBox.fulfilled.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=null,e.connectedEmailBox=t.payload,e.emailBoxes.data=[...e.emailBoxes.data,t.payload]},[s.connectEmailBox.pending.type]:e=>{e.loadingConnectEmailBox=!0,e.errorLoadingConnectEmailBox=null},[s.connectEmailBox.rejected.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=t.payload},[s.setupEmailBox.fulfilled.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=null,e.emailBoxes.data=e.emailBoxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.setupEmailBox.pending.type]:e=>{e.loadingUpdateEmailBox=!0,e.errorLoadingUpdateEmailBox=null},[s.setupEmailBox.rejected.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=t.payload},[s.updateEmailBoxCredentials.fulfilled.type]:(e,t)=>{e.loadingUpdateEmailCredentials=!1,e.errorLoadingUpdateEmailCredentials=null,e.emailBox=t.payload,e.emailBoxes.data=e.emailBoxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateEmailBoxCredentials.pending.type]:e=>{e.loadingUpdateEmailCredentials=!0,e.errorLoadingUpdateEmailCredentials=null},[s.updateEmailBoxCredentials.rejected.type]:(e,t)=>{e.loadingUpdateEmailCredentials=!1,e.errorLoadingUpdateEmailCredentials=t.payload},[s.updateEmailBox.fulfilled.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=null,e.emailBoxes.data=e.emailBoxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateEmailBox.pending.type]:e=>{e.loadingUpdateEmailBox=!0,e.errorLoadingUpdateEmailBox=null},[s.updateEmailBox.rejected.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=t.payload},[s.redirectToOauthLink.fulfilled.type]:(e,t)=>{e.loadingOAuthRedirect=!1,e.errorLoadingOAuthRedirect=null,e.oAuthUrl=t.payload.url},[s.redirectToOauthLink.pending.type]:e=>{e.loadingOAuthRedirect=!0,e.errorLoadingOAuthRedirect=null},[s.redirectToOauthLink.rejected.type]:(e,t)=>{e.loadingOAuthRedirect=!1,e.errorLoadingOAuthRedirect=t.payload},[s.receiveToOauthLink.fulfilled.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=null,e.connectedEmailBox=t.payload,e.emailBoxes.data=[...e.emailBoxes.data,t.payload]},[s.receiveToOauthLink.pending.type]:e=>{e.loadingConnectEmailBox=!0,e.errorLoadingConnectEmailBox=null},[s.receiveToOauthLink.rejected.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=t.payload},[s.removeEmailBox.fulfilled.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingRemoveEmailBox=null,e.emailBoxes.data=e.emailBoxes.data.filter((e=>e.id!==t.payload))},[s.removeEmailBox.pending.type]:e=>{e.loadingDeletingLetter=!0,e.errorLoadingRemoveEmailBox=null},[s.removeEmailBox.rejected.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingRemoveEmailBox=t.payload},[s.getEmailFolders.fulfilled.type]:(e,t)=>{e.loadingFolders=!1,e.errorLoadingFolders=null,e.folders=t.payload},[s.getEmailFolders.pending.type]:e=>{e.loadingFolders=!0,e.errorLoadingFolders=null},[s.getEmailFolders.rejected.type]:(e,t)=>{e.loadingFolders=!1,e.errorLoadingFolders=t.payload},[s.getEmailLetters.fulfilled.type]:(e,t)=>{e.loadingLetters=!1,e.errorLoadingLetters=null,e.letters=t.payload},[s.getEmailLetters.pending.type]:e=>{e.loadingLetters=!0,e.errorLoadingLetters=null},[s.getEmailLetters.rejected.type]:(e,t)=>{e.loadingLetters=!1,e.errorLoadingLetters=t.payload},[s.getEmailLetter.fulfilled.type]:(e,t)=>{e.loadingLetter=!1,e.errorLoadingLetter=null,e.letter=t.payload},[s.getEmailLetter.pending.type]:e=>{e.loadingLetter=!0,e.errorLoadingLetter=null},[s.getEmailLetter.rejected.type]:(e,t)=>{e.loadingLetter=!1,e.errorLoadingLetter=t.payload},[s.createEmailLetter.fulfilled.type]:(e,t)=>{e.loadingCreatingLetter=!1,e.errorLoadingCreatingLetter=null,e.createdLetter=t.payload},[s.createEmailLetter.pending.type]:e=>{e.loadingCreatingLetter=!0,e.errorLoadingCreatingLetter=null},[s.createEmailLetter.rejected.type]:(e,t)=>{e.loadingCreatingLetter=!1,e.errorLoadingCreatingLetter=t.payload},[s.resendEmailLetter.fulfilled.type]:(e,t)=>{e.loadingResendLetter=!1,e.errorLoadingResendLetter=null,e.letters.data=e.letters.data.map((e=>(null==e?void 0:e.id)===t.payload?Object.assign(Object.assign({},e),{status:"pending"}):e))},[s.resendEmailLetter.pending.type]:e=>{e.loadingResendLetter=!0,e.errorLoadingResendLetter=null},[s.resendEmailLetter.rejected.type]:(e,t)=>{e.loadingResendLetter=!1,e.errorLoadingResendLetter=t.payload},[s.removeEmailLetter.fulfilled.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingDeletingLetter=null,e.letters.data=e.letters.data.filter((e=>e.id!==t.payload)),e.removedLetterIds=[t.payload]},[s.removeEmailLetter.pending.type]:e=>{e.loadingDeletingLetter=!0,e.errorLoadingDeletingLetter=null},[s.removeEmailLetter.rejected.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingDeletingLetter=t.payload},[s.removeEmailLetters.fulfilled.type]:(e,t)=>{e.loadingDeletingLetters=!1,e.errorLoadingDeletingLetters=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const r=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&!e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count-r})}return a})),e.letters.data=e.letters.data.filter((e=>!t.payload.list_ids.includes(e.id))),e.removedLetterIds=t.payload.ids},[s.removeEmailLetters.pending.type]:e=>{e.loadingDeletingLetters=!0,e.errorLoadingDeletingLetters=null},[s.removeEmailLetters.rejected.type]:(e,t)=>{e.loadingDeletingLetters=!1,e.errorLoadingDeletingLetters=t.payload},[s.readEmailLetters.fulfilled.type]:(e,t)=>{var a;e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const r=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&!e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count-r})}return a})),e.letters.data=e.letters.data.map((e=>t.payload.list_ids.includes(e.id)?Object.assign(Object.assign({},e),{is_read:!0}):e)),(null===(a=e.letter)||void 0===a?void 0:a.id)&&!e.letter.is_read&&(e.letter.is_read=!0)},[s.readEmailLetters.pending.type]:e=>{e.loadingIsReadStatus=!0,e.errorLoadingIsReadStatus=null},[s.readEmailLetters.rejected.type]:(e,t)=>{e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=t.payload},[s.unreadEmailLetters.fulfilled.type]:(e,t)=>{var a;e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const r=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count+r})}return a})),e.letters.data=e.letters.data.map((e=>t.payload.list_ids.includes(e.id)?Object.assign(Object.assign({},e),{is_read:!1}):e)),(null===(a=e.letter)||void 0===a?void 0:a.id)&&e.letter.is_read&&(e.letter.is_read=!1)},[s.unreadEmailLetters.pending.type]:e=>{e.loadingIsReadStatus=!0,e.errorLoadingIsReadStatus=null},[s.unreadEmailLetters.rejected.type]:(e,t)=>{e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=t.payload},[s.moveLetters.fulfilled.type]:(e,t)=>{e.loadingMoveLetter=!1,e.errorLoadingMoveLetter=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const r=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&!e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count-r})}return a})),e.letters.data=e.letters.data.filter((e=>!t.payload.list_ids.includes(e.id))),e.removedLetterIds=t.payload.ids},[s.moveLetters.pending.type]:e=>{e.loadingMoveLetter=!0,e.errorLoadingMoveLetter=null},[s.moveLetters.rejected.type]:(e,t)=>{e.loadingMoveLetter=!1,e.errorLoadingMoveLetter=t.payload},[s.getIntgrWithCrmSettings.fulfilled.type]:(e,t)=>{e.crmSettings=t.payload.data},[s.getEmailSignatures.fulfilled.type]:(e,t)=>{e.signatures=t.payload,e.loadingSignatures=!1,e.errorLoadingSignatures=null},[s.getEmailSignatures.pending.type]:e=>{e.loadingSignatures=!0,e.errorLoadingSignatures=null},[s.getEmailSignatures.rejected.type]:(e,t)=>{e.loadingSignatures=!1,e.errorLoadingSignatures=t.payload},[s.createEmailSignature.fulfilled.type]:(e,t)=>{e.loadingCreateSignature=!1,e.errorLoadingCreateSignature=null,e.signatures.data=[...e.signatures.data,t.payload]},[s.createEmailSignature.pending.type]:e=>{e.loadingCreateSignature=!0,e.errorLoadingCreateSignature=null},[s.createEmailSignature.rejected.type]:(e,t)=>{e.loadingCreateSignature=!1,e.errorLoadingCreateSignature=t.payload},[s.updateEmailSignature.fulfilled.type]:(e,t)=>{e.loadingUpdateSignature=!1,e.errorLoadingUpdateSignature=null,e.signatures.data=e.signatures.data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))},[s.updateEmailSignature.pending.type]:e=>{e.loadingUpdateSignature=!0,e.errorLoadingUpdateSignature=null},[s.updateEmailSignature.rejected.type]:(e,t)=>{e.loadingUpdateSignature=!1,e.errorLoadingUpdateSignature=t.payload},[s.removeEmailSignature.fulfilled.type]:(e,t)=>{e.loadingRemoveSignature=!1,e.errorLoadingRemoveSignature=null,e.signatures.data=e.signatures.data.filter((e=>e.id!==t.meta.arg))},[s.removeEmailSignature.pending.type]:e=>{e.loadingRemoveSignature=!0,e.errorLoadingRemoveSignature=null},[s.removeEmailSignature.rejected.type]:(e,t)=>{e.loadingRemoveSignature=!1,e.errorLoadingRemoveSignature=t.payload}}});r=n.actions,t.setEmailBoxes=r.setEmailBoxes,t.setEmailBox=r.setEmailBox,t.setConnectedEmailBox=r.setConnectedEmailBox,t.setFolders=r.setFolders,t.setFolder=r.setFolder,t.setLetters=r.setLetters,t.setChainLetters=r.setChainLetters,t.setLetter=r.setLetter,t.setCreatedLetter=r.setCreatedLetter,t.setOpenLetter=r.setOpenLetter,t.setIsCreateNewLetter=r.setIsCreateNewLetter,t.setCreateNewLetterMode=r.setCreateNewLetterMode,t.setFilters=r.setFilters,t.setSelectedLetters=r.setSelectedLetters,t.setEmailTableHeaderType=r.setEmailTableHeaderType,t.setCrmConnectStatus=r.setCrmConnectStatus,t.setCrmSetting=r.setCrmSetting,t.setCrmEntities=r.setCrmEntities,t.generalUpdateLettersCrmEntities=r.generalUpdateLettersCrmEntities,t.setOAuthUrl=r.setOAuthUrl,t.setOAuthCode=r.setOAuthCode,t.setErrorLoadingConnectEmailBox=r.setErrorLoadingConnectEmailBox,t.default=n.reducer},2584:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFilesSize=t.fetchFiles=void 0;const i=a(5184),s=a(4809);t.fetchFiles=(0,i.createAsyncThunk)("files/fetchFiles",(({entityId:e,entityType:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.filesService.getFiles(e,t)).data}catch(e){return a(e)}})))),t.fetchFilesSize=(0,i.createAsyncThunk)("files/fetchFilesSize",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.filesService.getFilesSize()).data}catch(e){return t(e)}}))))},3253:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearFiles=void 0;const r=a(5184),i=a(2584),s=(0,r.createSlice)({name:"filesReducer",initialState:{files:{},filesSize:{},loadingFiles:!1,loadingFilesSize:!1,errorLoadingFiles:null,errorLoadingFilesSize:null},reducers:{clearFiles:e=>{e.files={}}},extraReducers:{[i.fetchFiles.fulfilled.type]:(e,t)=>{e.loadingFiles=!1,e.errorLoadingFiles=null,e.files.data=t.payload.data},[i.fetchFiles.pending.type]:e=>{e.loadingFiles=!0,e.errorLoadingFiles=null},[i.fetchFiles.rejected.type]:(e,t)=>{e.loadingFiles=!1,e.errorLoadingFiles=t.payload},[i.fetchFilesSize.fulfilled.type]:(e,t)=>{e.loadingFilesSize=!1,e.errorLoadingFilesSize=null,e.filesSize=t.payload},[i.fetchFilesSize.pending.type]:e=>{e.loadingFilesSize=!0,e.errorLoadingFilesSize=null},[i.fetchFilesSize.rejected.type]:(e,t)=>{e.loadingFilesSize=!1,e.errorLoadingFilesSize=t.payload}}});t.clearFiles=s.actions.clearFiles,t.default=s.reducer},3201:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getForms=void 0;const i=a(5184),s=a(4809);t.getForms=(0,i.createAsyncThunk)("forms/getForms",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.resourcesService.getResources("form")).data.data}catch(e){return t.rejectWithValue(e)}}))))},6816:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.updateFieldsOrder=t.setPredefinedFields=t.updateFormInList=t.setShowSaveButton=t.removeForm=t.addForm=t.clearForm=t.updateFormData=t.updateFieldOtherSettings=t.updateFieldSettings=t.setFormConfigOther=t.clearFormConfigFields=t.addFormConfigFields=t.toggleSelected=t.setFormFields=void 0;const i=a(5184),s=a(7746),d=a(3201),n={name:"",active:!0,config:{crmEntity:"lead",fields:[],other:[],predefinedFields:[]}},o={formFields:{fields:[],other:[]},form:n,formsList:[],loadFormsList:!1,showSaveButton:!1},l=(0,i.createSlice)({name:"filesReducer",initialState:o,reducers:{setFormFields:(e,t)=>{e.formFields=t.payload},toggleSelected:(e,t)=>{var a;const{isOther:r,fieldCode:i,isRemove:s}=t.payload,d=r?e.formFields.other:e.formFields.fields,n=d.findIndex((e=>e.fieldCode===i));if(n>-1){const t=!d[n].selected;if(d[n].selected=!s&&t,r)t&&!s?e.form.config.other.push(d[n]):e.form.config.other=e.form.config.other.filter((e=>e.fieldCode!==i));else if(t&&!s){const t=Math.max(...e.form.config.fields.map((e=>e.order)),-1),r=(null===(a=e.form.config.other.find((e=>"addFieldButton"===e.fieldCode)))||void 0===a?void 0:a.order)-1||0;let i=t<0?r:t;e.form.config.fields.push(Object.assign(Object.assign({},d[n]),{order:++i})),e.form.config.other=e.form.config.other.map((e=>e.order>=i?Object.assign(Object.assign({},e),{order:++i}):e))}else e.form.config.fields=e.form.config.fields.filter((e=>e.fieldCode!==i))}},addFormConfigFields:(e,t)=>{e.form.config.fields.push(t.payload)},clearForm:e=>{e.form=n},clearFormConfigFields:e=>{e.form.config.fields=[]},setFormConfigOther:(e,t)=>{e.form.config.other=t.payload},updateFieldSettings:(e,t)=>{const a=e.form.config.fields.findIndex((e=>e.fieldCode===t.payload.fieldCode));a>-1&&(e.form.config.fields[a]=Object.assign(Object.assign({},e.form.config.fields[a]),t.payload))},updateFieldOtherSettings:(e,t)=>{const a=e.form.config.other.findIndex((e=>e.fieldCode===t.payload.fieldCode));a>-1&&(e.form.config.other[a]=Object.assign(Object.assign({},e.form.config.other[a]),t.payload))},addForm:(e,t)=>{e.formsList.unshift(t.payload)},removeForm:(e,t)=>{e.formsList=e.formsList.filter((e=>e.id!==t.payload))},updateFormData:(e,t)=>{e.form=Object.assign(Object.assign({},e.form),t.payload)},setShowSaveButton:(e,t)=>{e.showSaveButton=t.payload},updateFormInList:(e,t)=>{const a=e.formsList.findIndex((e=>e.id===t.payload.id));e.formsList[a]=t.payload},setPredefinedFields:(e,t)=>{const a=e.form.config.predefinedFields.findIndex((e=>e.type===t.payload.type));-1!==a?e.form.config.predefinedFields[a]=t.payload:e.form.config.predefinedFields.push(t.payload)},updateFieldsOrder:(e,t)=>{e.form.config.fields=(0,s.updateFieldsOrderHelp)(e.form.config.fields,t.payload),e.form.config.other=(0,s.updateFieldsOrderHelp)(e.form.config.other,t.payload)}},extraReducers:{[d.getForms.fulfilled.type]:(e,t)=>{e.loadFormsList=!1,e.formsList=Array.isArray(t.payload)?t.payload:[]},[d.getForms.pending.type]:e=>{e.loadFormsList=!0},[d.getForms.rejected.type]:e=>{e.loadFormsList=!1}}});r=l.actions,t.setFormFields=r.setFormFields,t.toggleSelected=r.toggleSelected,t.addFormConfigFields=r.addFormConfigFields,t.clearFormConfigFields=r.clearFormConfigFields,t.setFormConfigOther=r.setFormConfigOther,t.updateFieldSettings=r.updateFieldSettings,t.updateFieldOtherSettings=r.updateFieldOtherSettings,t.updateFormData=r.updateFormData,t.clearForm=r.clearForm,t.addForm=r.addForm,t.removeForm=r.removeForm,t.setShowSaveButton=r.setShowSaveButton,t.updateFormInList=r.updateFormInList,t.setPredefinedFields=r.setPredefinedFields,t.updateFieldsOrder=r.updateFieldsOrder,t.default=l.reducer},6550:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIfUserSendJoinRequest=t.userApplyToJoinGroup=t.uploadLogo=t.rejectUserInviteRequest=t.acceptUserInviteRequest=t.getUsersRequestedForJoing=t.joinGroup=t.leaveGroup=t.inviteUsersInGroup=t.deleteGroup=t.editGroup=t.createGroup=t.fetchGroups=t.fetchGroupForTask=t.fetchGroup=void 0;const i=a(5184),s=a(4809);t.fetchGroup=(0,i.createAsyncThunk)("groups/fetchGroup",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.getGroup(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchGroupForTask=(0,i.createAsyncThunk)("groups/fetchGroupForTask",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.getGroupForTask(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchGroups=(0,i.createAsyncThunk)("groups/fetchGroups",(({page:e,list:t,userId:a,search:i},d)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.getGroups(e,t||12,a,i).then((e=>e.data))}catch(e){return d.rejectWithValue("Failure")}})))),t.createGroup=(0,i.createAsyncThunk)("groups/createGroup",(({name:e,groupType:t,description:a,groupTheme:i,ownerId:d,logo:n,moderatorsIds:o,usersIds:l,enableColorTheme:c,themeSettings:u},p)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.createGroup({name:e,groupType:t,description:a,groupTheme:i,ownerId:d,logo:n,moderatorsIds:o,usersIds:l,enableColorTheme:c,themeSettings:u}).then((e=>e.data))}catch(e){return p.rejectWithValue("Failure")}})))),t.editGroup=(0,i.createAsyncThunk)("groups/editGroup",(({groupId:e,name:t,groupType:a,description:i,groupTheme:d,ownerId:n,moderatorsIds:o,usersIds:l,archived:c,enableColorTheme:u,themeSettings:p},y)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.editGroup({groupId:e,name:t,groupType:a,description:i,groupTheme:d,ownerId:n,moderatorsIds:o,usersIds:l,archived:c,enableColorTheme:u,themeSettings:p}).then((e=>e.data))}catch(e){return y.rejectWithValue("Failure")}})))),t.deleteGroup=(0,i.createAsyncThunk)("groups/deleteGroup",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.deleteGroup(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.inviteUsersInGroup=(0,i.createAsyncThunk)("groups/inviteUsersInGroup",(({groupId:e,userIds:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.inviteUsersInGroup({groupId:e,userIds:t})}catch(e){return a.rejectWithValue(e)}})))),t.leaveGroup=(0,i.createAsyncThunk)("groups/leaveGroup",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.leaveGroup(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.joinGroup=(0,i.createAsyncThunk)("groups/joinGroup",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.joinGroup(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.getUsersRequestedForJoing=(0,i.createAsyncThunk)("groups/getUsersRequestedForJoing",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.getUsersRequestedForJoing(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.acceptUserInviteRequest=(0,i.createAsyncThunk)("groups/acceptUserInviteRequest",(({groupId:e,userId:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.acceptUserInviteRequest(e,t)}catch(e){return a.rejectWithValue("Failure")}})))),t.rejectUserInviteRequest=(0,i.createAsyncThunk)("groups/acceptUserInviteRequest",(({groupId:e,userId:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.rejectUserInviteRequest(e,t)}catch(e){return a.rejectWithValue("Failure")}})))),t.uploadLogo=(0,i.createAsyncThunk)("groups/uploadLogo",(({groupId:e,logo:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.uploadLogo(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.userApplyToJoinGroup=(0,i.createAsyncThunk)("groups/userApplyToJoinGroup",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.userApplyToJoinGroup(e)}catch(e){return t.rejectWithValue("Failure")}})))),t.checkIfUserSendJoinRequest=(0,i.createAsyncThunk)("groups/checkIfUserSendJoinRequest",(({groupId:e,userId:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.checkIfUserSendJoinRequest(e,t)).data}catch(e){return a.rejectWithValue("Failure")}}))))},8193:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLastElementTable=t.addGroupToEndTable=t.userJoinGroup=t.resetInviteError=t.userLeavedGroup=t.addGroupMember=t.clearRequests=t.clearGroups=t.setAction=t.setModalOpened=t.changeNewGroupStatus=t.chatOpened=t.clearGroupReducer=t.setGroupForTask=t.setGroup=void 0;const i=a(5184),s=a(6550),d={groups:{data:[]},group:{},groupForTask:{},loadingGroup:!1,loadingGroupForTask:!1,errorLoadingGroup:null,errorLoadingGroupForTask:null,isLoaded:!1,isChatOpened:!1,loadingGroups:!0,errorLoadingGroups:null,allGroups:[],isNewGroupCreate:!1,modalOpened:{create:!1,edit:!1,confirm:!1,invite:!1,inviteSended:!1,about:!1},action:{archive:!1,delete:!1,chat:!1,id:null},search:"",usersWhoSendRequest:[],loadingRequest:!1,inviteAccepted:!1,userSendRequestError:"",isUserLeavedGroup:!1,errorInviteUsers:null,loadingInvite:!1,loadingApplyToJoin:!1,errorLoadingApplyToJoinGrroup:!1},n=(0,i.createSlice)({name:"groupsReducer",initialState:d,reducers:{setGroup:(e,t)=>{e.group=t.payload},setGroupForTask:(e,t)=>{e.groupForTask=t.payload},clearGroupReducer:e=>{e.group={}},chatOpened:(e,t)=>{e.isChatOpened=t.payload},clearGroups:e=>{e.allGroups=d.allGroups},changeNewGroupStatus:(e,t)=>{e.isNewGroupCreate=t.payload},setModalOpened:(e,t)=>{e.modalOpened=t.payload},setAction:(e,t)=>{e.action=t.payload},changeSearch:(e,t)=>{e.search=t.payload},clearRequests:e=>{e.usersWhoSendRequest=[]},addGroupMember:(e,t)=>{var a,r;null===(r=null===(a=e.group)||void 0===a?void 0:a.usersIds)||void 0===r||r.push(t.payload)},userLeavedGroup:(e,t)=>{var a,r;const i=null===(r=null===(a=e.group)||void 0===a?void 0:a.moderatorsIds)||void 0===r?void 0:r.filter((e=>e!==t.payload.id));e.group=Object.assign(Object.assign({},e.group),{moderatorsIds:i});const s=e.allGroups.find((e=>e.id.toString()===t.payload.groupId));if(t.payload.isModerator){const e=s.moderatorsIds.filter((e=>e!==t.payload.id));s.moderatorsIds=e}else{const e=s.usersIds.filter((e=>e!==t.payload.id));s.usersIds=e}e.allGroups=e.allGroups.map((e=>e.id.toString()===s.id.toString()?s:e)),e.groups.data=e.groups.data.map((e=>e.id.toString()===s.id.toString()?s:e))},userJoinGroup:(e,t)=>{const a=e.allGroups.find((e=>e.id.toString()===t.payload.groupId)),r=a.usersIds.concat(t.payload.id);a.usersIds=r,e.allGroups=e.allGroups.map((e=>e.id.toString()===a.id.toString()?a:e)),e.groups.data=e.groups.data.map((e=>e.id.toString()===a.id.toString()?a:e))},resetInviteError:e=>{e.errorInviteUsers=!1},addGroupToEndTable:(e,t)=>{e.allGroups.push(t.payload)},deleteLastElementTable:e=>{e.allGroups=e.allGroups.slice(0,-1)}},extraReducers:{[s.fetchGroups.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.groups.data=t.payload.data,e.groups.meta=t.payload.meta;const a=e.allGroups.find((e=>t.payload.data.some((t=>t.name===e.name)))),r=a?e.allGroups.filter((e=>e.name!==a.name)):e.allGroups;e.allGroups=e.allGroups.length?r.concat(t.payload.data):e.allGroups.concat(t.payload.data)},[s.fetchGroups.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.fetchGroups.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.fetchGroup.fulfilled.type]:(e,t)=>{e.loadingGroup=!1,e.errorLoadingGroup=null,e.group=t.payload,e.isLoaded=!0},[s.fetchGroup.pending.type]:e=>{e.loadingGroup=!0,e.errorLoadingGroup=null,e.isLoaded=!1},[s.fetchGroup.rejected.type]:(e,t)=>{e.loadingGroup=!1,e.errorLoadingGroup=t.payload},[s.fetchGroupForTask.fulfilled.type]:(e,t)=>{e.loadingGroupForTask=!1,e.errorLoadingGroupForTask=null,e.groupForTask=t.payload},[s.fetchGroupForTask.pending.type]:e=>{e.loadingGroupForTask=!0,e.errorLoadingGroupForTask=null},[s.fetchGroupForTask.rejected.type]:(e,t)=>{e.loadingGroupForTask=!1,e.errorLoadingGroupForTask=t.payload},[s.createGroup.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups.unshift(t.payload),e.isLoaded=!1,e.groups.meta.total=e.groups.meta.total+1},[s.createGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.createGroup.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.editGroup.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups=e.allGroups.map((e=>e.id===t.payload.id?t.payload:e)),e.group=t.payload},[s.editGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.editGroup.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.deleteGroup.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups=e.allGroups.filter((e=>{var a;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())!==t.payload.toString()})),e.groups.meta.total=e.groups.meta.total-1},[s.deleteGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.deleteGroup.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.getUsersRequestedForJoing.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.usersWhoSendRequest=t.payload},[s.getUsersRequestedForJoing.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.getUsersRequestedForJoing.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.acceptUserInviteRequest.fulfilled.type]:e=>{e.loadingRequest=!1,e.inviteAccepted=!0,e.errorLoadingGroups=null},[s.acceptUserInviteRequest.pending.type]:e=>{e.loadingRequest=!0,e.inviteAccepted=!1,e.errorLoadingGroups=null},[s.acceptUserInviteRequest.rejected.type]:(e,t)=>{e.loadingRequest=!1,e.errorLoadingGroups=t.payload},[s.uploadLogo.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups=e.allGroups.map((e=>e.id===t.payload.id?t.payload:e)),e.group.logo=t.payload.logo},[s.uploadLogo.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.uploadLogo.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.checkIfUserSendJoinRequest.fulfilled.type]:e=>{e.loadingRequest=!1,e.errorLoadingGroups=null},[s.checkIfUserSendJoinRequest.pending.type]:e=>{e.loadingRequest=!0,e.errorLoadingGroups=null},[s.checkIfUserSendJoinRequest.rejected.type]:(e,t)=>{e.loadingRequest=!1,e.userSendRequestError=t.payload},[s.leaveGroup.fulfilled.type]:e=>{e.loadingRequest=!1,e.errorLoadingGroups=null,e.isUserLeavedGroup=!0},[s.leaveGroup.pending.type]:e=>{e.loadingRequest=!0,e.errorLoadingGroups=null},[s.leaveGroup.rejected.type]:e=>{e.loadingRequest=!1},[s.inviteUsersInGroup.fulfilled.type]:e=>{e.loadingInvite=!1,e.errorInviteUsers=!1,e.modalOpened.invite=!1,e.modalOpened.inviteSended=!0},[s.inviteUsersInGroup.pending.type]:e=>{e.loadingInvite=!0,e.errorInviteUsers=!1},[s.inviteUsersInGroup.rejected.type]:e=>{e.loadingInvite=!1,e.errorInviteUsers=!0},[s.joinGroup.fulfilled.type]:e=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.isUserLeavedGroup=!0},[s.joinGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.joinGroup.rejected.type]:e=>{e.loadingGroups=!1},[s.userApplyToJoinGroup.fulfilled.type]:e=>{e.loadingApplyToJoin=!1,e.errorLoadingApplyToJoinGrroup=!1},[s.userApplyToJoinGroup.pending.type]:e=>{e.loadingApplyToJoin=!0,e.errorLoadingApplyToJoinGrroup=!1},[s.userApplyToJoinGroup.rejected.type]:e=>{e.loadingApplyToJoin=!1,e.errorLoadingApplyToJoinGrroup=!0}}});r=n.actions,t.setGroup=r.setGroup,t.setGroupForTask=r.setGroupForTask,t.clearGroupReducer=r.clearGroupReducer,t.chatOpened=r.chatOpened,t.changeNewGroupStatus=r.changeNewGroupStatus,t.setModalOpened=r.setModalOpened,t.setAction=r.setAction,t.clearGroups=r.clearGroups,t.clearRequests=r.clearRequests,t.addGroupMember=r.addGroupMember,t.userLeavedGroup=r.userLeavedGroup,t.resetInviteError=r.resetInviteError,t.userJoinGroup=r.userJoinGroup,t.addGroupToEndTable=r.addGroupToEndTable,t.deleteLastElementTable=r.deleteLastElementTable,t.default=n.reducer},1360:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchChangesHistory=void 0;const i=a(5184),s=a(4809);t.fetchChangesHistory=(0,i.createAsyncThunk)("history/fetchChangesHistory",(({service:e,entityTableName:t,id:a,page:i,list:d,action:n},o)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.historyService.getChangesHistory({service:e,entityTableName:t,id:a,page:i,list:d,action:n})).data}catch(e){return o.rejectWithValue("Failure")}}))))},673:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearHistory=t.addNewHistory=void 0;const i=a(5184),s=a(1360),d={history:{data:[],meta:{}},loadingHistory:!1,errorLoadingErrors:null},n=(0,i.createSlice)({name:"historyReducer",initialState:d,reducers:{addNewHistory:(e,t)=>{e.history.data=[t.payload,...e.history.data||[]]},clearHistory:e=>{e.history=d.history,e.loadingHistory=!0}},extraReducers:{[s.fetchChangesHistory.fulfilled.type]:(e,t)=>{e.loadingHistory=!1,e.errorLoadingErrors=null,e.history.data=t.payload.data||[],e.history.meta=t.payload.meta},[s.fetchChangesHistory.pending.type]:e=>{e.loadingHistory=!0,e.errorLoadingErrors=null},[s.fetchChangesHistory.rejected.type]:(e,t)=>{e.loadingHistory=!1,e.errorLoadingErrors=t.payload}}});r=n.actions,t.addNewHistory=r.addNewHistory,t.clearHistory=r.clearHistory,t.default=n.reducer},8527:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setupStore=void 0;const i=a(5184),s=r(a(2472)),d=r(a(8580)),n=r(a(3980)),o=r(a(5891)),l=r(a(5428)),c=r(a(4789)),u=r(a(1599)),p=r(a(4712)),y=r(a(9215)),g=r(a(7929)),v=r(a(7326)),m=r(a(2591)),f=r(a(9222)),h=r(a(6021)),S=r(a(905)),F=r(a(1419)),k=r(a(824)),b=r(a(4066)),T=r(a(3295)),j=r(a(5686)),C=r(a(3600)),L=r(a(2678)),P=r(a(9622)),I=r(a(8218)),O=r(a(7002)),_=r(a(3749)),E=r(a(7682)),A=r(a(3253)),M=r(a(6816)),D=r(a(8193)),R=r(a(673)),U=r(a(9696)),w=r(a(4918)),x=r(a(3516)),W=r(a(4656)),V=r(a(2382)),q=r(a(5150)),B=r(a(8980)),N=r(a(2587)),G=r(a(9935)),$=r(a(659)),H=r(a(1331)),K=r(a(8391)),z=r(a(4084)),J=r(a(2610)),X=r(a(9789)),Y=r(a(515)),Q=(0,i.combineReducers)({apps:n.default,auth:o.default,dealsFunnel:v.default,leadsFunnel:F.default,dealsStages:m.default,leadsStages:k.default,departments:O.default,email:E.default,files:A.default,groups:D.default,notifications:W.default,payments:V.default,profile:q.default,roles:B.default,tasks:G.default,tasksFilters:$.default,tasksSettings:H.default,tasksStages:K.default,tasksTimer:z.default,users:X.default,webhooks:Y.default,newsfeed:x.default,migrationsReducer:w.default,messengerReducer:U.default,automations:l.default,drawersManagement:_.default,crmEntities:h.default,crmCalls:u.default,crmCompanies:p.default,crmContacts:y.default,crmDeals:g.default,crmLeads:S.default,crmTasks:I.default,crmProducts:b.default,crmProductsCategory:T.default,crmProductsForEntity:j.default,crmProductsTaxes:C.default,crmProductsUnit:L.default,crmDocumentTemplates:f.default,crmRequisite:P.default,history:R.default,settings:N.default,announcers:d.default,crm:c.default,analytics:s.default,forms:M.default,transferOfCases:J.default});t.setupStore=()=>(0,i.configureStore)({reducer:Q,middleware:e=>e({serializableCheck:!1})})},9696:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),s=r(a(1055)),d=r(a(9516)),n=(0,i.combineReducers)({messenger:s.default,messengerExternal:d.default});t.default=n},6070:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWidget=t.deleteWidget=t.getWidgets=t.createWidget=t.fetchPinedMessages=t.goToMessage=t.fetchMessages=t.fetchChats=void 0;const i=a(5184),s=a(4809),d=a(4636);t.fetchChats=(0,i.createAsyncThunk)("messenger/fetchChats",(({getFormattedUserName:e},{rejectWithValue:t,getState:a})=>r(void 0,void 0,void 0,(function*(){try{const t=a(),r=t.users.data.filter((e=>e.authUserId)),i=t.profile.data,{data:n}=yield s.uspacySdk.messengerService.getChats({});return(0,d.formatChats)(n,r,i,e)}catch(e){return t(e)}})))),t.fetchMessages=(0,i.createAsyncThunk)("messenger/fetchMessages",(({chatId:e,limit:t,lastTimestamp:a,firstTimestamp:i,unreadFirst:d},{rejectWithValue:n,getState:o})=>r(void 0,void 0,void 0,(function*(){try{const r=o();return{items:(yield s.uspacySdk.messengerService.getMessages({chatId:e,limit:t,lastTimestamp:a,firstTimestamp:i,unreadFirst:d})).data,profile:r.profile.data}}catch(e){return n(e)}})))),t.goToMessage=(0,i.createAsyncThunk)("messenger/goToMessage",(({id:e},{rejectWithValue:t,getState:a})=>r(void 0,void 0,void 0,(function*(){try{const t=a();return{items:(yield s.uspacySdk.messengerService.goToMessage({id:e})).data,profile:t.profile.data}}catch(e){return t(e)}})))),t.fetchPinedMessages=(0,i.createAsyncThunk)("messenger/fetchPinedMessages",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{const t=(yield s.uspacySdk.messengerService.getPinnedMessages(e)).data;return{chatId:e,items:t}}catch(e){return t(e)}})))),t.createWidget=(0,i.createAsyncThunk)("messenger/createWidget",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.createWidget(e)).data}catch(e){return t(e)}})))),t.getWidgets=(0,i.createAsyncThunk)("messenger/getWidgets",(({limit:e,page:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.getWidgets(e,t)).data}catch(e){return a(e)}})))),t.deleteWidget=(0,i.createAsyncThunk)("messenger/deleteWidget",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.deleteWidgets(e)).data}catch(e){return t(e)}})))),t.updateWidget=(0,i.createAsyncThunk)("messenger/updateWidget",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.updateWidget(e)).data}catch(e){return t(e)}}))))},1055:function(e,t,a){var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setTimestamp=t.saveDraftMessage=t.resetMessages=t.readAllMessages=t.updateLastUnreadMessage=t.updateMuteTimestampInChat=t.updatePinedMessagesByChatId=t.removeMessageFromPined=t.addMessageInToPined=t.decSelectNotMyMessageCount=t.incSelectNotMyMessageCount=t.clearSelected=t.unselectMessage=t.selectMessage=t.setMessage=t.saveScrollPosition=t.unpinChat=t.pinChat=t.setForwardMessage=t.setActiveMessengerType=t.readMessages=t.readMessage=t.setParentMessageId=t.setEditableMessageId=t.updateMessage=t.removeMessage=t.updateChat=t.unshiftMessage=t.deleteMembers=t.addMembers=t.leaveChat=t.removeChat=t.unsetCurrentChat=t.setCurrentChat=t.appendChats=t.chatSlice=void 0;const s=a(5184),d=a(6063),n=i(a(9472)),o=a(3970),l=a(4636),c=a(6070),u={chats:{loading:!0,items:[]},messages:[],activeMessengerType:d.EMessengerType.INTERNAL_CHAT,forwardMessage:null,selectedMessages:[],selectNotMyMessageCount:0,pinedMessages:[],widgets:{data:[],meta:{currentPage:1,from:0,lastPage:1,perPage:0,to:0,total:0},loading:!1}},p=(e,t)=>{let a;return e.flatMap(((r,i,s)=>{var d;(!a||(0,n.default)(a.timestamp,r.timestamp)>1||a.authorId!==r.authorId)&&(a=r);const l=a.id===r.id||(0,n.default)(a.timestamp,r.timestamp)>1,c=e[i+1],u=!!(null==r?void 0:r.externalLine),p=u?!!(null==r?void 0:r.externalAuthorId):r.authorId!==t.authUserId,y=u?!(null==c?void 0:c.externalAuthorId):(null==c?void 0:c.authorId)===t.authUserId,g=Array.isArray(r.readBy)&&p&&!r.readBy.includes(t.authUserId)&&((null===(d=null==c?void 0:c.readBy)||void 0===d?void 0:d.includes(t.authUserId))||y||!c);return g&&!s.find((e=>e.isFirstUnread))?[r,Object.assign(Object.assign({},r),{id:`${r.id}-unreadMessage`,message:o.unreadMessagesValue,isFirstUnread:g})]:Object.assign(Object.assign({},r),{showTime:l})}))};t.chatSlice=(0,s.createSlice)({name:"messenger",initialState:u,reducers:{appendChats(e,t){const a=(0,l.getUniqueItems)([...t.payload.items,...e.chats.items]).sort(l.sortChats);e.chats.items=a},setCurrentChat(e,t){e.chats.currentChatId=t.payload.id,e.messages=e.messages.map((e=>{if(e.chatId===t.payload.id){const a=p(e.items.filter((e=>!e.isFirstUnread)),t.payload.profile);return Object.assign(Object.assign({},e),{items:a})}return e}))},unsetCurrentChat(e){e.messages=e.messages.map((t=>t.chatId===e.chats.currentChatId?Object.assign(Object.assign({},t),{items:t.items.filter((e=>!e.isFirstUnread))}):t)),e.chats.currentChatId=void 0},removeChat(e,t){e.chats.currentChatId===t.payload&&(e.chats.currentChatId=void 0),e.chats.items=e.chats.items.filter((({id:e})=>e!==t.payload)),e.messages=e.messages.filter((({chatId:e})=>e!==t.payload))},unshiftMessage(e,t){const{chatId:a,item:r,profile:i}=t.payload;e.messages=e.messages.map((e=>{if(e.chatId===a){const t=p([r,...e.items],i);return Object.assign(Object.assign({},e),{items:t})}return e}));const s=[...e.chats.items].map((e=>e.id===a?Object.assign(Object.assign(Object.assign({},e),{lastMessage:r,timestamp:r.timestamp,originalTimestamp:r.timestamp,unreadCount:r.authorId!==i.authUserId||r.externalAuthorId?e.unreadCount+1:e.unreadCount}),r.mentioned.includes(i.authUserId)&&{unreadMentions:[r.id,...e.unreadMentions]}):e));e.chats.items=s.sort(l.sortChats)},updateChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))},leaveChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:e.members.filter((e=>e!==t.payload.member))}):e))},addMembers(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:[...e.members,...t.payload.members].filter(l.onlyUnique)}):e))},deleteMembers(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:e.members.filter((e=>t.payload.members.includes(e)===t.payload.isOnHandle))}):e))},removeMessage(e,t){const{removedMessageId:a,profileId:r,forceRemovedMessage:i,previewText:s=""}=t.payload;let d={};e.messages=e.messages.map((e=>{if(e.items.find((({id:e})=>e===a))){const t=e.items.reduce(((e,t)=>(t.id!==a?e.push(t):d=t,e)),[]);return Object.assign(Object.assign({},e),{items:t})}return e}));const n=i||d;e.chats.items=e.chats.items.map((t=>{if(t.id===n.chatId){const a=e.messages.find((({chatId:e})=>e===t.id)),i=t.unreadMentions.filter((e=>e!==n.id));if(!a)return Object.assign(Object.assign(Object.assign({},t),{unreadMentions:i,lastMessage:Object.assign(Object.assign({},t.lastMessage),{message:s})}),!n.readBy.includes(r)&&{unreadCount:t.unreadCount-1});const[d,l]=a.items,c=n.authorId!==r&&!n.readBy.includes(r);return Object.assign(Object.assign(Object.assign({},t),{unreadMentions:i,lastMessage:(null==d?void 0:d.message)!==o.unreadMessagesValue?d:l}),c&&{unreadCount:t.unreadCount-1})}return t}))},setEditableMessageId(e,t){const{value:a,currentExternalChatId:r}=t.payload,i=r||e.chats.currentChatId;e.messages=e.messages.map((e=>e.chatId===i?Object.assign(Object.assign({},e),{editableMessageId:a}):e))},setParentMessageId(e,t){const{messageId:a,externalChatId:r}=t.payload,i=r||e.chats.currentChatId;e.messages=e.messages.map((e=>e.chatId===i?Object.assign(Object.assign({},e),{parentMessageId:a}):e))},updateMessage(e,t){e.messages=e.messages.map((e=>{if(e.chatId===t.payload.chatId){const a=e.items.map((e=>e.id===t.payload.id?t.payload:e));return Object.assign(Object.assign({},e),{items:a})}return e})),e.chats.items=e.chats.items.map((e=>{var a;return e.id===t.payload.chatId&&(null===(a=e.lastMessage)||void 0===a?void 0:a.id)===t.payload.id?Object.assign(Object.assign({},e),{lastMessage:t.payload}):e}))},readMessage(e,t){const{message:a,userId:r}=t.payload;e.messages=e.messages.map((e=>{if(e.chatId===a.chatId){const t=e.items.map((e=>e.id===a.id?Object.assign(Object.assign({},e),{readBy:[...e.readBy||[],r]}):e));return Object.assign(Object.assign({},e),{items:t})}return e})),e.chats.items=(0,l.updateUnreadCountAndMentionedByChatId)((0,l.readLastMessageInChat)(e.chats.items,a,r),a.chatId,r,a)},readMessages(e,t){const{items:a,chatId:r,profile:i}=t.payload;e.messages=e.messages.map((e=>{if(e.chatId===r){const t=e.items.map((e=>{const t=a.find((({id:t})=>t===e.id));return t?Object.assign(Object.assign({},e),{readBy:t.readBy}):e}));return Object.assign(Object.assign({},e),{items:t})}return e})),e.chats.items=(0,l.readLastMessagesInChat)(e.chats.items,a,r,i)},setActiveMessengerType(e,t){e.activeMessengerType=t.payload},setForwardMessage(e,t){e.forwardMessage=t.payload},pinChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload?Object.assign(Object.assign({},e),{pinned:!0,pinnedTimestamp:Date.now()}):e)).sort(l.sortChats)},unpinChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload?Object.assign(Object.assign({},e),{pinned:!1,pinnedTimestamp:void 0}):e)).sort(l.sortChats)},saveScrollPosition(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{scrollPosition:t.payload.scrollPosition}):e))},setMessage(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{message:t.payload.message}):e))},selectMessage(e,t){e.selectedMessages=[t.payload,...e.selectedMessages]},unselectMessage(e,t){e.selectedMessages=e.selectedMessages.filter((e=>e!==t.payload))},clearSelected(e){e.selectedMessages=[],e.selectNotMyMessageCount=0},incSelectNotMyMessageCount(e){e.selectNotMyMessageCount++},decSelectNotMyMessageCount(e){e.selectNotMyMessageCount--},addMessageInToPined(e,t){e.pinedMessages=e.pinedMessages.map((e=>t.payload.chatId===e.chatId?Object.assign(Object.assign({},e),{items:[t.payload,...e.items]}):e))},removeMessageFromPined(e,t){e.pinedMessages=e.pinedMessages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>e.id!==t.payload))})))},updatePinedMessagesByChatId(e,t){e.pinedMessages=e.pinedMessages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{items:t.payload.messages}):e))},updateMuteTimestampInChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{settings:Object.assign(Object.assign({},e.settings),{muteUntil:t.payload.muteUntil||void 0})}):e))},updateLastUnreadMessage(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload?Object.assign({},e):e))},readAllMessages(e,t){const{chatId:a,profile:r,userId:i,isExternal:s}=t.payload;e.messages=e.messages.map((e=>e.chatId===a?Object.assign(Object.assign({},e),{items:e.items.filter((e=>!e.isFirstUnread)).map((e=>Object.assign(Object.assign({},e),{readBy:e.authorId===i||e.readBy.includes(i)?e.readBy:[...e.readBy,i]})))}):e)),s||(r.authUserId===i?e.chats.items=e.chats.items.map((e=>e.id===a&&e.unreadCount?Object.assign(Object.assign({},e),{unreadCount:0,unreadMentions:[]}):e)):e.chats.items=e.chats.items.map((e=>{var t;if(e.id===a&&(null===(t=e.lastMessage)||void 0===t?void 0:t.authorId)!==i){const{lastMessage:t}=e;return Object.assign(Object.assign({},e),{lastMessage:Object.assign(Object.assign({},t),{readBy:t.readBy.includes(i)?t.readBy:[...t.readBy,i]})})}return e})))},resetMessages(e){e.messages=[]},saveDraftMessage(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{draftMessage:t.payload.message}):e))},setTimestamp(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{timestamp:"now"===t.payload.divider?Date.now():e.originalTimestamp}):e)).sort(l.sortChats)}},extraReducers:{[c.fetchChats.fulfilled.type]:(e,t)=>{e.chats.loading=!1,e.chats.items=t.payload,e.chats.currentChatId&&!t.payload.find((({id:t})=>t===e.chats.currentChatId))&&(e.messages=e.messages.filter((({chatId:t})=>t!==e.chats.currentChatId)),e.chats.currentChatId=void 0)},[c.fetchChats.pending.type]:e=>{e.chats.loading=!0},[c.fetchChats.rejected.type]:e=>{e.chats.loading=!1},[c.fetchMessages.fulfilled.type]:(e,t)=>{e.messages=e.messages.map((e=>{var a,r;if(e.chatId===t.meta.arg.chatId){const{dir:i}=t.meta.arg,s="prev"!==i&&i?e.lastTimestamp:null===(a=t.payload.items[t.payload.items.length-1])||void 0===a?void 0:a.timestamp,d="next"!==i&&i?e.firstTimestamp:null===(r=t.payload.items[0])||void 0===r?void 0:r.timestamp,n="prev"===i?[...e.items,...t.payload.items]:"next"===i?[...t.payload.items,...e.items]:t.payload.items;return Object.assign(Object.assign({},e),{items:p((0,l.getUniqueItems)(n),t.payload.profile),loading:!1,lastTimestamp:s,firstTimestamp:d})}return e}))},[c.fetchMessages.pending.type]:(e,t)=>{t.meta.arg.push||(t.meta.arg.reconnect&&(e.messages=e.messages.filter((({chatId:e})=>e===t.meta.arg.chatId))),e.messages.find((e=>e.chatId===t.meta.arg.chatId))?e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!0}):e)):e.messages.push({chatId:t.meta.arg.chatId,items:[],loading:!0,draftMessage:""}))},[c.fetchMessages.rejected.type]:(e,t)=>{e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!1}):e))},[c.goToMessage.fulfilled.type]:(e,t)=>{var a,r,i;const s=!e.messages.find((e=>{var a;return e.chatId===(null===(a=t.payload.items[0])||void 0===a?void 0:a.chatId)})),d=null===(a=t.payload.items[t.payload.items.length-1])||void 0===a?void 0:a.timestamp,n=null===(r=t.payload.items[0])||void 0===r?void 0:r.timestamp;s?e.messages.push({draftMessage:"",chatId:null===(i=t.payload.items[0])||void 0===i?void 0:i.chatId,items:p(t.payload.items,t.payload.profile),loading:!1,lastTimestamp:d,firstTimestamp:n}):e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{items:p(t.payload.items,t.payload.profile),loading:!1,lastTimestamp:d,firstTimestamp:n}):e))},[c.goToMessage.pending.type]:(e,t)=>{e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!0}):e))},[c.goToMessage.rejected.type]:(e,t)=>{e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!1}):e))},[c.fetchPinedMessages.fulfilled.type]:(e,t)=>{e.pinedMessages=[...e.pinedMessages,t.payload]},[c.createWidget.pending.type]:e=>{e.widgets.loading=!0},[c.createWidget.rejected.type]:e=>{e.widgets.loading=!1},[c.createWidget.fulfilled.type]:(e,t)=>{e.widgets.data=[...e.widgets.data,t.payload],e.widgets.meta.total=e.widgets.meta.total+1,e.widgets.loading=!1},[c.getWidgets.pending.type]:e=>{e.widgets.loading=!0},[c.getWidgets.rejected.type]:e=>{e.widgets.loading=!1},[c.getWidgets.fulfilled.type]:(e,t)=>{e.widgets.data=t.payload.data,e.widgets.meta=t.payload.meta,e.widgets.loading=!1},[c.deleteWidget.fulfilled.type]:(e,t)=>{e.widgets.data=e.widgets.data.filter((e=>e.id!==t.payload.id))},[c.updateWidget.fulfilled.type]:(e,t)=>{e.widgets.data=e.widgets.data.map((e=>e.id===t.payload.id?t.payload:e))}}}),r=t.chatSlice.actions,t.appendChats=r.appendChats,t.setCurrentChat=r.setCurrentChat,t.unsetCurrentChat=r.unsetCurrentChat,t.removeChat=r.removeChat,t.leaveChat=r.leaveChat,t.addMembers=r.addMembers,t.deleteMembers=r.deleteMembers,t.unshiftMessage=r.unshiftMessage,t.updateChat=r.updateChat,t.removeMessage=r.removeMessage,t.updateMessage=r.updateMessage,t.setEditableMessageId=r.setEditableMessageId,t.setParentMessageId=r.setParentMessageId,t.readMessage=r.readMessage,t.readMessages=r.readMessages,t.setActiveMessengerType=r.setActiveMessengerType,t.setForwardMessage=r.setForwardMessage,t.pinChat=r.pinChat,t.unpinChat=r.unpinChat,t.saveScrollPosition=r.saveScrollPosition,t.setMessage=r.setMessage,t.selectMessage=r.selectMessage,t.unselectMessage=r.unselectMessage,t.clearSelected=r.clearSelected,t.incSelectNotMyMessageCount=r.incSelectNotMyMessageCount,t.decSelectNotMyMessageCount=r.decSelectNotMyMessageCount,t.addMessageInToPined=r.addMessageInToPined,t.removeMessageFromPined=r.removeMessageFromPined,t.updatePinedMessagesByChatId=r.updatePinedMessagesByChatId,t.updateMuteTimestampInChat=r.updateMuteTimestampInChat,t.updateLastUnreadMessage=r.updateLastUnreadMessage,t.readAllMessages=r.readAllMessages,t.resetMessages=r.resetMessages,t.saveDraftMessage=r.saveDraftMessage,t.setTimestamp=r.setTimestamp,t.default=t.chatSlice.reducer},3e3:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchExternalChats=void 0;const i=a(5184),s=a(4809),d=a(4636);t.fetchExternalChats=(0,i.createAsyncThunk)("messenger/fetchExternalChats",(({getFormattedUserName:e},{rejectWithValue:t,getState:a})=>r(void 0,void 0,void 0,(function*(){try{const t=a(),r=t.users.data.filter((e=>e.authUserId)),i=t.profile.data,{data:n}=yield s.uspacySdk.messengerService.getChats({type:"EXTERNAL"});return(0,d.formatChats)(n,r,i,e)}catch(e){return t(e)}}))))},9516:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.readExtChat=t.updateConnectedCrmEntitiesByKey=t.addConnectedCrmEntities=t.setConnectedCrmEntities=t.setInviteStatus=t.setTimestamp=t.readExtMessagesAction=t.readLastMessageInExternalChat=t.deleteExternalMembersAction=t.addExternalMembersAction=t.appendChatsToUndistributed=t.addChatToUndistributed=t.updateChat=t.removeChatFromInactive=t.unshiftLastMessage=t.removeChatFromActive=t.removeChatFromUndistributed=t.addChatToInactive=t.addChatToActive=t.unsetCurrentChat=t.setCurrentChat=t.externalChatSlice=void 0;const i=a(5184),s=a(4636),d=a(3e3);t.externalChatSlice=(0,i.createSlice)({name:"messengerExternal",initialState:{externalChats:{loading:!0,items:{active:[],undistributed:[],inactive:[]},externalChatsLength:0,crmConnectEntities:{leads:[],contacts:[],companies:[],deals:[]}}},reducers:{setCurrentChat(e,t){e.externalChats.currentChatId=t.payload},unsetCurrentChat(e){e.externalChats.currentChatId=void 0},updateChat(e,t){e.externalChats.items=(0,s.updateExternalChat)(e.externalChats.items,t.payload)},addChatToActive(e,t){e.externalChats.items.active=[t.payload,...e.externalChats.items.active]},addChatToInactive(e,t){e.externalChats.items.inactive=[t.payload,...e.externalChats.items.inactive]},addChatToUndistributed(e,t){e.externalChats.items.undistributed=[t.payload,...e.externalChats.items.undistributed]},removeChatFromUndistributed(e,t){e.externalChats.items.undistributed=e.externalChats.items.undistributed.filter((e=>e.id!==t.payload))},removeChatFromInactive(e,t){e.externalChats.items.inactive=e.externalChats.items.inactive.filter((e=>e.id!==t.payload))},removeChatFromActive(e,t){e.externalChats.currentChatId===t.payload&&(e.externalChats.currentChatId=void 0),e.externalChats.items.active=e.externalChats.items.active.filter((e=>e.id!==t.payload))},unshiftLastMessage(e,t){const{chatId:a,item:r,profile:i}=t.payload;e.externalChats.items=(0,s.updateLastMessageInExternalChat)(e.externalChats.items,a,r,i)},appendChatsToUndistributed(e,t){e.externalChats.items.undistributed=[t.payload,...e.externalChats.items.undistributed]},addExternalMembersAction(e,t){e.externalChats.items=Object.assign(Object.assign({},e.externalChats.items),{active:e.externalChats.items.active.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:[...e.members,...t.payload.members].filter(s.onlyUnique)}):e))})},deleteExternalMembersAction(e,t){e.externalChats.items=Object.assign(Object.assign({},e.externalChats.items),{active:e.externalChats.items.active.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:e.members.filter((e=>!t.payload.members.includes(e)))}):e))})},readLastMessageInExternalChat(e,t){const{message:a,userId:r}=t.payload;e.externalChats.items.active=(0,s.updateUnreadCountAndMentionedByChatId)((0,s.readLastMessageInChat)(e.externalChats.items.active,a,r),a.chatId,r,a)},readExtMessagesAction(e,t){const{items:a,chatId:r,profile:i}=t.payload;e.externalChats.items.active=(0,s.readLastMessagesInChat)(e.externalChats.items.active,a,r,i)},setTimestamp(e,t){e.externalChats.items.active=e.externalChats.items.active.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{timestamp:"now"===t.payload.divider?Date.now():e.originalTimestamp}):e)).sort(s.sortChats)},setInviteStatus(e,t){e.externalChats.items.active=e.externalChats.items.active.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{isInviteChat:t.payload.value}):e))},setConnectedCrmEntities(e,t){e.externalChats.crmConnectEntities=t.payload},updateConnectedCrmEntitiesByKey(e,t){const{type:a,items:r}=t.payload;e.externalChats.crmConnectEntities[a]=r},addConnectedCrmEntities(e,t){e.externalChats.crmConnectEntities[t.payload.type].push(t.payload.item)},readExtChat(e,t){const{chatId:a,profile:r,userId:i}=t.payload;r.authUserId===i?e.externalChats.items.active=e.externalChats.items.active.map((e=>e.id===a&&e.unreadCount?Object.assign(Object.assign({},e),{unreadCount:0,unreadMentions:[]}):e)):e.externalChats.items.active=e.externalChats.items.active.map((e=>{var t;if(e.id===a&&(null===(t=e.lastMessage)||void 0===t?void 0:t.authorId)!==i){const{lastMessage:t}=e;return Object.assign(Object.assign({},e),{lastMessage:Object.assign(Object.assign({},t),{readBy:t.readBy.includes(i)?t.readBy:[...t.readBy,i]})})}return e}))}},extraReducers:{[d.fetchExternalChats.fulfilled.type]:(e,t)=>{e.externalChats.loading=!1,e.externalChats.externalChatsLength=t.payload.length,e.externalChats.items=(0,s.separateExternalChats)(t.payload)},[d.fetchExternalChats.pending.type]:e=>{e.externalChats.loading=!0},[d.fetchExternalChats.rejected.type]:e=>{e.externalChats.loading=!1}}}),r=t.externalChatSlice.actions,t.setCurrentChat=r.setCurrentChat,t.unsetCurrentChat=r.unsetCurrentChat,t.addChatToActive=r.addChatToActive,t.addChatToInactive=r.addChatToInactive,t.removeChatFromUndistributed=r.removeChatFromUndistributed,t.removeChatFromActive=r.removeChatFromActive,t.unshiftLastMessage=r.unshiftLastMessage,t.removeChatFromInactive=r.removeChatFromInactive,t.updateChat=r.updateChat,t.addChatToUndistributed=r.addChatToUndistributed,t.appendChatsToUndistributed=r.appendChatsToUndistributed,t.addExternalMembersAction=r.addExternalMembersAction,t.deleteExternalMembersAction=r.deleteExternalMembersAction,t.readLastMessageInExternalChat=r.readLastMessageInExternalChat,t.readExtMessagesAction=r.readExtMessagesAction,t.setTimestamp=r.setTimestamp,t.setInviteStatus=r.setInviteStatus,t.setConnectedCrmEntities=r.setConnectedCrmEntities,t.addConnectedCrmEntities=r.addConnectedCrmEntities,t.updateConnectedCrmEntitiesByKey=r.updateConnectedCrmEntitiesByKey,t.readExtChat=r.readExtChat,t.default=t.externalChatSlice.reducer},7263:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.importAmoEntities=t.fetchAmo=void 0;const i=a(5184),s=a(4809);t.fetchAmo=(0,i.createAsyncThunk)("amoCRM/fetchEntities",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getAmoEntites(e)).data}catch(e){return t(e)}})))),t.importAmoEntities=(0,i.createAsyncThunk)("amoCRM/importEntities",(({systemId:e,data:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.importAmoEntities(e,t)).data}catch(e){return a(e)}}))))},8443:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setAmoData=void 0;const r=a(5184),i=a(7263),s=(0,r.createSlice)({name:"amoEntities",initialState:{amoEntities:{},loadingAmo:!1,errorLoadingAmo:null,amoData:[]},reducers:{setAmoData:(e,t)=>{e.amoData=t.payload}},extraReducers:{[i.fetchAmo.fulfilled.type]:(e,t)=>{e.loadingAmo=!1,e.errorLoadingAmo=null,e.amoEntities=t.payload},[i.fetchAmo.pending.type]:e=>{e.loadingAmo=!0,e.errorLoadingAmo=null},[i.fetchAmo.rejected.type]:(e,t)=>{e.loadingAmo=!1,e.errorLoadingAmo=t.payload}}});t.setAmoData=s.actions.setAmoData,t.default=s.reducer},8757:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.importBitrix24Entities=t.fetchBitrix24=void 0;const i=a(5184),s=a(4809);t.fetchBitrix24=(0,i.createAsyncThunk)("bitrix24/fetchEntities",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getBitrix24Entities(e)).data}catch(e){return t(e)}})))),t.importBitrix24Entities=(0,i.createAsyncThunk)("bitrix24/importBitrix24Entities",(({webhook:e,data:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.importBitrix24Entities(e,t)).data}catch(e){return a(e)}}))))},585:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearFetchError=t.setB24Data=void 0;const i=a(5184),s=a(8757),d=(0,i.createSlice)({name:"bitrix24Entities",initialState:{bitrix24Entities:{},loadingBitrix24:!1,loadingImportBitrix24:!1,errorLoadingBitrix24:null,errorLoadingImportBitrix24:null,b24Data:[]},reducers:{setB24Data:(e,t)=>{e.b24Data=t.payload},clearFetchError:e=>{e.errorLoadingBitrix24=null}},extraReducers:{[s.fetchBitrix24.fulfilled.type]:(e,t)=>{e.loadingBitrix24=!1,e.errorLoadingBitrix24=null,e.bitrix24Entities=t.payload},[s.fetchBitrix24.pending.type]:e=>{e.loadingBitrix24=!0,e.errorLoadingBitrix24=null},[s.fetchBitrix24.rejected.type]:(e,t)=>{e.loadingBitrix24=!1,e.errorLoadingBitrix24=t.payload}}});r=d.actions,t.setB24Data=r.setB24Data,t.clearFetchError=r.clearFetchError,t.default=d.reducer},7801:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getDataPresence=void 0;const i=a(5184),s=a(4809);t.getDataPresence=(0,i.createAsyncThunk)("zoho/getDataPresence",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getDataPresence()).data}catch(e){return t(e)}}))))},216:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(7801),s=(0,r.createSlice)({name:"presenceData",initialState:{companyInfo:{},loadingCompanyInfo:!1,errorCompanyInfo:!1},reducers:{},extraReducers:{[i.getDataPresence.fulfilled.type]:(e,t)=>{e.loadingCompanyInfo=!1,e.errorCompanyInfo=null,e.companyInfo=t.payload},[i.getDataPresence.pending.type]:e=>{e.loadingCompanyInfo=!0,e.errorCompanyInfo=null},[i.getDataPresence.rejected.type]:e=>{e.loadingCompanyInfo=!1,e.errorCompanyInfo=!0}}});t.default=s.reducer},4918:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),s=r(a(8443)),d=r(a(585)),n=r(a(216)),o=r(a(8791)),l=r(a(8010)),c=r(a(90)),u=r(a(2819)),p=(0,i.combineReducers)({amo:s.default,bitrix24:d.default,dataPresence:n.default,progress:o.default,allSystems:l.default,stopImport:c.default,systemWithKey:u.default});t.default=p},1572:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getMondayStatus=t.getSystemStatus=void 0;const i=a(5184),s=a(4809);t.getSystemStatus=(0,i.createAsyncThunk)("import/systemStatus",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getSystemProgress(e)).data}catch(e){return t(e)}})))),t.getMondayStatus=(0,i.createAsyncThunk)("progress/mondayStatus",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getMondayProgress(e)).data}catch(e){return t(e)}}))))},5175:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAllSystemsStatus=void 0;const i=a(5184),s=a(4809);t.getAllSystemsStatus=(0,i.createAsyncThunk)("import/systemStatus",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getAllSystemsStatus()).data}catch(e){return t(e)}}))))},8010:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(5175),s=(0,r.createSlice)({name:"allSystemsStatus",initialState:{allSystemsStatus:{},loadingProgress:!1,errorLoadingProgress:null},reducers:{},extraReducers:{[i.getAllSystemsStatus.fulfilled.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=null,e.allSystemsStatus=t.payload},[i.getAllSystemsStatus.pending.type]:e=>{e.loadingProgress=!0,e.errorLoadingProgress=null},[i.getAllSystemsStatus.rejected.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=t.payload}}});t.default=s.reducer},8791:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(1572),s=(0,r.createSlice)({name:"systemStatus",initialState:{systemStatus:{},loadingProgress:!1,errorLoadingProgress:null},reducers:{},extraReducers:{[i.getSystemStatus.fulfilled.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=null,e.systemStatus=t.payload},[i.getSystemStatus.pending.type]:e=>{e.loadingProgress=!0,e.errorLoadingProgress=null},[i.getSystemStatus.rejected.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=t.payload},[i.getMondayStatus.fulfilled.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=null,e.systemStatus=t.payload},[i.getMondayStatus.pending.type]:e=>{e.loadingProgress=!0,e.errorLoadingProgress=null},[i.getMondayStatus.rejected.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=t.payload}}});t.default=s.reducer},7557:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.stopImport=void 0;const i=a(5184),s=a(4809);t.stopImport=(0,i.createAsyncThunk)("import/systemStop",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.migrationsService.stopImport(e)}catch(e){return t(e)}}))))},90:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),i=a(7557),s=(0,r.createSlice)({name:"systemStatus",initialState:{systemStatus:{},loading:!1,error:null},reducers:{},extraReducers:{[i.stopImport.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.systemStatus=t.payload},[i.stopImport.pending.type]:e=>{e.loading=!0,e.error=null},[i.stopImport.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload}}});t.default=s.reducer},9895:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.importMigrationEntities=t.fetchMigrationEntity=void 0;const i=a(5184),s=a(4809);t.fetchMigrationEntity=(0,i.createAsyncThunk)("systemsWithKey/fetchMigrationEntities",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getMigrationEntities(e.apiKey,e.systemName)).data}catch(e){return t(e)}})))),t.importMigrationEntities=(0,i.createAsyncThunk)("systemsWithKey/importMigrationEntities",(({apiKey:e,data:t,systemName:a,body:i},{rejectWithValue:d})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.importMigrationEntities(e,t,a,i)).data}catch(e){return d(e)}}))))},2819:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearFetchError=t.setSystemData=void 0;const i=a(5184),s=a(9895),d=(0,i.createSlice)({name:"systemEntities",initialState:{systemEntities:{},loadingSystem:!1,loadingImportSystem:!1,errorLoadingSystem:null,errorLoadingImportSystem:null,systemData:[]},reducers:{setSystemData:(e,t)=>{e.systemData=t.payload},clearFetchError:e=>{e.errorLoadingSystem=null}},extraReducers:{[s.fetchMigrationEntity.fulfilled.type]:(e,t)=>{e.loadingSystem=!1,e.errorLoadingSystem=null,e.systemEntities=t.payload},[s.fetchMigrationEntity.pending.type]:e=>{e.loadingSystem=!0,e.errorLoadingSystem=null},[s.fetchMigrationEntity.rejected.type]:(e,t)=>{e.loadingSystem=!1,e.errorLoadingSystem=t.payload},[s.importMigrationEntities.fulfilled.type]:e=>{e.loadingImportSystem=!1,e.errorLoadingImportSystem=null},[s.importMigrationEntities.pending.type]:e=>{e.loadingImportSystem=!0,e.errorLoadingImportSystem=null},[s.importMigrationEntities.rejected.type]:(e,t)=>{e.loadingImportSystem=!1,e.errorLoadingImportSystem=t.payload}}});r=d.actions,t.setSystemData=r.setSystemData,t.clearFetchError=r.clearFetchError,t.default=d.reducer},9153:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deletePost=t.editPost=t.createPost=t.fetchPostById=t.fetchPosts=void 0;const i=a(5184),s=a(4809);t.fetchPosts=(0,i.createAsyncThunk)("postsReducer/fetchPosts",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.getPosts(e.page,e.list,e.group_id)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchPostById=(0,i.createAsyncThunk)("postsReducer/fetchPostById",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.getPost(e.id)).data}catch(e){return t.rejectWithValue(e)}})))),t.createPost=(0,i.createAsyncThunk)("postsReducer/createPost",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.createPost(e)).data}catch(e){return t(e)}})))),t.editPost=(0,i.createAsyncThunk)("postsReducer/editedPost",(({data:e,id:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.updatePost(t,e)).data}catch(e){return a.rejectWithValue(e)}})))),t.deletePost=(0,i.createAsyncThunk)("postsReducer/deletePost",(({id:e,notify:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.newsFeedService.deletePost(e,t),e}catch(e){return a.rejectWithValue(e)}}))))},3516:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postsReducer=void 0;const r=a(5184),i=a(9153);t.postsReducer=(0,r.createSlice)({name:"postsReducer",initialState:{loadPosts:{data:[],meta:null},allPosts:[],post:{},newPost:{placeholderInputTitle:"",labelInputTitle:"",isShowAddPost:!1,valuePlaceholderEditor:"",titlePost:"",whichMethod:"delete",postId:"",recipients:{include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}},authorMood:"",fileIds:[],group_id:null,notify:{users:[],groups:[],departments:[]}},editPostItem:{id:"",files:[],fileIds:[],editStatus:!1,author_mood:"",date:0,recipients:{include:{users:[],departments:[]},exclude:{departments:[],users:[]}},authorId:"",message:"",title:"",notify:{users:[],groups:[],departments:[]}},isNewPostCreate:!1,loadPost:!0,loadingPosts:!1,loadingCreatePost:!1,loadingEditPost:!1,loadingDeletePost:!1,errorLoadingPosts:null,errorLoadingCreatedPost:null,errorEditingPost:null,errorDeletingPost:null},reducers:{changeTitle:(e,t)=>{e.newPost.titlePost=t.payload},showPost:(e,t)=>{e.newPost.placeholderInputTitle=t.payload.placeholder,e.newPost.labelInputTitle=t.payload.labelInput,e.newPost.isShowAddPost=t.payload.isShowPost},defaultPost:(e,t)=>{e.newPost.placeholderInputTitle=t.payload.placeholder,e.newPost.labelInputTitle=t.payload.labelInput,e.newPost.valuePlaceholderEditor="",e.newPost.fileIds=[],e.newPost.isShowAddPost=!1,e.newPost.titlePost="",e.newPost.whichMethod="delete",e.newPost.postId="",e.newPost.authorMood="",e.newPost.recipients={include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}}},changeMainContent:(e,t)=>{e.newPost.valuePlaceholderEditor=t.payload},changeMood:(e,t)=>{e.newPost.authorMood=t.payload},changeNewPostStatus:(e,t)=>{e.isNewPostCreate=t.payload},deletePostFromPosts:(e,t)=>{e.allPosts=e.allPosts.filter((e=>e.id!==t.payload))},addToAllPosts:(e,t)=>{e.allPosts=t.payload},changeRecipients:(e,t)=>{e.newPost.recipients.include.usersIds=t.payload},changeFileIds:(e,t)=>{e.newPost.fileIds=t.payload},changeTitleEditPost:(e,t)=>{e.editPostItem.title=t.payload},changeMoodEditPost:(e,t)=>{e.editPostItem.author_mood=t.payload},changeMessageEditPost:(e,t)=>{e.editPostItem.message=t.payload},changeFileIdsEditPost:(e,t)=>{e.editPostItem.fileIds=t.payload},changeRecipientsEditPost:(e,t)=>{e.editPostItem.recipients.include.usersIds=t.payload},fillEditPost:(e,t)=>{var a,r;e.editPostItem.editStatus=!0,e.editPostItem.id=t.payload.id,e.editPostItem.title=t.payload.title,e.editPostItem.message=t.payload.message,e.editPostItem.author_mood=t.payload.author_mood,e.editPostItem.authorId=t.payload.authorId,e.editPostItem.recipients=t.payload.recipients?t.payload.recipients:{include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}},e.editPostItem.files=(null===(a=t.payload)||void 0===a?void 0:a.files)?null===(r=t.payload)||void 0===r?void 0:r.files:[]},cancelEditPost:e=>{e.editPostItem.id="",e.editPostItem.files=[],e.editPostItem.fileIds=[],e.editPostItem.editStatus=!1,e.editPostItem.author_mood="",e.editPostItem.date=0,e.editPostItem.recipients={include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}},e.editPostItem.authorId="",e.editPostItem.message="",e.editPostItem.title=""},deleteFileFromPost:(e,t)=>{e.allPosts=e.allPosts.map((e=>e.id===t.payload.postId?Object.assign(Object.assign({},e),{files:e.files.filter((e=>e.id!==t.payload.deleteFileId))}):e)),e.editPostItem=Object.assign(Object.assign({},e.editPostItem),{files:e.editPostItem.files.filter((e=>e.id!==t.payload.deleteFileId))})},addFileToPost:(e,t)=>{e.allPosts=e.allPosts.map((e=>{var a;return e.id===t.payload.postId?Object.assign(Object.assign({},e),{files:(null===(a=null==e?void 0:e.files)||void 0===a?void 0:a.length)>0?[...e.files,...t.payload.file]:[...t.payload.file]}):e}))},clearPosts:e=>{e.loadPosts.data=[],e.allPosts=[],e.loadingPosts=!0},groupIdForPost:(e,t)=>{e.newPost.group_id=t.payload}},extraReducers:{[i.fetchPosts.fulfilled.type]:(e,t)=>{e.loadingPosts=!1,e.errorLoadingPosts=null,e.loadPosts=null==t?void 0:t.payload},[i.fetchPosts.pending.type]:e=>{e.loadingPosts=!0},[i.fetchPosts.rejected.type]:(e,t)=>{e.loadingPosts=!1,e.errorLoadingPosts=null==t?void 0:t.payload},[i.fetchPostById.fulfilled.type]:(e,t)=>{e.loadPost=!1,e.errorLoadingPosts=null,e.post=null==t?void 0:t.payload.data},[i.fetchPostById.pending.type]:e=>{e.loadPost=!0},[i.fetchPostById.rejected.type]:(e,t)=>{e.loadPost=!1,e.errorLoadingPosts=null==t?void 0:t.payload},[i.createPost.fulfilled.type]:(e,t)=>{e.isNewPostCreate=!0,e.loadPosts.data=[t.payload.data],e.loadingCreatePost=!1,e.errorLoadingCreatedPost=null,e.newPost.valuePlaceholderEditor="",e.newPost.isShowAddPost=!1,e.newPost.titlePost="",e.newPost.whichMethod="delete",e.newPost.postId="",e.newPost.authorMood="",e.newPost.recipients={}},[i.createPost.pending.type]:e=>{e.loadingCreatePost=!0,e.isNewPostCreate=!1},[i.createPost.rejected.type]:(e,t)=>{e.loadingCreatePost=!1,e.isNewPostCreate=!1,e.errorLoadingCreatedPost=null==t?void 0:t.payload},[i.editPost.fulfilled.type]:(e,t)=>{e.loadingEditPost=!1,e.errorEditingPost=null,e.allPosts=e.allPosts.map((e=>e.id===t.payload.data.id?Object.assign(Object.assign({},t.payload.data),{files:e.files}):e))},[i.editPost.pending.type]:e=>{e.loadingEditPost=!0},[i.editPost.rejected.type]:(e,t)=>{e.loadingEditPost=!1,e.errorEditingPost=null==t?void 0:t.payload},[i.deletePost.fulfilled.type]:(e,t)=>{e.loadingDeletePost=!1,e.errorDeletingPost=null,e.allPosts=e.allPosts.filter((e=>+e.id!=+(null==t?void 0:t.payload)))},[i.deletePost.pending.type]:e=>{e.loadingDeletePost=!0},[i.deletePost.rejected.type]:(e,t)=>{e.loadingDeletePost=!1,e.errorDeletingPost=null==t?void 0:t.payload}}}),t.default=t.postsReducer.reducer},9847:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNotifications=void 0;const i=a(5184),s=a(4809),d=a(6462);t.fetchNotifications=(0,i.createAsyncThunk)("notifications/fetchNotifications",((e,{rejectWithValue:t,getState:a})=>r(void 0,void 0,void 0,(function*(){try{const e=a(),t=e.users.data,r=e.profile.data.id,{data:i}=yield s.uspacySdk.notificationsService.getNotifications();return i.map((e=>(0,d.transformNotificationMessage)(e,t,r)))}catch(e){return t(e)}}))))},4656:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.readNotification=t.readAllNotifications=t.setNotifications=t.addNotifications=void 0;const i=a(5184),s=a(9847),d=(0,i.createSlice)({name:"notifications",initialState:{notifications:[],loading:!0},reducers:{setNotifications(e,t){e.notifications=t.payload},addNotifications(e,t){e.notifications=[t.payload,...e.notifications]},readNotification(e,t){e.notifications=e.notifications.map((e=>e.id===t.payload?Object.assign(Object.assign({},e),{read:!0}):e))},readAllNotifications(e){e.notifications=e.notifications.map((e=>Object.assign(Object.assign({},e),{read:!0})))}},extraReducers:{[s.fetchNotifications.fulfilled.type]:(e,t)=>{e.loading=!1,e.notifications=t.payload},[s.fetchNotifications.pending.type]:e=>{e.loading=!0},[s.fetchNotifications.rejected.type]:e=>{e.loading=!1}}});r=d.actions,t.addNotifications=r.addNotifications,t.setNotifications=r.setNotifications,t.readAllNotifications=r.readAllNotifications,t.readNotification=r.readNotification,t.default=d.reducer},2382:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setVatTaxIdError=t.setLegalEntityFormEuComErrors=t.setLegalEntityFormEuCom=t.setLegalEntityFormErrors=t.setLegalEntityForm=t.setIndividualPersonFormErrors=t.setIndividualPersonForm=t.setAutomaticSubscriptionRenewal=t.setVatTaxStatus=t.setTariffActionType=t.setPaymentMethod=t.setTypeOfPayer=t.setDiscounts=t.setRadioValueTariffState=t.setTariff=t.setDurationView=t.setUsersCount=t.setPrice=t.setIsPaymentProcess=t.setIsPaymentButtonPress=void 0;const i=(0,a(5184).createSlice)({name:"paymentsReducer",initialState:{isPaymentButtonPress:!1,isPaymentProcess:!1,price:{professional:1,standard:1},usersCount:0,durationView:"yearly",tariff:"professional",radioValueTariffState:"professional",discountInput:{type:"percentage",value:0},discountSeason:{type:"percentage",value:0},typeOfPayer:"individual",paymentMethod:"card",tariffActionType:"changeTheTariff",vatTaxStatus:"",automaticSubscriptionRenewal:!1,individualPersonForm:{firstName:"",lastName:"",phone:"",email:""},legalEntityForm:{contactPersonPhone:"",contactPersonEmail:"",itinCode:"",companyName:"",legalAddress:"",directorsFullName:""},legalEntityFormEuCom:{firstName:"",lastName:"",email:"",phone:""},individualPersonFormErrors:{firstNameErr:!1,lastNameErr:!1,phoneErr:!1,emailErr:!1},legalEntityFormErrors:{contactPersonPhoneErr:!1,contactPersonEmailErr:!1,itinCodeErr:!1,companyNameErr:!1,legalAddressErr:!1,directorsFullNameErr:!1},legalEntityFormEuComErrors:{firstNameErr:!1,lastNameErr:!1,emailErr:!1,phoneErr:!1},vatTaxIdError:!1},reducers:{setIsPaymentButtonPress:(e,t)=>{e.isPaymentButtonPress=t.payload},setIsPaymentProcess:(e,t)=>{e.isPaymentProcess=t.payload},setPrice:(e,t)=>{e.price=t.payload},setUsersCount:(e,t)=>{e.usersCount=t.payload},setDurationView:(e,t)=>{e.durationView=t.payload},setTariff:(e,t)=>{e.tariff=t.payload},setRadioValueTariffState:(e,t)=>{e.radioValueTariffState=t.payload},setDiscounts:(e,t)=>{"input"===t.payload.type&&(e.discountInput=t.payload.discount),"season"===t.payload.type&&(e.discountSeason=t.payload.discount)},setTypeOfPayer:(e,t)=>{e.typeOfPayer=t.payload},setPaymentMethod:(e,t)=>{e.paymentMethod=t.payload},setTariffActionType:(e,t)=>{e.tariffActionType=t.payload},setVatTaxStatus:(e,t)=>{e.vatTaxStatus=t.payload},setAutomaticSubscriptionRenewal:(e,t)=>{e.automaticSubscriptionRenewal=t.payload},setIndividualPersonForm:(e,t)=>{e.individualPersonForm=t.payload},setIndividualPersonFormErrors:(e,t)=>{e.individualPersonFormErrors=t.payload},setLegalEntityForm:(e,t)=>{e.legalEntityForm=t.payload},setLegalEntityFormErrors:(e,t)=>{e.legalEntityFormErrors=t.payload},setLegalEntityFormEuCom:(e,t)=>{e.legalEntityFormEuCom=t.payload},setLegalEntityFormEuComErrors:(e,t)=>{e.legalEntityFormEuComErrors=t.payload},setVatTaxIdError:(e,t)=>{e.vatTaxIdError=t.payload}},extraReducers:{}});r=i.actions,t.setIsPaymentButtonPress=r.setIsPaymentButtonPress,t.setIsPaymentProcess=r.setIsPaymentProcess,t.setPrice=r.setPrice,t.setUsersCount=r.setUsersCount,t.setDurationView=r.setDurationView,t.setTariff=r.setTariff,t.setRadioValueTariffState=r.setRadioValueTariffState,t.setDiscounts=r.setDiscounts,t.setTypeOfPayer=r.setTypeOfPayer,t.setPaymentMethod=r.setPaymentMethod,t.setTariffActionType=r.setTariffActionType,t.setVatTaxStatus=r.setVatTaxStatus,t.setAutomaticSubscriptionRenewal=r.setAutomaticSubscriptionRenewal,t.setIndividualPersonForm=r.setIndividualPersonForm,t.setIndividualPersonFormErrors=r.setIndividualPersonFormErrors,t.setLegalEntityForm=r.setLegalEntityForm,t.setLegalEntityFormErrors=r.setLegalEntityFormErrors,t.setLegalEntityFormEuCom=r.setLegalEntityFormEuCom,t.setLegalEntityFormEuComErrors=r.setLegalEntityFormEuComErrors,t.setVatTaxIdError=r.setVatTaxIdError,t.default=i.reducer},995:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProfileField=t.deleteProfileListValues=t.createProfileField=t.updateProfileListValues=t.updateProfileField=t.fetchProfileFields=t.removeTemplate=t.updateTemplate=t.createTemplate=t.fetchBasicTemplates=t.fetchTemplates=t.removeRequisite=t.updateRequisite=t.fetchRequisites=t.fetchProfile=void 0;const i=a(5184),s=a(4809);t.fetchProfile=(0,i.createAsyncThunk)("profile/fetchProfile",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.getProfile()).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchRequisites=(0,i.createAsyncThunk)("crm/fetchRequisites",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.getRequisites()).data}catch(e){return t.rejectWithValue(e)}})))),t.updateRequisite=(0,i.createAsyncThunk)("crm/updateRequisite",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.updateRequisite(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.removeRequisite=(0,i.createAsyncThunk)("crm/removeRequisite",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.profileService.removeRequisite(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchTemplates=(0,i.createAsyncThunk)("crm/fetchTemplates",((e,t)=>r(void 0,void 0,void 0,(function*(){const{page:a,list:r}=e;try{return(yield s.uspacySdk.profileService.getTemplates(a,r)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchBasicTemplates=(0,i.createAsyncThunk)("crm/fetchBasicTemplates",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.getBasicTemplates()).data}catch(e){return t.rejectWithValue(e)}})))),t.createTemplate=(0,i.createAsyncThunk)("crm/createTemplate",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.createTemplate(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.updateTemplate=(0,i.createAsyncThunk)("crm/updateTemplate",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.updateTemplate(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.removeTemplate=(0,i.createAsyncThunk)("crm/removeTemplate",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.profileService.removeTemplate(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchProfileFields=(0,i.createAsyncThunk)("profile/fetchProfileFields",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=yield s.uspacySdk.profileService.getProfileFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue(e)}})))),t.updateProfileField=(0,i.createAsyncThunk)("profile/updateProfileField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.profileService.updateProfileField(e.code,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.updateProfileListValues=(0,i.createAsyncThunk)("profile/updateProfileListValues",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.profileService.updateProfileListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue(e)}})))),t.createProfileField=(0,i.createAsyncThunk)("profile/createProfileField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.profileService.createProfileField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteProfileListValues=(0,i.createAsyncThunk)("contacts/deleteProfileListValues",(({fieldCode:e,value:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.profileService.deleteProfileListValues(e,t),{value:t,fieldCode:e}}catch(e){return a.rejectWithValue(e)}})))),t.deleteProfileField=(0,i.createAsyncThunk)("profile/deleteProfileField",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.profileService.deleteProfileField(e),e}catch(e){return t.rejectWithValue(e)}}))))},5150:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.profileSlice=void 0;const i=a(5184),s=r(a(9591)),d=a(3970),n=a(3925),o=a(995);t.profileSlice=(0,i.createSlice)({name:"profile",initialState:{loading:!0,loadingTemplates:{loadingCreateTemplates:!1,loadingReadTemplates:!1,loadingUpdateTemplates:!1,loadingDeleteTemplates:!1},loadingRequisites:{loadingCreateRequisites:!1,loadingReadRequisites:!1,loadingUpdateRequisites:!1,loadingDeleteRequisites:!1},loadingFields:{create:!1,get:!1,update:!1,delete:!1},fields:[],errorLoading:null},reducers:{clearProfile(e){e.data=void 0},setLoading(e,t){e.loading=t.payload},addToRequisites(e,t){e.requisites=(0,n.checkBasicRequisite)([t.payload,...e.requisites],t.payload)},updateRequisites(e,t){e.requisites=(0,n.checkBasicRequisite)(e.requisites,t.payload)}},extraReducers:{[o.fetchProfile.fulfilled.type]:(e,t)=>{e.loading=!1,e.data=t.payload,e.currentRequestId=void 0},[o.fetchProfile.pending.type]:(e,t)=>{e.loading=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.fetchProfile.rejected.type]:(e,t)=>{e.loading=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.fetchProfileFields.fulfilled.type]:(e,t)=>{e.loadingFields.get=!1;const a=[d.headField,...(null==t?void 0:t.payload)||[]];e.fields=(0,s.default)(a).map((e=>{var t;return Object.assign(Object.assign({},e),{values:Array.isArray(e.values)?null===(t=e.values)||void 0===t?void 0:t.sort(((e,t)=>e.sort-t.sort)):e.values})}))},[o.fetchProfileFields.pending.type]:e=>{e.loadingFields.get=!0},[o.fetchProfileFields.rejected.type]:e=>{e.loadingFields.get=!1},[o.updateProfileField.pending.type]:(e,t)=>{const a=t.meta.arg;e.fields=e.fields.map((e=>e.code===a.code?Object.assign(Object.assign({},a),{values:(null==a?void 0:a.values)||(null==e?void 0:e.values)}):e))},[o.createProfileField.pending.type]:(e,t)=>{const a=t.meta.arg;e.fields.push(a)},[o.updateProfileListValues.pending.type]:(e,t)=>{const a=t.meta.arg;e.fields=e.fields.map((e=>e.code===a.code?Object.assign(Object.assign({},e),{values:(null==a?void 0:a.values)||(null==e?void 0:e.values)}):e))},[o.deleteProfileListValues.pending.type]:(e,t)=>{e.fields=e.fields.map((e=>(e.code===t.meta.arg.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.meta.arg.value))),e)))},[o.deleteProfileField.pending.type]:(e,t)=>{e.fields=e.fields.filter((e=>e.code!==t.meta.arg))},[o.fetchRequisites.fulfilled.type]:(e,t)=>{e.loadingRequisites.loadingReadRequisites=!1,e.requisites=t.payload.data,e.currentRequestId=void 0},[o.fetchRequisites.pending.type]:(e,t)=>{e.loadingRequisites.loadingReadRequisites=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.fetchRequisites.rejected.type]:(e,t)=>{e.loadingRequisites.loadingReadRequisites=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.updateRequisite.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingRequisites.loadingUpdateRequisites=!1,e.requisites=e.requisites.map((e=>e.id===a.id?Object.assign(Object.assign({},e),{is_basic:!0}):Object.assign(Object.assign({},e),{is_basic:!1}))),e.currentRequestId=void 0},[o.updateRequisite.pending.type]:(e,t)=>{e.loadingRequisites.loadingUpdateRequisites=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.updateRequisite.rejected.type]:(e,t)=>{e.loadingRequisites.loadingUpdateRequisites=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.removeRequisite.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingRequisites.loadingDeleteRequisites=!1,e.requisites=e.requisites.filter((e=>e.id!==a)),e.currentRequestId=void 0},[o.removeRequisite.pending.type]:(e,t)=>{e.loadingRequisites.loadingDeleteRequisites=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.removeRequisite.rejected.type]:(e,t)=>{e.loadingRequisites.loadingDeleteRequisites=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.fetchTemplates.fulfilled.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.templates=t.payload.data,e.currentRequestId=void 0},[o.fetchTemplates.pending.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.fetchTemplates.rejected.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.fetchBasicTemplates.fulfilled.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.basicTemplates=t.payload,e.currentRequestId=void 0},[o.fetchBasicTemplates.pending.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.fetchBasicTemplates.rejected.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.createTemplate.fulfilled.type]:(e,t)=>{e.loadingTemplates.loadingCreateTemplates=!1,e.templates=[t.payload,...e.templates],e.currentRequestId=void 0},[o.createTemplate.pending.type]:(e,t)=>{e.loadingTemplates.loadingCreateTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.createTemplate.rejected.type]:(e,t)=>{e.loadingTemplates.loadingCreateTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.updateTemplate.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingTemplates.loadingUpdateTemplates=!1,e.templates=e.templates.map((e=>e.id===a.id?Object.assign({},t.payload):e)),e.currentRequestId=void 0},[o.updateTemplate.pending.type]:(e,t)=>{e.loadingTemplates.loadingUpdateTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.updateTemplate.rejected.type]:(e,t)=>{e.loadingTemplates.loadingUpdateTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[o.removeTemplate.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingTemplates.loadingDeleteTemplates=!1,e.templates=e.templates.filter((e=>e.id!==a)),e.currentRequestId=void 0},[o.removeTemplate.pending.type]:(e,t)=>{e.loadingTemplates.loadingDeleteTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[o.removeTemplate.rejected.type]:(e,t)=>{e.loadingTemplates.loadingDeleteTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0}}}),t.default=t.profileSlice.reducer},1464:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StoreProvider=t.store=void 0;const r=a(997),i=a(6022),s=a(8527);t.store=(0,s.setupStore)(),t.StoreProvider=({children:e})=>(0,r.jsx)(i.Provider,{store:t.store,children:e})},8091:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateRolePermisionsFunnels=t.getPermissionsFunnels=t.deleteRole=t.createRole=t.updateRole=t.fetchRole=t.fetchPermissions=t.fetchRoles=void 0;const i=a(5184),s=a(4809);t.fetchRoles=(0,i.createAsyncThunk)("roles/fetchRoles",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getRoles()).data}catch(e){return t(e)}})))),t.fetchPermissions=(0,i.createAsyncThunk)("roles/fetchPermissions",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getPermissions()).data}catch(e){return t(e)}})))),t.fetchRole=(0,i.createAsyncThunk)("roles/fetchRole",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getRole(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateRole=(0,i.createAsyncThunk)("roles/updateRole",(({id:e,title:t,usersIds:a,departmentList:i,permissions:d},n)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.updateRole({id:e,title:t,usersIds:a,departmentList:i,permissions:d})).data}catch(e){return n.rejectWithValue(e)}})))),t.createRole=(0,i.createAsyncThunk)("roles/createRole",(({title:e,permissions:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.createRole({title:e,permissions:t})).data}catch(e){return a.rejectWithValue(e)}})))),t.deleteRole=(0,i.createAsyncThunk)("roles/deleteRole",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.rolesService.deleteRole(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.getPermissionsFunnels=(0,i.createAsyncThunk)("roles/getPermissionsFunnels",(({role:e=""},t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getPermissionsFunnels(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateRolePermisionsFunnels=(0,i.createAsyncThunk)("roles/updateRolePermisionsFunnels",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.updateRolePermisionsFunnels(e)).data}catch(e){return t.rejectWithValue("Failure")}}))))},1769:(e,t)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.idsForDisableDeleting=void 0,function(e){e.employeeRole="Employee",e.headOfTheSalesDepartment="Head of the sales department",e.HR="HR",e.head="Head",e.noAccessRole="No Access"}(a||(t.idsForDisableDeleting=a={}))},8980:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearPermissionsFunnels=t.mergeCreatePermissions=t.addPermissionsForColAction=t.allowAllPermissions=t.setActiveModalType=t.updatePermission=t.setActiveRole=t.resetTable=t.resetCounter=t.addUserFromTable=t.selectedRole=t.getNextVal=void 0;const i=a(5184),s=a(1066),d=a(8091),n=a(1769),o=a(9451),l={roles:[],loadingRoles:!1,permissions:{create:[],edit:[],view:[],delete:[]},createPermissions:{create:[...s.disabledPermissions.create],edit:[...s.disabledPermissions.edit],view:[...s.disabledPermissions.view],delete:[...s.disabledPermissions.delete]},createPermissionsModal:{create:[],edit:[],view:[],delete:[]},modalActiveType:"",permissionsControllerView:o.PermissionsControllerViewEnums,filterCounter:0,errorLoadingRoles:null,roleData:{},activeRole:null,permissionsFunnels:{}},c=(0,i.createSlice)({name:"rolesReducer",initialState:l,reducers:{getNextVal(e,t){var a,r,s;const{tabName:d,categoryName:n,colName:o,targetVal:l,storeKey:c,currPickPermission:u}=t.payload,p="view"===o?"edit":"delete",y=(0,i.current)(e[c][p]),g=null===(r=null===(a=y.find((e=>e.split(".").splice(0,3).join(".")===`${d}.${n}.${p}`&&!e.includes("disabled"))))||void 0===a?void 0:a.split("."))||void 0===r?void 0:r.splice(-1)[0],v=y.filter((e=>e.split(".").splice(0,3).join(".")!==`${d}.${n}.${p}`));["view","edit"].includes(o)&&(null===(s={mine:["allowed","department"],disabled:["allowed","mine","department"],department:["allowed"]}[l])||void 0===s?void 0:s.includes(g))&&(e[c][p]=[...v,`${d}.${n}.${p}.${l}`,..."view"===o&&u?[u]:[]])},selectedRole(e,t){e.roleData=t.payload,""===e.activeRole&&(e.roleData.name="",e.roleData.userList=[])},addUserFromTable(e,t){e.roles=e.roles.filter((e=>e.title===t.payload.roleName&&e.userList.map((e=>e.id))!=t.payload.user.id?e.userList.push(t.payload.user):e))},resetCounter(e){e.filterCounter=0,e.activeRole=""},resetTable(e,t){e[t.payload.permissionsType]={create:[],edit:[],view:[],delete:[]}},setActiveRole(e,t){e.activeRole===t.payload?(e.activeRole="",e.filterCounter=0):(e.activeRole=t.payload,e.filterCounter=1)},updatePermission(e,t){const a=e[t.payload.permissionsType][t.payload.key],r=t.payload.value.split(".").slice(0,-1).join("."),i=t.payload.value.split(".").pop(),s=a.filter((e=>{if(e.split(".").slice(0,-1).join(".")!==r)return e}));e[t.payload.permissionsType][t.payload.key]=[...s,"disabled"===i?"":t.payload.value].filter((e=>""!==e))},setActiveModalType(e,t){e.modalActiveType=t.payload},allowAllPermissions(e,t){const a=t.payload.type,r={create:[],edit:[],view:[],delete:[]};Object.keys(e.permissions).forEach((t=>{r[t]=[...r[t],e.permissions[t].filter((e=>"disabled-any"===e.split(".").pop()))]})),r.create=[...r.create,t.payload.currPermission.create].flat(),r.view=[...r.view,t.payload.currPermission.view].flat(),r.edit=[...r.edit,t.payload.currPermission.edit].flat(),r.delete=[...r.delete,t.payload.currPermission.delete].flat(),"create"===a?e.createPermissions=r:e.permissions=r},addPermissionsForColAction(e,t){const{categoryName:a,permissionsType:r,permissionKey:i,isFunnel:s,actionType:d}=t.payload,n="create"===r?e.createPermissions:e.permissions,o={create:[...n.create],edit:[...n.edit],view:[...n.view],delete:[...n.delete]},l=(e,t,...a)=>e.filter((e=>!e.includes(t))).concat(a);s?(o[d]=l(o[d],a,`${a}.${d}.${i}`),"create"===d&&(o.create=l(o.create,a,`${a}.create.mine.disabled-any`,`${a}.create.${i}`)),"view"===d&&("allowed"===i&&(o.view=l(o.view,a,`${a}.view.${i}`)),"disabled"===i&&(o.edit=l(o.edit,a,`${a}.edit.disabled-any`),o.delete=l(o.delete,a,`${a}.delete.disabled-any`)),"mine"===i&&(o.edit=l(o.edit,a,`${a}.${d}.${i}`),o.delete=l(o.delete,a,`${a}.${d}.${i}`)),"department"===i&&(o.edit=l(o.edit,a,`${a}.${d}.${i}`),o.delete=l(o.delete,a,`${a}.${d}.${i}`))),"edit"===d&&(o.delete="disabled"===i?o.delete.filter((e=>!e.includes(a))).concat(`${a}.delete.disabled-any`):o.delete.filter((e=>!e.includes(a))).concat(`${a}.${d}.${i}`))):("crm.uspacy_calls"!==a&&(o.create=[...n.create.filter((e=>!e.includes(a))),`${a}.create.mine.disabled-any`,`${a}.create.department.disabled-any`,`${a}.create.${i}`].filter((e=>![`${a}.create.mine`,`${a}.create.department`].includes(e))),o.delete=[...n.delete.filter((e=>!e.includes(a))),`${a}.delete.${i}`]),o.edit=[...n.edit.filter((e=>!e.includes(a))),`${a}.edit.${i}`],o.view=[...n.view.filter((e=>!e.includes(a))),`${a}.view.${i}`]),"create"===r?e.createPermissions=o:e.permissions=o},mergeCreatePermissions(e,t){const a={create:[...e[t.payload.key].create,...t.payload.universal.create],edit:[...e[t.payload.key].edit,...t.payload.universal.edit],view:[...e[t.payload.key].view,...t.payload.universal.view],delete:[...e[t.payload.key].delete,...t.payload.universal.delete]};e[t.payload.key]=a},clearPermissionsFunnels(e){e.permissionsFunnels=l.permissionsFunnels}},extraReducers:{[d.fetchPermissions.fulfilled.type]:(e,t)=>{e.permissions=t.payload},[d.fetchPermissions.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.fetchPermissions.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[d.fetchRoles.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null;const a=t.payload,r=a.findIndex((e=>"Head"===e.code));if(-1!==r){const e=a.splice(r,1)[0];a.splice(1,0,e)}e.roles=a.filter((e=>e.code!==n.idsForDisableDeleting.noAccessRole)),e.permissions={create:[],edit:[],view:[],delete:[]}},[d.fetchRoles.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.fetchRoles.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[d.createRole.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.roles=[...e.roles,t.payload]},[d.createRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.createRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[d.updateRole.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.roles=e.roles.map((e=>e.id===t.payload.id?t.payload:e))},[d.updateRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.updateRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[d.deleteRole.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.roles=e.roles.filter((e=>e.id!==t.payload))},[d.deleteRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.deleteRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[d.fetchRole.fulfilled.type]:(e,t)=>{const a=e=>e||[];e.loadingRoles=!1,e.permissions={create:[...s.disabledPermissions.create,...a(t.payload.permissions.create)],edit:[...s.disabledPermissions.edit,...a(t.payload.permissions.edit)],view:[...s.disabledPermissions.view,...a(t.payload.permissions.view)],delete:[...s.disabledPermissions.delete,...a(t.payload.permissions.delete)]}},[d.fetchRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.fetchRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[d.getPermissionsFunnels.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.permissionsFunnels=t.payload},[d.getPermissionsFunnels.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.getPermissionsFunnels.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[d.updateRolePermisionsFunnels.fulfilled.type]:(e,t)=>{e.permissionsFunnels=t.payload,e.loadingRoles=!1,e.errorLoadingRoles=null},[d.updateRolePermisionsFunnels.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[d.updateRolePermisionsFunnels.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload}}});r=c.actions,t.getNextVal=r.getNextVal,t.selectedRole=r.selectedRole,t.addUserFromTable=r.addUserFromTable,t.resetCounter=r.resetCounter,t.resetTable=r.resetTable,t.setActiveRole=r.setActiveRole,t.updatePermission=r.updatePermission,t.setActiveModalType=r.setActiveModalType,t.allowAllPermissions=r.allowAllPermissions,t.addPermissionsForColAction=r.addPermissionsForColAction,t.mergeCreatePermissions=r.mergeCreatePermissions,t.clearPermissionsFunnels=r.clearPermissionsFunnels,t.default=c.reducer},9451:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsControllerViewEnums=void 0,t.PermissionsControllerViewEnums=[{keyCategory:"CRM",key:"crm",subMenuList:[{id:1,name:"leads",key:"leads"},{id:2,name:"contacts",key:"contacts"},{id:3,name:"companies",key:"companies"},{id:4,name:"deals",key:"deals"},{id:5,name:"activity",key:"activity"},{id:6,name:"call",key:"uspacy_calls"}]},{keyCategory:"hrm",key:"hrm",subMenuList:[{id:1,name:"employees",key:"employee"},{id:2,name:"Department",key:"department"}]}]},3537:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSettings=t.selectTotalSettings=void 0;const i=a(5184),s=a(4809),d=a(3970);t.selectTotalSettings=(e,t)=>{const a={};return Object.keys(Object.assign(Object.assign({},t),e)).forEach((r=>{const i=e[r],s=t[r];return i&&Boolean(i)?a[r]=i:a[r]=s})),a},t.fetchSettings=(0,i.createAsyncThunk)("settings/fetchSettings",((e,a)=>r(void 0,void 0,void 0,(function*(){try{const e=yield s.uspacySdk.tokensService.getDomain(),{data:a}=yield s.uspacySdk.httpClient.client.get(`${d.API_PREFIX_SETTINGS}/settings/general?domain=${e}`),{data:r}=yield s.uspacySdk.profileService.getPortalSettings(),i=(null==a?void 0:a.themeCustomization)?r:Object.assign(Object.assign({},r),{themeAccentColor:null==a?void 0:a.themeAccentColor,themeName:null==a?void 0:a.themeName,themeDecor:null==a?void 0:a.themeDecor});return(0,t.selectTotalSettings)(i,a)}catch(e){return a.rejectWithValue("Failure")}}))))},2587:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setDateLocale=t.setUserSettings=void 0;const i=a(5184),s=a(3537),d=(0,i.createSlice)({name:"settingsReducer",initialState:{},reducers:{setUserSettings:(e,t)=>{e.data=t.payload},setDateLocale:(e,t)=>{e.dateLocale=t.payload}},extraReducers:{[s.fetchSettings.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.data=t.payload},[s.fetchSettings.pending.type]:e=>{e.loading=!0,e.error=null},[s.fetchSettings.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload}}});r=d.actions,t.setUserSettings=r.setUserSettings,t.setDateLocale=r.setDateLocale,t.default=d.reducer},7567:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTaskFields=t.restartTask=t.massCompletion=t.completeTask=t.unwatchTask=t.watchTask=t.pauseTask=t.startTask=t.massTasksDeletion=t.deleteTask=t.massTasksEditing=t.delegationTask=t.updateSubtask=t.updateOneTimeTemplate=t.updateRecurringTemplate=t.updateTask=t.replicateTask=t.createOneTimeTemplate=t.createRecurringTemplate=t.createTask=t.getParentTask=t.getRecurringTemplate=t.getTask=t.getSubtasks=t.getHierarchies=t.getOneTimeTemplates=t.getRecurringTemplates=t.getTasks=void 0;const i=a(5184),s=a(4809);t.getTasks=(0,i.createAsyncThunk)("tasks/getTasks",(({params:e,withoutResponsible:t,signal:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTasks(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:i.rejectWithValue(e)}})))),t.getRecurringTemplates=(0,i.createAsyncThunk)("tasks/getRecurringTemplates",(({params:e,withoutResponsible:t,signal:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getRecurringTemplates(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:i.rejectWithValue(e)}})))),t.getOneTimeTemplates=(0,i.createAsyncThunk)("tasks/getOneTimeTemplates",(({params:e,withoutResponsible:t,signal:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getOneTimeTemplates(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:i.rejectWithValue(e)}})))),t.getHierarchies=(0,i.createAsyncThunk)("tasks/getHierarchies",(({params:e,withoutResponsible:t,signal:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getHierarchies(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:i.rejectWithValue(e)}})))),t.getSubtasks=(0,i.createAsyncThunk)("tasks/getSubtasks",(({id:e,page:t,list:a,isTemplate:i=!1},{rejectWithValue:d})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getSubtasks(e,t,a,i)).data}catch(e){return d(e)}})))),t.getTask=(0,i.createAsyncThunk)("tasks/getTask",(({id:e,crm_entity_list:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTask(e,t)).data}catch(e){return a(e)}})))),t.getRecurringTemplate=(0,i.createAsyncThunk)("tasks/getRecurringTemplate",(({id:e,crm_entity_list:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getRecurringTemplate(e,t)).data}catch(e){return a(e)}})))),t.getParentTask=(0,i.createAsyncThunk)("tasks/getParentTask",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getParentTask(e)).data}catch(e){return t(e)}})))),t.createTask=(0,i.createAsyncThunk)("tasks/createTask",(({data:e,abilityToAddTask:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.createTask(e)).data,abilityToAddTask:t}}catch(e){return a(e)}})))),t.createRecurringTemplate=(0,i.createAsyncThunk)("tasks/createRecurringTemplate",(({data:e,abilityToAddTask:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.createRecurringTemplate(e)).data,abilityToAddTask:t}}catch(e){return a(e)}})))),t.createOneTimeTemplate=(0,i.createAsyncThunk)("tasks/createOneTimeTemplate",(({data:e,abilityToAddTask:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.createOneTimeTemplate(e)).data,abilityToAddTask:t}}catch(e){return a(e)}})))),t.replicateTask=(0,i.createAsyncThunk)("tasks/replicateTask",(({data:e,abilityToAddTask:t,id:a},{rejectWithValue:i})=>r(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.replicateTask(e,a)).data,abilityToAddTask:t}}catch(e){return i(e)}})))),t.updateTask=(0,i.createAsyncThunk)("tasks/updateTask",(({id:e,data:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateTask(e,t)).data}catch(e){return a(e)}})))),t.updateRecurringTemplate=(0,i.createAsyncThunk)("tasks/updateRecurringTemplate",(({id:e,data:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateRecurringTemplate(e,t)).data}catch(e){return a(e)}})))),t.updateOneTimeTemplate=(0,i.createAsyncThunk)("tasks/updateOneTimeTemplate",(({id:e,data:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateOneTimeTemplate(e,t)).data}catch(e){return a(e)}})))),t.updateSubtask=(0,i.createAsyncThunk)("tasks/updateSubtask",(({id:e,data:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateSubtask(e,t)).data}catch(e){return a(e)}})))),t.delegationTask=(0,i.createAsyncThunk)("tasks/delegationTask",(({id:e,user_id:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.delegationTask(e,t)).data}catch(e){return a(e)}})))),t.massTasksEditing=(0,i.createAsyncThunk)("tasks/massTasksEditing",(({taskIds:e,exceptIds:t,all:a,params:i,withoutResponsible:d,payload:n,settings:o,profile:l,admin:c},{rejectWithValue:u})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.massEditingTasks(e,t,a,i,d,n,o),{taskIds:e,exceptIds:t,all:a,payload:n,settings:o,profile:l,admin:c}}catch(e){return u(e)}})))),t.deleteTask=(0,i.createAsyncThunk)("tasks/deleteTask",(({id:e,type:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.deleteTask(e),{id:e,type:t}}catch(e){return a(e)}})))),t.massTasksDeletion=(0,i.createAsyncThunk)("tasks/massTasksDeletion",(({taskIds:e,exceptIds:t,all:a,params:i,withoutResponsible:d,profile:n,admin:o},{rejectWithValue:l})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.massDeletionTasks(e,t,a,i,d),{taskIds:e,exceptIds:t,all:a,profile:n,admin:o}}catch(e){return l(e)}})))),t.startTask=(0,i.createAsyncThunk)("tasks/startTask",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.startTask(e)).data}catch(e){return t(e)}})))),t.pauseTask=(0,i.createAsyncThunk)("tasks/pauseTask",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.pauseTask(e)).data}catch(e){return t(e)}})))),t.watchTask=(0,i.createAsyncThunk)("tasks/watchTask",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.watchTask(e)).data}catch(e){return t(e)}})))),t.unwatchTask=(0,i.createAsyncThunk)("tasks/unwatchTask",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.unwatchTask(e)).data}catch(e){return t(e)}})))),t.completeTask=(0,i.createAsyncThunk)("tasks/completeTask",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.completeTask(e)).data}catch(e){return t(e)}})))),t.massCompletion=(0,i.createAsyncThunk)("tasks/massCompletion",(({taskIds:e,exceptIds:t,all:a,params:i,withoutResponsible:d,profile:n},{rejectWithValue:o})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.massCompletionTasks(e,t,a,i,d),{taskIds:e,exceptIds:t,all:a,profile:n}}catch(e){return o(e)}})))),t.restartTask=(0,i.createAsyncThunk)("tasks/restartTask",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.restartTask(e)).data}catch(e){return t(e)}})))),t.fetchTaskFields=(0,i.createAsyncThunk)("tasks/fetchTaskFields",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTasksField()).data}catch(e){return t(e)}}))))},9935:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setTasksServiceType=t.changeTasksCardViewMode=t.setAnEditMode=t.setDeleteAllFromKanban=t.setTotalTasks=t.setIsRegularSection=t.setStatus=t.setIsHierarchy=t.setIsTable=t.setIsKanban=t.removeTaskFromNPositionTable=t.setIsTaskFromTemplate=t.setIsCopyingTask=t.setIsSubtasks=t.clearTasks=t.clearPopupLink=t.addPopupLink=t.removeTaskFromEndTable=t.addTasksToEndTable=t.addTaskToEndTable=t.changeItemsFilterRegularTasks=t.changeItemsFilterTasks=t.clearRegularFilter=t.clearFilter=t.changeRegularFilter=t.changeFilter=t.deleteTaskReducer=t.clearDeleteTaskId=t.clearChangeTask=t.clearAddedToKanbanTaskReducer=t.clearAddedTaskReducer=t.clearSubstasks=t.setAllSubtasks=t.editSubTask=t.setTaskFromTemplate=t.setParentTask=t.setTemplate=t.setTask=t.setTasks=void 0;const i=a(5184),s=a(5398),d=a(7567),n={tasks:{data:[],meta:{},aborted:!1},subtasks:{data:[],meta:{},aborted:!1},allSubtasks:[],task:{},recurringTemplate:{},parentTask:{},taskFromTemplate:{},addedTask:{},addedToKanbanTask:{},changeTask:{},changeTasks:[],deleteTaskId:null,deleteTaskIds:[],deleteAllFromKanban:!1,filters:{page:0,perPage:0,status:[],time_label_deadline:[],time_label_closed_date:[],time_label_created_date:[],certainDateOrPeriod_deadline:[],certainDateOrPeriod_closed_date:[],certainDateOrPeriod_created_date:[],priority:[],createdBy:[],closed_by:[],closed_date:[],group_id:[],parent_id:[],created_date:[],responsible:[],deadline:[],accomplices_ids:[],auditors_ids:[],accept_result:[],time_tracking:[],sortModel:[],openCalendar:!1,search:"",boolean_operator:"XOR",time_label:[],accomplices:[],auditors:[]},regularFilter:{page:0,perPage:0,status:[],time_label_created_date:[],certainDateOrPeriod_created_date:[],priority:[],createdBy:[],closed_by:[],group_id:[],parent_id:[],created_date:[],responsible:[],accomplices_ids:[],auditors_ids:[],accept_result:[],time_tracking:[],sortModel:[],openCalendar:!1,search:"",boolean_operator:"XOR",accomplices:[],auditors:[]},taskFields:{},loadingTasks:!0,loadingSubtasks:!0,loadingTask:!1,loadingRecurringTemplate:!1,loadingParentTask:!1,loadingCreatingTask:!1,loadingUpdatingTask:!1,loadingDeletingTask:!1,loadingStatusesTask:!1,loadingTaskFields:!1,errorLoadingTasks:null,errorLoadingSubtasks:null,errorLoadingTask:null,errorLoadingRecurringTemplate:null,errorLoadingParentTask:null,errorLoadingCreatingTask:null,errorLoadingUpdatingTask:null,errorLoadingDeletingTask:null,errorLoadingStatusesTask:null,errorLoadingTaskFields:null,meta:{currentPage:0,perPage:20,total:0},popupLinks:[],isSubtasks:!1,isCopyingTask:!1,isTaskFromTemplate:!1,isKanban:!1,isTable:!1,isHierarchy:!1,isEditMode:!1,taskStatus:"",isRegularSection:!1,tasksCardPermissions:{type:"task",mode:"view"},tasksServiceType:"task"},o=(0,i.createSlice)({name:"tasksReducer",initialState:n,reducers:{setTasks:(e,t)=>{e.tasks=t.payload},setTask:(e,t)=>{e.task=t.payload},setTemplate:(e,t)=>{e.recurringTemplate=t.payload},setParentTask:(e,t)=>{e.parentTask=t.payload},setTaskFromTemplate:(e,t)=>{e.taskFromTemplate=t.payload},editSubTask:(e,t)=>{e.allSubtasks=e.allSubtasks.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e})),e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},deleteTaskReducer:(e,t)=>{e.tasks.data=e.tasks.data.filter((e=>(null==e?void 0:e.id)!==String(null==t?void 0:t.payload)))},changeFilter:(e,t)=>{e.filters[t.payload.key]=t.payload.value},changeRegularFilter:(e,t)=>{e.regularFilter[t.payload.key]=t.payload.value},changeItemsFilterTasks:(e,t)=>{e.filters=t.payload},changeItemsFilterRegularTasks:(e,t)=>{e.regularFilter=t.payload},setAllSubtasks:(e,t)=>{e.allSubtasks=t.payload},clearSubstasks:e=>{e.allSubtasks=[],e.subtasks=n.subtasks},clearAddedTaskReducer:e=>{e.addedTask=n.addedTask},clearAddedToKanbanTaskReducer:e=>{e.addedToKanbanTask=n.addedToKanbanTask},clearChangeTask:e=>{e.changeTask=n.changeTask},clearDeleteTaskId:e=>{e.deleteTaskId=null},clearFilter:e=>{e.filters=Object.assign({},n.filters),e.filters.page=1,e.filters.perPage=20},clearRegularFilter:e=>{e.regularFilter=Object.assign({},n.regularFilter),e.regularFilter.page=1,e.regularFilter.perPage=20},addTaskToEndTable:(e,t)=>{e.tasks.data.push(t.payload)},addTasksToEndTable:(e,t)=>{e.tasks.data=e.tasks.data.concat(t.payload.data)},removeTaskFromEndTable:e=>{e.isTable&&(e.meta.total>=e.meta.perPage||e.meta.currentPage!==e.meta.lastPage)&&e.tasks.data.splice(-1)},removeTaskFromNPositionTable:(e,t)=>{e.isTable&&(e.tasks.data=e.tasks.data.filter((e=>(null==e?void 0:e.id)!==String(null==t?void 0:t.payload))),e.meta.total=e.meta.total-1)},addPopupLink:(e,t)=>{e.popupLinks.push(t.payload)},clearPopupLink:e=>{e.popupLinks=[]},clearTasks:e=>{e.tasks.data=[],e.loadingTasks=!0},setIsSubtasks:(e,t)=>{e.isSubtasks=t.payload},setIsCopyingTask:(e,t)=>{e.isCopyingTask=t.payload},setIsTaskFromTemplate:(e,t)=>{e.isTaskFromTemplate=t.payload},setIsKanban:(e,t)=>{e.isKanban=t.payload},setIsTable:(e,t)=>{e.isTable=t.payload},setIsHierarchy:(e,t)=>{e.isHierarchy=t.payload},setStatus:(e,t)=>{e.taskStatus=t.payload},setIsRegularSection:(e,t)=>{e.isRegularSection=t.payload},setTotalTasks:(e,t)=>{e.meta.total=t.payload},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setAnEditMode:(e,t)=>{e.isEditMode=t.payload},changeTasksCardViewMode:(e,t)=>{e.tasksCardPermissions=t.payload},setTasksServiceType:(e,t)=>{e.tasksServiceType=t.payload}},extraReducers:{[d.getTasks.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.isTable&&(e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta)},[d.getTasks.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[d.getTasks.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[d.getRecurringTemplates.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta},[d.getRecurringTemplates.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[d.getRecurringTemplates.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[d.getOneTimeTemplates.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta},[d.getOneTimeTemplates.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[d.getOneTimeTemplates.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[d.getHierarchies.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.isHierarchy&&(e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta)},[d.getHierarchies.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[d.getHierarchies.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[d.getSubtasks.fulfilled.type]:(e,t)=>{e.loadingSubtasks=!1,e.errorLoadingSubtasks=null,e.subtasks=t.payload,e.allSubtasks=[...e.allSubtasks,...t.payload.data]},[d.getSubtasks.pending.type]:e=>{e.loadingSubtasks=!0,e.errorLoadingSubtasks=null},[d.getSubtasks.rejected.type]:(e,t)=>{e.loadingSubtasks=!1,e.errorLoadingSubtasks=t.payload},[d.getTask.fulfilled.type]:(e,t)=>{e.loadingTask=!1,e.errorLoadingTask=null,e.task=t.payload},[d.getTask.pending.type]:e=>{e.loadingTask=!0,e.errorLoadingTask=null},[d.getTask.rejected.type]:(e,t)=>{e.loadingTask=!1,e.errorLoadingTask=t.payload},[d.getRecurringTemplate.fulfilled.type]:(e,t)=>{e.loadingRecurringTemplate=!1,e.errorLoadingRecurringTemplate=null,e.recurringTemplate=t.payload},[d.getRecurringTemplate.pending.type]:e=>{e.loadingRecurringTemplate=!0,e.errorLoadingRecurringTemplate=null},[d.getRecurringTemplate.rejected.type]:(e,t)=>{e.loadingRecurringTemplate=!1,e.errorLoadingRecurringTemplate=t.payload},[d.getParentTask.fulfilled.type]:(e,t)=>{e.loadingTask=!1,e.loadingParentTask=null,e.parentTask=t.payload},[d.getParentTask.pending.type]:e=>{e.loadingParentTask=!0,e.errorLoadingParentTask=null},[d.getParentTask.rejected.type]:(e,t)=>{e.loadingParentTask=!1,e.errorLoadingParentTask=t.payload},[d.createTask.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.meta.total=e.meta.total+1),e.isTable&&!e.isHierarchy&&e.tasks.data.unshift(t.payload.task),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[d.createTask.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[d.createTask.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[d.createRecurringTemplate.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.tasks.data.unshift(t.payload.task),e.meta.total=e.meta.total+1),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[d.createRecurringTemplate.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[d.createRecurringTemplate.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[d.createOneTimeTemplate.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.tasks.data.unshift(t.payload.task),e.meta.total=e.meta.total+1),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[d.createOneTimeTemplate.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[d.createOneTimeTemplate.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[d.replicateTask.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.meta.total=e.meta.total+1),e.isTable&&e.tasks.data.unshift(t.payload.task),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[d.replicateTask.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[d.replicateTask.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[d.updateTask.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[d.updateTask.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[d.updateTask.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[d.updateRecurringTemplate.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload)},[d.updateRecurringTemplate.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[d.updateRecurringTemplate.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[d.updateOneTimeTemplate.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload)},[d.updateOneTimeTemplate.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[d.updateOneTimeTemplate.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[d.updateSubtask.fulfilled.type]:e=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null},[d.updateSubtask.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[d.updateSubtask.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[d.delegationTask.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload),e.isKanban&&(e.changeTask=null==t?void 0:t.payload)},[d.delegationTask.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[d.delegationTask.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[d.massTasksEditing.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null;const a=t.payload.admin;e.tasks.data=e.tasks.data.map((r=>{const i=(null==r?void 0:r.setterId)===String(t.payload.profile.id),d=a||i;if(t.payload.taskIds.includes(null==r?void 0:r.id)&&d){const a=Object.assign({},r);for(const e in t.payload.payload)t.payload.payload.hasOwnProperty(e)&&t.payload.settings[e]?Array.isArray(t.payload.payload[e])?a[e]=Array.from(new Set([...a[e],...t.payload.payload[e]])):a[e]=(0,s.fillTheString)(a[e],t.payload.payload[e],t.payload.settings[e].position):"deadline"!==e||"scheduled"!==a.status||t.payload.payload[e]?"deadline"===e&&"notScheduled"===a.status&&t.payload.payload[e]>0?(a.status="scheduled",a[e]=t.payload.payload[e]):a[e]=t.payload.payload[e]:(a.status="notScheduled",a[e]=t.payload.payload[e]);return e.isKanban&&e.changeTasks.push(a),a}return r}))},[d.massTasksEditing.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[d.massTasksEditing.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[d.deleteTask.fulfilled.type]:(e,t)=>{var a;e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=null,(e.isKanban||e.isHierarchy)&&(e.deleteTaskId=+(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)),e.isTable&&(e.meta.total=e.meta.total-1),e.isTable&&e.tasksServiceType===t.payload.type&&(e.tasks.data=e.tasks.data.filter((e=>{var a;return(null==e?void 0:e.id)!==String(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)})))},[d.deleteTask.pending.type]:e=>{e.loadingDeletingTask=!0,e.errorLoadingDeletingTask=null},[d.deleteTask.rejected.type]:(e,t)=>{e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=t.payload},[d.massTasksDeletion.fulfilled.type]:(e,t)=>{e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=null;const a=t.payload.admin;e.isTable&&(e.tasks.data=e.tasks.data.filter((r=>{var i,s;const d=(null==r?void 0:r.setterId)===String(t.payload.profile.id),n=a||d;return e.isKanban&&n&&(e.deleteTaskIds=null===(s=null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.taskIds)||void 0===s?void 0:s.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0)),t.payload.all&&n?e.meta.total=0:t.payload.all&&n&&t.payload.exceptIds.length?e.meta.total=t.payload.exceptIds.length:e.meta.total=e.meta.total-t.payload.taskIds.length,n&&!t.payload.taskIds.includes(null==r?void 0:r.id)})))},[d.massTasksDeletion.pending.type]:e=>{e.loadingDeletingTask=!0,e.errorLoadingDeletingTask=null},[d.massTasksDeletion.rejected.type]:(e,t)=>{e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=t.payload},[d.startTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[d.startTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[d.startTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[d.pauseTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.taskStatus=t.payload.status,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[d.pauseTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[d.pauseTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[d.completeTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.taskStatus=t.payload.status,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[d.completeTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[d.completeTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[d.massCompletion.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.tasks.data=e.tasks.data.map((a=>{var r,i,s;const d=(null==a?void 0:a.responsibleId)===String(null===(r=t.payload.profile)||void 0===r?void 0:r.id),n=(null==a?void 0:a.setterId)===String(t.payload.profile.id),o=null===(i=null==a?void 0:a.accomplicesIds)||void 0===i?void 0:i.includes(String(null===(s=t.payload.profile)||void 0===s?void 0:s.id)),l=d||n||o;return t.payload.taskIds.includes(null==a?void 0:a.id)&&l?(a.status=(null==a?void 0:a.acceptResult)&&!n?"inControl":"ready",e.isKanban&&e.changeTasks.push(a),a):a}))},[d.massCompletion.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[d.massCompletion.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[d.restartTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.taskStatus=t.payload.status,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[d.restartTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[d.restartTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[d.fetchTaskFields.fulfilled.type]:(e,t)=>{e.loadingTaskFields=!1,e.errorLoadingTaskFields=null,e.taskFields=t.payload},[d.fetchTaskFields.pending.type]:e=>{e.loadingTaskFields=!0,e.errorLoadingTaskFields=null},[d.fetchTaskFields.rejected.type]:(e,t)=>{e.loadingTaskFields=!1,e.errorLoadingTaskFields=t.payload}}});r=o.actions,t.setTasks=r.setTasks,t.setTask=r.setTask,t.setTemplate=r.setTemplate,t.setParentTask=r.setParentTask,t.setTaskFromTemplate=r.setTaskFromTemplate,t.editSubTask=r.editSubTask,t.setAllSubtasks=r.setAllSubtasks,t.clearSubstasks=r.clearSubstasks,t.clearAddedTaskReducer=r.clearAddedTaskReducer,t.clearAddedToKanbanTaskReducer=r.clearAddedToKanbanTaskReducer,t.clearChangeTask=r.clearChangeTask,t.clearDeleteTaskId=r.clearDeleteTaskId,t.deleteTaskReducer=r.deleteTaskReducer,t.changeFilter=r.changeFilter,t.changeRegularFilter=r.changeRegularFilter,t.clearFilter=r.clearFilter,t.clearRegularFilter=r.clearRegularFilter,t.changeItemsFilterTasks=r.changeItemsFilterTasks,t.changeItemsFilterRegularTasks=r.changeItemsFilterRegularTasks,t.addTaskToEndTable=r.addTaskToEndTable,t.addTasksToEndTable=r.addTasksToEndTable,t.removeTaskFromEndTable=r.removeTaskFromEndTable,t.addPopupLink=r.addPopupLink,t.clearPopupLink=r.clearPopupLink,t.clearTasks=r.clearTasks,t.setIsSubtasks=r.setIsSubtasks,t.setIsCopyingTask=r.setIsCopyingTask,t.setIsTaskFromTemplate=r.setIsTaskFromTemplate,t.removeTaskFromNPositionTable=r.removeTaskFromNPositionTable,t.setIsKanban=r.setIsKanban,t.setIsTable=r.setIsTable,t.setIsHierarchy=r.setIsHierarchy,t.setStatus=r.setStatus,t.setIsRegularSection=r.setIsRegularSection,t.setTotalTasks=r.setTotalTasks,t.setDeleteAllFromKanban=r.setDeleteAllFromKanban,t.setAnEditMode=r.setAnEditMode,t.changeTasksCardViewMode=r.changeTasksCardViewMode,t.setTasksServiceType=r.setTasksServiceType,t.default=o.reducer},699:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFilterPreset=t.bulkUpdateFiltersPresets=t.updateFilterPreset=t.createFilterPreset=t.getFiltersPreset=t.getFiltersPresets=void 0;const i=a(5184),s=a(4809);t.getFiltersPresets=(0,i.createAsyncThunk)("tasksFilters/getFiltersPresets",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getFiltersPresets(e)).data}catch(e){return t(e)}})))),t.getFiltersPreset=(0,i.createAsyncThunk)("tasksFilters/getFiltersPreset",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getFiltersPreset(e)).data}catch(e){return t(e)}})))),t.createFilterPreset=(0,i.createAsyncThunk)("tasksFilters/createFilterPreset",(({body:e,type:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.createFilterPreset(e,t)).data}catch(e){return a(e)}})))),t.updateFilterPreset=(0,i.createAsyncThunk)("tasksFilters/updateFilterPreset",(({id:e,rev:t,body:a},{rejectWithValue:i})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateFilterPreset(e,t,a)).data}catch(e){return i(e)}})))),t.bulkUpdateFiltersPresets=(0,i.createAsyncThunk)("tasksFilters/bulkUpdateFiltersPresets",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.tasksService.bulkUpdateFiltersPresets(e);return null==t?void 0:t.data}catch(e){return t(e)}})))),t.deleteFilterPreset=(0,i.createAsyncThunk)("tasksFilters/deleteFilterPreset",(({id:e,rev:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.deleteFilterPreset(e,t)}catch(e){return a(e)}}))))},659:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setPresets=t.setIsNewPreset=void 0;const i=a(5184),s=a(699),d=(0,i.createSlice)({name:"tasksFilters",initialState:{isNewPreset:!1,presets:{},preset:{},loadingPresets:!1,loadingCreatePreset:!1,loadingUpdatePreset:!1,loadingDeletePreset:!1,errorLoadingPresets:null,errorLoadingCreatePreset:null,errorLoadingUpdatePreset:null,errorLoadingDeletePreset:null},reducers:{setIsNewPreset:(e,t)=>{e.isNewPreset=t.payload},setPresets:(e,t)=>{e.presets=t.payload}},extraReducers:{[s.getFiltersPresets.fulfilled.type]:(e,t)=>{e.presets=t.payload,e.loadingPresets=!1,e.errorLoadingPresets=null},[s.getFiltersPresets.pending.type]:e=>{e.loadingPresets=!0,e.errorLoadingPresets=null},[s.getFiltersPresets.rejected.type]:(e,t)=>{e.loadingPresets=!1,e.errorLoadingPresets=t.payload},[s.getFiltersPreset.fulfilled.type]:(e,t)=>{e.preset=t.payload,e.loadingPreset=!1,e.errorLoadingPreset=null},[s.getFiltersPreset.pending.type]:e=>{e.loadingPreset=!0,e.errorLoadingPreset=null},[s.getFiltersPreset.rejected.type]:(e,t)=>{e.loadingPreset=!1,e.errorLoadingPreset=t.payload},[s.createFilterPreset.fulfilled.type]:(e,t)=>{const a=Object.assign({_id:t.payload.id,_rev:t.payload.rev},t.meta.arg.body);e.presets.docs.unshift(Object.assign({_id:a._id,_rev:a._rev},a)),e.loadingCreatePreset=!1,e.errorLoadingCreatePreset=null},[s.createFilterPreset.pending.type]:e=>{e.loadingCreatePreset=!0,e.errorLoadingCreatePreset=null},[s.createFilterPreset.rejected.type]:(e,t)=>{e.loadingCreatePreset=!1,e.errorLoadingCreatePreset=t.payload},[s.updateFilterPreset.fulfilled.type]:(e,t)=>{const a=Object.assign({_id:t.payload.id,_rev:t.payload.rev},t.meta.arg.body);e.presets.docs=e.presets.docs.map((e=>e._id===a._id?a:e)),e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=null},[s.updateFilterPreset.pending.type]:e=>{e.loadingUpdatePreset=!0,e.errorLoadingUpdatePreset=null},[s.updateFilterPreset.rejected.type]:(e,t)=>{e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=t.payload},[s.bulkUpdateFiltersPresets.fulfilled.type]:(e,t)=>{const a={res:t.payload,body:t.meta.arg};e.presets.docs=e.presets.docs.map((e=>{var t,r;const i=null===(t=null==a?void 0:a.res)||void 0===t?void 0:t.find((t=>(null==t?void 0:t.id)===(null==e?void 0:e._id))),s=null===(r=null==a?void 0:a.body)||void 0===r?void 0:r.find((t=>(null==t?void 0:t._id)===(null==e?void 0:e._id)));if(null==i?void 0:i.id){const t=Object.assign(Object.assign({},e),s);return t._rev=null==i?void 0:i.rev,t}return e})),e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=null},[s.bulkUpdateFiltersPresets.pending.type]:e=>{e.loadingUpdatePreset=!0,e.errorLoadingUpdatePreset=null},[s.bulkUpdateFiltersPresets.rejected.type]:(e,t)=>{e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=t.payload},[s.deleteFilterPreset.fulfilled.type]:(e,t)=>{e.presets.docs=e.presets.docs.filter((e=>e._id!==t.meta.arg.id)),e.loadingDeletePreset=!1,e.errorLoadingDeletePreset=null},[s.deleteFilterPreset.pending.type]:e=>{e.loadingDeletePreset=!0,e.errorLoadingDeletePreset=null},[s.deleteFilterPreset.rejected.type]:(e,t)=>{e.errorLoadingDeletePreset=t.payload,e.loadingDeletePreset=!1}}});r=d.actions,t.setIsNewPreset=r.setIsNewPreset,t.setPresets=r.setPresets,t.default=d.reducer},7865:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateTasksSettings=t.createSettings=t.getTasksSettings=void 0;const i=a(5184),s=a(4809);t.getTasksSettings=(0,i.createAsyncThunk)("tasksSettings/getTasksSettings",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTasksSettings(e)).data}catch(e){return t(e)}})))),t.createSettings=(0,i.createAsyncThunk)("tasksSettings/createSettings",(({body:e,type:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.createSettings(e,t)).data}catch(e){return a(e)}})))),t.updateTasksSettings=(0,i.createAsyncThunk)("tasksSettings/updateTasksSettings",(({id:e,rev:t,body:a},{rejectWithValue:i})=>r(void 0,void 0,void 0,(function*(){var r,d;try{const i=yield s.uspacySdk.tasksService.updateTasksSettings(e,t,a);return Object.assign({_id:null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.id,_rev:null===(d=null==i?void 0:i.data)||void 0===d?void 0:d.rev},a)}catch(e){return i(e)}}))))},1331:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setTasksSettings=void 0;const r=a(5184),i=a(7865),s=(0,r.createSlice)({name:"tasksSettingsReducer",initialState:{tasksSettings:{docs:[]},loadingTasksSettings:!1,loadingCreateTasksSettings:!1,loadingUpdateTasksSettings:!1,errorLoadingTasksSettings:null,errorLoadingCreateTasksSettings:null,errorLoadingUpdateTasksSettings:null},reducers:{setTasksSettings:(e,t)=>{e.tasksSettings=t.payload}},extraReducers:{[i.getTasksSettings.fulfilled.type]:(e,t)=>{e.loadingTasksSettings=!1,e.errorLoadingTasksSettings=null,e.tasksSettings=t.payload},[i.getTasksSettings.pending.type]:e=>{e.loadingTasksSettings=!0,e.errorLoadingTasksSettings=null},[i.getTasksSettings.rejected.type]:(e,t)=>{e.loadingTasksSettings=!1,e.errorLoadingTasksSettings=t.payload},[i.createSettings.fulfilled.type]:e=>{e.loadingCreateTasksSettings=!1,e.errorLoadingCreateTasksSettings=null},[i.createSettings.pending.type]:e=>{e.loadingCreateTasksSettings=!0,e.errorLoadingCreateTasksSettings=null},[i.createSettings.rejected.type]:(e,t)=>{e.loadingCreateTasksSettings=!1,e.errorLoadingCreateTasksSettings=t.payload},[i.updateTasksSettings.fulfilled.type]:(e,t)=>{e.loadingUpdateTasksSettings=!1,e.errorLoadingUpdateTasksSettings=null,e.tasksSettings.docs=e.tasksSettings.docs.map((e=>e._id===t.payload._id?t.payload:e))},[i.updateTasksSettings.pending.type]:e=>{e.loadingUpdateTasksSettings=!0,e.errorLoadingUpdateTasksSettings=null},[i.updateTasksSettings.rejected.type]:(e,t)=>{e.loadingUpdateTasksSettings=!1,e.errorLoadingUpdateTasksSettings=t.payload}}});t.setTasksSettings=s.actions.setTasksSettings,t.default=s.reducer},1573:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchStages=void 0;const i=a(5184),s=a(4809);t.fetchStages=(0,i.createAsyncThunk)("stages/fetchStages",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksStagesService.getTasksStages(e)).data}catch(e){return t.rejectWithValue("Failure")}}))))},8391:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearStages=void 0;const r=a(5184),i=a(1573),s=(0,r.createSlice)({name:"stagesReducer",initialState:{stages:{data:[]},loadingStages:!1,addingStage:!1,editingStage:!1,deletingStage:!1,loadingMoveTask:!1,errorLoadingStages:"",errorAddingStage:"",errorEditingStage:"",errorDeletingStage:"",errorLoadingMoveTask:""},reducers:{clearStages:e=>{e.stages={}}},extraReducers:{[i.fetchStages.fulfilled.type]:(e,t)=>{e.loadingStages=!1,e.errorLoadingStages="",e.stages=t.payload},[i.fetchStages.pending.type]:e=>{e.loadingStages=!0,e.errorLoadingStages=""},[i.fetchStages.rejected.type]:(e,t)=>{e.loadingStages=!1,e.errorLoadingStages=t.payload}}});t.clearStages=s.actions.clearStages,t.default=s.reducer},2549:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTimer=t.editTimer=t.createTimer=t.fetchTaskTimerList=t.stopTimer=t.startTimer=t.fetchTimerRealTime=void 0;const i=a(5184),s=a(4809);t.fetchTimerRealTime=(0,i.createAsyncThunk)("timer/fetchTimerRealTime",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.getTimerRealtime()).data}catch(e){return t(e)}})))),t.startTimer=(0,i.createAsyncThunk)("timer/startTimer",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksTimerService.startTimer(e),e}catch(e){return t(e)}})))),t.stopTimer=(0,i.createAsyncThunk)("timer/stopTimer",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksTimerService.stopTimer(e)}catch(e){return t(e)}})))),t.fetchTaskTimerList=(0,i.createAsyncThunk)("timer/fetchTaskTimerList",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.getTimerList(e)).data}catch(e){return t(e)}})))),t.createTimer=(0,i.createAsyncThunk)("timer/createTimer",(({id:e,data:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.createTimer(e,t)).data}catch(e){return a(e)}})))),t.editTimer=(0,i.createAsyncThunk)("timer/editTimer",(({taskId:e,id:t,data:a},{rejectWithValue:i})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.updateTimer(e,t,a)).data}catch(e){return i(e)}})))),t.deleteTimer=(0,i.createAsyncThunk)("timer/deleteTimer",(({taskId:e,id:t},{rejectWithValue:a})=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksTimerService.deleteTimer(e,t),t}catch(e){return a(e)}}))))},4084:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.clearStartTimerError=t.deleteTimerReducer=t.editTimerReducer=t.setTaskTimerList=t.setRealTimerTotalSeconds=t.clearTimerRealTime=t.setIsTaskTimerActive=void 0;const i=a(5184),s=a(2549),d=(0,i.createSlice)({name:"timerReducer",initialState:{isTaskTimerActive:!1,activeTaskTimerId:null,timerRealTime:{},timerObj:{},taskTimerList:{},taskTimerItem:{},loadingTimerRealTimer:!1,loadingStartTimer:!1,loadingStopTimer:!1,loadingTaskTimerList:!1,loadingCreateTimer:!1,loadingEditTimer:!1,loadingDeleteTimer:!1,errorLoadingTimerRealTimer:null,errorLoadingStartTimer:null,errorLoadingStopTimer:null,errorLoadingTaskTimerList:null,errorLoadingCreateTimer:null,errorLoadingEditTimer:null,errorLoadingDeleteTimer:null},reducers:{setIsTaskTimerActive:(e,t)=>{e.isTaskTimerActive=t.payload},setRealTimerTotalSeconds:(e,t)=>{e.timerRealTime.totalSeconds=t.payload},clearTimerRealTime:e=>{e.timerRealTime={}},setTaskTimerList:(e,t)=>{e.taskTimerList=t.payload},editTimerReducer:(e,t)=>{const a=e.taskTimerList.elapsedTimes.find((e=>e.id===t.payload.id));e.taskTimerList.totalSeconds=e.taskTimerList.totalSeconds+=t.payload.seconds-a.seconds,e.taskTimerList.myTime=e.taskTimerList.myTime+=t.payload.seconds-a.seconds,e.taskTimerList.elapsedTimes=e.taskTimerList.elapsedTimes.map((e=>e.id===t.payload.id?t.payload:e))},deleteTimerReducer:(e,t)=>{const a=e.taskTimerList.elapsedTimes.find((e=>e.id===t.payload));e.taskTimerList.totalSeconds=e.taskTimerList.totalSeconds-=a.seconds,e.taskTimerList.myTime=e.taskTimerList.myTime-=a.seconds,e.taskTimerList.elapsedTimes=e.taskTimerList.elapsedTimes.filter((e=>e.id!==+t.payload))},clearStartTimerError:e=>{e.errorLoadingStartTimer=null}},extraReducers:{[s.fetchTimerRealTime.fulfilled.type]:(e,t)=>{e.loadingTimerRealTimer=!1,e.errorLoadingTimerRealTimer=null,e.timerRealTime=t.payload},[s.fetchTimerRealTime.pending.type]:e=>{e.loadingTimerRealTimer=!0,e.errorLoadingTimerRealTimer=null},[s.fetchTimerRealTime.rejected.type]:(e,t)=>{e.loadingTimerRealTimer=!1,e.errorLoadingTimerRealTimer=t.payload},[s.startTimer.fulfilled.type]:e=>{e.loadingStartTimer=!1,e.errorLoadingStartTimer=null,e.timerRealTime.taskId||e.isTaskTimerActive||(e.isTaskTimerActive=!0)},[s.startTimer.pending.type]:e=>{e.loadingStartTimer=!0,e.errorLoadingStartTimer=null},[s.startTimer.rejected.type]:(e,t)=>{e.loadingStartTimer=!1,e.errorLoadingStartTimer=t.payload},[s.stopTimer.fulfilled.type]:(e,t)=>{e.loadingStopTimer=!1,e.errorLoadingStopTimer=null,e.timerRealTime.taskId===t.payload.taskId&&(e.isTaskTimerActive=!1,e.timerObj=t.payload)},[s.stopTimer.pending.type]:e=>{e.loadingStopTimer=!0,e.errorLoadingStopTimer=null},[s.stopTimer.rejected.type]:(e,t)=>{e.loadingStopTimer=!1,e.errorLoadingStopTimer=t.payload},[s.fetchTaskTimerList.fulfilled.type]:(e,t)=>{e.loadingTaskTimerList=!1,e.errorLoadingTaskTimerList=null,e.taskTimerList=t.payload},[s.fetchTaskTimerList.pending.type]:e=>{e.loadingTaskTimerList=!0,e.errorLoadingTaskTimerList=null},[s.fetchTaskTimerList.rejected.type]:(e,t)=>{e.loadingTaskTimerList=!1,e.errorLoadingTaskTimerList=t.payload},[s.createTimer.fulfilled.type]:(e,t)=>{e.loadingCreateTimer=!1,e.errorLoadingCreateTimer=null,e.taskTimerList.totalSeconds=e.taskTimerList.totalSeconds+=t.payload.seconds,e.taskTimerList.myTime=e.taskTimerList.myTime+=t.payload.seconds,e.taskTimerList.elapsedTimes.push(t.payload)},[s.createTimer.pending.type]:e=>{e.loadingCreateTimer=!0,e.errorLoadingCreateTimer=null},[s.createTimer.rejected.type]:(e,t)=>{e.loadingCreateTimer=!1,e.errorLoadingCreateTimer=t.payload},[s.editTimer.fulfilled.type]:e=>{e.loadingEditTimer=!1,e.errorLoadingEditTimer=null},[s.editTimer.pending.type]:e=>{e.loadingEditTimer=!0,e.errorLoadingEditTimer=null},[s.editTimer.rejected.type]:(e,t)=>{e.loadingEditTimer=!1,e.errorLoadingEditTimer=t.payload},[s.deleteTimer.fulfilled.type]:e=>{e.loadingDeleteTimer=!1,e.errorLoadingDeleteTimer=null},[s.deleteTimer.pending.type]:e=>{e.loadingDeleteTimer=!0,e.errorLoadingDeleteTimer=null},[s.deleteTimer.rejected.type]:(e,t)=>{e.loadingDeleteTimer=!1,e.errorLoadingDeleteTimer=t.payload}}});r=d.actions,t.setIsTaskTimerActive=r.setIsTaskTimerActive,t.clearTimerRealTime=r.clearTimerRealTime,t.setRealTimerTotalSeconds=r.setRealTimerTotalSeconds,t.setTaskTimerList=r.setTaskTimerList,t.editTimerReducer=r.editTimerReducer,t.deleteTimerReducer=r.deleteTimerReducer,t.clearStartTimerError=r.clearStartTimerError,t.default=d.reducer},6635:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.stopTransferEntities=t.stopTransferActivities=t.stopTransferTasks=t.getTransferEntitiesProgress=t.getTransferActivitiesProgress=t.getTransferTasksProgress=void 0;const i=a(5184),s=a(4809);t.getTransferTasksProgress=(0,i.createAsyncThunk)("transferOfCases/getTransferTasksProgress",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTransferTasksProgress()).data}catch(e){return t(e)}})))),t.getTransferActivitiesProgress=(0,i.createAsyncThunk)("transferOfCases/getTransferActivitiesProgress",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.crmTasksService.getTransferActivitiesProgress()).data}catch(e){return t(e)}})))),t.getTransferEntitiesProgress=(0,i.createAsyncThunk)("transferOfCases/getTransferEntitiesProgress",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.crmEntitiesService.getTransferEntitiesProgress()).data}catch(e){return t(e)}})))),t.stopTransferTasks=(0,i.createAsyncThunk)("transferOfCases/stopTransferTasks",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.stopTransferTasks()).data}catch(e){return t(e)}})))),t.stopTransferActivities=(0,i.createAsyncThunk)("transferOfCases/stopTransferActivities",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.crmTasksService.stopTransferActivities()).data}catch(e){return t(e)}})))),t.stopTransferEntities=(0,i.createAsyncThunk)("transferOfCases/stopTransferEntities",((e,{rejectWithValue:t})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.crmEntitiesService.stopTransferEntities()).data}catch(e){return t(e)}}))))},2610:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setTransferCrmEntitiesProgress=t.setTransferActivitiesProgress=t.setTransferGroupsProgress=t.setTransferTasksProgress=t.setDataTransferOfCases=void 0;const i=a(5184),s=a(6635),d=(0,i.createSlice)({name:"transferOfCasesReducer",initialState:{dataForTransferOfCases:{open:!1,expand:!1,userId:null,status:"preparing"},transferProgress:{tasks:{status:null,totalQuantity:null,quantity:null,createdAt:null},groups:{status:null,totalQuantity:null,quantity:null,createdAt:null},activities:{status:null,total_quantity:null,quantity:null,created_at:null},crmEntities:{status:null,total_quantity:null,quantity:null,created_at:null}},loadingTasksProgress:!1,loadingGroupsProgress:!1,loadingActivitiesProgress:!1,loadingCrmEntitiesProgress:!1,errorLoadingTasksProgress:null,errorLoadingGroupsProgress:null,errorLoadingActivitiesProgress:null,errorLoadingCrmEntitiesProgress:null},reducers:{setDataTransferOfCases:(e,t)=>{e.dataForTransferOfCases=t.payload},setTransferTasksProgress:(e,t)=>{e.transferProgress.tasks=t.payload},setTransferGroupsProgress:(e,t)=>{e.transferProgress.groups=t.payload},setTransferActivitiesProgress:(e,t)=>{e.transferProgress.activities=t.payload},setTransferCrmEntitiesProgress:(e,t)=>{e.transferProgress.crmEntities=t.payload}},extraReducers:{[s.getTransferTasksProgress.fulfilled.type]:(e,t)=>{e.transferProgress.tasks=t.payload,e.loadingTasksProgress=!1,e.errorLoadingTasksProgress=null},[s.getTransferTasksProgress.pending.type]:e=>{e.loadingTasksProgress=!0,e.errorLoadingTasksProgress=null},[s.getTransferTasksProgress.rejected.type]:(e,t)=>{e.loadingTasksProgress=!1,e.errorLoadingTasksProgress=t.payload},[s.getTransferActivitiesProgress.fulfilled.type]:(e,t)=>{e.transferProgress.activities=t.payload,e.loadingActivitiesProgress=!1,e.errorLoadingActivitiesProgress=null},[s.getTransferActivitiesProgress.pending.type]:e=>{e.loadingActivitiesProgress=!0,e.errorLoadingActivitiesProgress=null},[s.getTransferActivitiesProgress.rejected.type]:(e,t)=>{e.loadingActivitiesProgress=!1,e.errorLoadingActivitiesProgress=t.payload},[s.getTransferEntitiesProgress.fulfilled.type]:(e,t)=>{e.transferProgress.crmEntities=t.payload,e.loadingActivitiesProgress=!1,e.errorLoadingActivitiesProgress=null},[s.getTransferEntitiesProgress.pending.type]:e=>{e.loadingActivitiesProgress=!0,e.errorLoadingActivitiesProgress=null},[s.getTransferEntitiesProgress.rejected.type]:(e,t)=>{e.loadingActivitiesProgress=!1,e.errorLoadingActivitiesProgress=t.payload},[s.stopTransferTasks.fulfilled.type]:e=>{e.transferProgress.tasks={status:null,totalQuantity:null,quantity:null,createdAt:null},e.loadingStopTasksTransfer=!1,e.errorLoadingStopTasksTransfer=null},[s.stopTransferTasks.pending.type]:e=>{e.loadingStopTasksTransfer=!0,e.errorLoadingStopTasksTransfer=null},[s.stopTransferTasks.rejected.type]:(e,t)=>{e.loadingStopTasksTransfer=!1,e.errorLoadingStopTasksTransfer=t.payload},[s.stopTransferActivities.fulfilled.type]:e=>{e.transferProgress.activities={status:null,total_quantity:null,quantity:null,created_at:null},e.loadingActivitiesProgress=!1,e.errorLoadingActivitiesProgress=null},[s.stopTransferActivities.pending.type]:e=>{e.loadingActivitiesProgress=!0,e.errorLoadingActivitiesProgress=null},[s.stopTransferActivities.rejected.type]:(e,t)=>{e.loadingActivitiesProgress=!1,e.errorLoadingActivitiesProgress=t.payload},[s.stopTransferEntities.fulfilled.type]:e=>{e.transferProgress.crmEntities={status:null,total_quantity:null,quantity:null,created_at:null},e.loadingCrmEntitiesProgress=!1,e.errorLoadingCrmEntitiesProgress=null},[s.stopTransferEntities.pending.type]:e=>{e.loadingCrmEntitiesProgress=!0,e.errorLoadingCrmEntitiesProgress=null},[s.stopTransferEntities.rejected.type]:(e,t)=>{e.loadingCrmEntitiesProgress=!1,e.errorLoadingCrmEntitiesProgress=t.payload}}});r=d.actions,t.setDataTransferOfCases=r.setDataTransferOfCases,t.setTransferTasksProgress=r.setTransferTasksProgress,t.setTransferGroupsProgress=r.setTransferGroupsProgress,t.setTransferActivitiesProgress=r.setTransferActivitiesProgress,t.setTransferCrmEntitiesProgress=r.setTransferCrmEntitiesProgress,t.default=d.reducer},8508:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUsersByFilters=t.uploadAvatar=t.deleteInvitation=t.repeatInvitation=t.sendUserInvites=t.activateUser=t.deactivateUser=t.updateUserRoles=t.updateUserPosition=t.updateUser=t.fetchUsers=void 0;const i=a(5184),s=a(4809),d=a(8065),n=a(9860);t.fetchUsers=(0,i.createAsyncThunk)("users/fetchUsers",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const e=(yield s.uspacySdk.tokensService.getUserRoles().catch((()=>{})))||[],t=s.uspacySdk.usersService.hasRole(e,[d.MainRoles.ADMIN,d.MainRoles.OWNER])?"all":void 0;return(yield s.uspacySdk.usersService.getUsers(void 0,"all",t)).data}catch(e){return t.rejectWithValue("Failure load users")}})))),t.updateUser=(0,i.createAsyncThunk)("users/updateUser",((e,t)=>r(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.usersService.updateUser(e.id,e);return e.active||e.registered||(t.data.dateOfInvitation=e.dateOfInvitation),t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUserPosition=(0,i.createAsyncThunk)("users/updateUserPosition",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.usersService.updatePosition(e.id,e.position)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUserRoles=(0,i.createAsyncThunk)("users/updateUserRoles",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.usersService.updateRoles(e.id,e.roles)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deactivateUser=(0,i.createAsyncThunk)("users/deactivateUser",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.usersService.deactivateUser(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.activateUser=(0,i.createAsyncThunk)("users/activateUser",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.usersService.activateUser(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.sendUserInvites=(0,i.createAsyncThunk)("users/sendUserInvites",(({invites:e,type:a},i)=>r(void 0,void 0,void 0,(function*(){try{return"single"===a?s.uspacySdk.invatesService.createInvates(e.reduce(((e,t)=>t.email.length>0?[...e,{email:t.email,firstName:t.firstName,lastName:t.lastName}]:e),[])):s.uspacySdk.invatesService.createInvatesBatch(e.reduce(((e,t)=>t.email.length>0?[...e,t.email]:e),[]))}catch(e){return i.rejectWithValue("Failure")}finally{return i.dispatch((0,t.fetchUsers)())}})))),t.repeatInvitation=(0,i.createAsyncThunk)("users/repeatInvitation",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.invatesService.resendInvateByUserId(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteInvitation=(0,i.createAsyncThunk)("users/deleteInvitation",((e,t)=>r(void 0,void 0,void 0,(function*(){try{return s.uspacySdk.invatesService.deleteInvateByUserId(e)}catch(e){return t.rejectWithValue("Failure")}finally{return e}})))),t.uploadAvatar=(0,i.createAsyncThunk)("users/uploadAvatar",(({file:e,userId:t,adminRole:a,profileId:i},{rejectWithValue:d})=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.usersService.uploadAvatar({file:e,userId:a&&t!==i?t:i})).data}catch(e){return d("Failure")}})))),t.fetchUsersByFilters=(0,i.createAsyncThunk)("users/fetchUsersByFilters",(({fields:e,filters:t,signal:a},{rejectWithValue:i})=>r(void 0,void 0,void 0,(function*(){try{const r=(0,n.getFilterParams)(t,e||[]);return(yield s.uspacySdk.usersService.getUsersByFilers(r,a)).data}catch(e){return a.aborted?{aborted:!0}:i(e)}}))))},9789:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentFilterFields=t.setCurrentFilterPreset=t.unpinFilterPreset=t.pinFilterPreset=t.updateCurrentFilters=t.updateCurrentPresetFilters=t.updateFilterPreset=t.deleteFilterPreset=t.createFilterPreset=t.setFilterPresets=t.deleteUserRoleFromTable=t.removeDepartmentFromUsers=t.addDepartmentToUsers=t.addUserRoleFromTable=t.usersSlice=t.sortPresets=void 0;const i=a(5184),s=a(8508);t.sortPresets=e=>e.sort(((e,t)=>e.pinned?-1:t.pinned?1:0));const d={data:[],usersFiltersData:{data:[],meta:null},loading:!0,loadingUsersByFilter:!0,loadingUpdatingUser:!1,errorLoadingUpdatingUser:null,userFilter:null};t.usersSlice=(0,i.createSlice)({name:"users",initialState:d,reducers:{addUserRoleFromTable(e,t){e.data=e.data.filter((e=>e.id===t.payload.id?e.roles.push(t.payload.role):e)),e.usersFiltersData.data=e.usersFiltersData.data.filter((e=>e.id===t.payload.id?e.roles.push(t.payload.role):e))},deleteUserRoleFromTable(e,t){e.data=e.data.filter((e=>{if(e.id===t.payload.id){const a=e.roles.filter((e=>e!==t.payload.role));return e.roles=a,e}return e})),e.usersFiltersData.data=e.usersFiltersData.data.filter((e=>{if(e.id===t.payload.id){const a=e.roles.filter((e=>e!==t.payload.role));return e.roles=a,e}return e}))},addDepartmentToUsers(e,t){e.data=e.data.map((e=>t.payload.data.includes(e.id)?Object.assign(Object.assign({},e),{departmentsIds:[...(null==e?void 0:e.departmentsIds)||[],t.payload.departmentId]}):e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>t.payload.data.includes(e.id)?Object.assign(Object.assign({},e),{departmentsIds:[...(null==e?void 0:e.departmentsIds)||[],t.payload.departmentId]}):e))},removeDepartmentFromUsers(e,t){e.data=e.data.map((e=>t.payload.data.includes(e.id)?Object.assign(Object.assign({},e),{departmentsIds:e.departmentsIds.filter((e=>e!==t.payload.departmentId))}):e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>t.payload.data.includes(e.id)?Object.assign(Object.assign({},e),{departmentsIds:e.departmentsIds.filter((e=>e!==t.payload.departmentId))}):e))},setFilterPresets:(e,a)=>{e.userFilter||(e.userFilter={presets:[]});const r=(0,t.sortPresets)(a.payload.data),i=r.find((e=>e.current));e.userFilter={presets:r,filters:Object.assign(Object.assign({},null==i?void 0:i.filters),a.payload.filters),filterFields:a.payload.filterFields}},createFilterPreset:(e,a)=>{const r=(0,t.sortPresets)([...e.userFilter.presets.map((e=>Object.assign(Object.assign({},e),{current:!1,pinned:!1}))),a.payload.data]),i=r.find((e=>e.current));e.userFilter={presets:r,filters:null==i?void 0:i.filters,filterFields:null==i?void 0:i.filterFields}},deleteFilterPreset:(e,t)=>{var a;let r=null===(a=e.userFilter)||void 0===a?void 0:a.presets.filter((e=>e.id!==t.payload.presetId||e.default)),i=!1;if((null==r?void 0:r.find((e=>e.pinned)))||(r=r.map((e=>e.default?(i=!0,Object.assign(Object.assign({},e),{pinned:!0,current:!0})):e))),e.userFilter.presets=r,i){const t=r.find((e=>e.current));e.userFilter.filters=null==t?void 0:t.filters}},updateFilterPreset:(e,t)=>{var a;e.userFilter.presets=null===(a=e.userFilter.presets)||void 0===a?void 0:a.map((e=>e.id===t.payload.data.id?Object.assign(Object.assign({},e),t.payload.data):e))},pinFilterPreset:(e,a)=>{var r;let i=!1;const s=null===(r=e.userFilter.presets)||void 0===r?void 0:r.map((e=>e.id!==a.payload.presetId||e.pinned?Object.assign(Object.assign({},e),{pinned:!1}):(i=!0,Object.assign(Object.assign({},e),{pinned:!0,current:!0}))));if(e.userFilter.presets=(0,t.sortPresets)(s),i){const t=s.find((e=>e.current));e.userFilter.filters=null==t?void 0:t.filters}},unpinFilterPreset:(e,a)=>{var r;const i=null===(r=e.userFilter.presets)||void 0===r?void 0:r.map((e=>e.id===a.payload.presetId&&e.pinned?Object.assign(Object.assign({},e),{pinned:!1}):e.default&&!e.pinned?Object.assign(Object.assign({},e),{pinned:!0,current:!0}):e));e.userFilter.presets=(0,t.sortPresets)(i);const s=i.find((e=>e.current));e.userFilter.filters=null==s?void 0:s.filters},setCurrentFilterPreset:(e,t)=>{var a;let r=!1;const i=null===(a=e.userFilter.presets)||void 0===a?void 0:a.map((e=>e.id===t.payload.presetId?(r=!0,Object.assign(Object.assign({},e),{current:!0})):Object.assign(Object.assign({},e),{current:!1})));if(e.userFilter.presets=i,r){const t=i.find((e=>e.current));e.userFilter.filters=null==t?void 0:t.filters}},updateCurrentPresetFilters:(e,t)=>{var a,r;e.userFilter.presets=null===(a=e.userFilter.presets)||void 0===a?void 0:a.map((e=>e.current?Object.assign(Object.assign({},e),{filters:Object.assign(Object.assign({},e.filters),t.payload.filters)}):e)),e.userFilter.filters=Object.assign(Object.assign({},null===(r=e.userFilter)||void 0===r?void 0:r.filters),t.payload.filters)},updateCurrentFilters:(e,t)=>{var a;e.userFilter.filters=Object.assign(Object.assign({},null===(a=e.userFilter)||void 0===a?void 0:a.filters),t.payload.filters)},updateCurrentFilterFields:(e,t)=>{e.userFilter.filterFields=t.payload.filterFields},clearItems:e=>{e.usersFiltersData=d.usersFiltersData}},extraReducers:{[s.fetchUsersByFilters.fulfilled.type]:(e,t)=>{e.loadingUsersByFilter=!1,e.usersFiltersData=t.payload.aborted?e.usersFiltersData:t.payload},[s.fetchUsersByFilters.pending.type]:e=>{e.loadingUsersByFilter=!0,e.errorLoading=""},[s.fetchUsersByFilters.rejected.type]:(e,t)=>{e.loadingUsersByFilter=!1,e.errorLoading=t.payload},[s.fetchUsers.fulfilled.type]:(e,t)=>{e.loading=!1,e.data=t.payload.filter((e=>!!e.authUserId))},[s.fetchUsers.pending.type]:e=>{e.loading=!0,e.errorLoading=""},[s.fetchUsers.rejected.type]:(e,t)=>{e.loading=!1,e.errorLoading=t.payload},[s.updateUser.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateUser.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.updateUser.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.updateUserPosition.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateUserPosition.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.updateUserPosition.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.updateUserRoles.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateUserRoles.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.updateUserRoles.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.deactivateUser.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.deactivateUser.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.deactivateUser.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.activateUser.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.activateUser.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.activateUser.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.sendUserInvites.fulfilled.type]:e=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null},[s.sendUserInvites.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.sendUserInvites.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.repeatInvitation.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id.toString()===t.payload.toString()?Object.assign(Object.assign({},e),{dateOfInvitation:(new Date).getTime()/1e3}):e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>e.id.toString()===t.payload.toString()?Object.assign(Object.assign({},e),{dateOfInvitation:(new Date).getTime()/1e3}):e))},[s.repeatInvitation.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.repeatInvitation.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.deleteInvitation.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.filter((e=>e.id.toString()!==t.payload.toString())),e.usersFiltersData.data=e.usersFiltersData.data.filter((e=>e.id.toString()!==t.payload.toString()))},[s.deleteInvitation.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.deleteInvitation.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[s.uploadAvatar.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e)),e.usersFiltersData.data=e.usersFiltersData.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.uploadAvatar.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[s.uploadAvatar.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload}}}),r=t.usersSlice.actions,t.addUserRoleFromTable=r.addUserRoleFromTable,t.addDepartmentToUsers=r.addDepartmentToUsers,t.removeDepartmentFromUsers=r.removeDepartmentFromUsers,t.deleteUserRoleFromTable=r.deleteUserRoleFromTable,t.setFilterPresets=r.setFilterPresets,t.createFilterPreset=r.createFilterPreset,t.deleteFilterPreset=r.deleteFilterPreset,t.updateFilterPreset=r.updateFilterPreset,t.updateCurrentPresetFilters=r.updateCurrentPresetFilters,t.updateCurrentFilters=r.updateCurrentFilters,t.pinFilterPreset=r.pinFilterPreset,t.unpinFilterPreset=r.unpinFilterPreset,t.setCurrentFilterPreset=r.setCurrentFilterPreset,t.updateCurrentFilterFields=r.updateCurrentFilterFields,t.default=t.usersSlice.reducer},3917:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(i,s){function d(e){try{o(r.next(e))}catch(e){s(e)}}function n(e){try{o(r.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(d,n)}o((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWebhook=t.deleteSelectedWebhooks=t.repeatWebhook=t.toggleWebhook=t.getWebhookById=t.deleteWebhook=t.createWebhook=t.fetchWebhooks=void 0;const i=a(5184),s=a(4809);t.fetchWebhooks=(0,i.createAsyncThunk)("webhooks/fetchWebhooks",(({page:e,list:t,name:a,isIncoming:i},d)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.getWebhooks(e,t,a,i)).data}catch(e){return d.rejectWithValue("Failure")}})))),t.createWebhook=(0,i.createAsyncThunk)("webhooks/createWebhook",(({data:e,isIncoming:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.createWebhook(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteWebhook=(0,i.createAsyncThunk)("webhooks/deletehWebhook",(({id:e,isIncoming:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.deleteWebhook(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.getWebhookById=(0,i.createAsyncThunk)("webhooks/getWebhookById",(({id:e,isIncoming:t},a)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.getWebhookById(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.toggleWebhook=(0,i.createAsyncThunk)("webhooks/toggleWebhook",(({id:e,isIncoming:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.toggleWebhook(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.repeatWebhook=(0,i.createAsyncThunk)("webhooks/repeatWebhook",(({id:e,isIncoming:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.repeatWebhook(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteSelectedWebhooks=(0,i.createAsyncThunk)("webhooks/deleteSelectedWebhooks",(({ids:e,isIncoming:t},a)=>r(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.deleteSelectedWebhooks(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.updateWebhook=(0,i.createAsyncThunk)("webhooks/updateWebhook",(({id:e,body:t,isIncoming:a},i)=>r(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.updateWebhook(e,t,a)).data}catch(e){return i.rejectWithValue("Failure")}}))))},515:(e,t,a)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLastElementTable=t.addWebhookToEndTable=t.getCopyWebhook=t.setModalOpen=t.setModalMode=void 0;const i=a(5184),s=a(3917),d=(0,i.createSlice)({name:"webhooksReducer",initialState:{webhooks:{},webhook:{},modalModes:{create:!1,edit:!1,copy:!1,view:!1,isIncoming:!1},isModalOpen:!1,loadingWebhooks:!1,errorLoadingErrors:null},reducers:{setModalMode:(e,t)=>{e.modalModes=t.payload},setModalOpen:(e,t)=>{e.isModalOpen=t.payload},getCopyWebhook:(e,t)=>{e.webhook=e.webhooks.data.find((e=>e.id===t.payload))},addWebhookToEndTable:(e,t)=>{e.webhooks.data.push(t.payload)},deleteLastElementTable:e=>{e.webhooks.data=e.webhooks.data.slice(0,-1)}},extraReducers:{[s.fetchWebhooks.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=t.payload.data,e.webhooks.meta=t.payload.meta},[s.fetchWebhooks.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.fetchWebhooks.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.getWebhookById.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhook=t.payload},[s.getWebhookById.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.getWebhookById.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.createWebhook.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data.unshift(t.payload),e.webhooks.meta.total=e.webhooks.meta.total+1},[s.createWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.createWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.deleteWebhook.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=e.webhooks.data.filter((e=>e.id!==t.payload)),e.webhooks.meta.total=e.webhooks.meta.total-1},[s.deleteWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.deleteWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.toggleWebhook.fulfilled.type]:e=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null},[s.toggleWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.toggleWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.repeatWebhook.fulfilled.type]:e=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null},[s.repeatWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.repeatWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.deleteSelectedWebhooks.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=e.webhooks.data.filter((e=>!t.payload.includes(e.id)))},[s.deleteSelectedWebhooks.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.deleteSelectedWebhooks.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.updateWebhook.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=e.webhooks.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.updateWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload}}});r=d.actions,t.setModalMode=r.setModalMode,t.setModalOpen=r.setModalOpen,t.getCopyWebhook=r.getCopyWebhook,t.addWebhookToEndTable=r.addWebhookToEndTable,t.deleteLastElementTable=r.deleteLastElementTable,t.default=d.reducer},5184:e=>{e.exports=a(9613)},4809:e=>{e.exports=a(2396)},6063:e=>{e.exports=a(4657)},414:e=>{e.exports=a(3810)},9243:e=>{e.exports=a(6394)},8065:e=>{e.exports=a(771)},9472:e=>{e.exports=a(2464)},9591:e=>{e.exports=a(8055)},5599:e=>{e.exports=a(6449)},9699:e=>{e.exports=a(2193)},113:e=>{e.exports=a(2404)},8524:e=>{e.exports=a(5187)},7078:e=>{e.exports=a(8023)},5795:e=>{e.exports=a(3805)},7026:e=>{e.exports=a(5015)},6689:e=>{e.exports=a(1527)},6022:e=>{e.exports=a(3512)},997:e=>{e.exports=a(4848)},5828:e=>{e.exports=a(611)}},r={},i=function e(a){var i=r[a];if(void 0!==i)return i.exports;var s=r[a]={exports:{}};return t[a].call(s.exports,s,s.exports,e),s.exports}(3607);e.exports=i})()},8440:(e,t,a)=>{var r=a(6038),i=a(7301),s=a(6009),d=s&&s.isSet,n=d?i(d):r;e.exports=n},8879:(e,t,a)=>{var r=a(4335)(Object.getPrototypeOf,Object);e.exports=r},8948:(e,t,a)=>{var r=a(1791),i=a(6375);e.exports=function(e,t){return r(e,i(e),t)}},9172:(e,t,a)=>{var r=a(5861),i=a(346);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},9344:(e,t,a)=>{var r=a(3805),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();e.exports=s},9622:(e,t,a)=>{var r=a(695),i=a(2903),s=a(4894);e.exports=function(e){return s(e)?r(e,!0):i(e)}},9653:(e,t,a)=>{var r=a(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},9999:(e,t,a)=>{var r=a(7217),i=a(3729),s=a(6547),d=a(4733),n=a(1457),o=a(3290),l=a(3007),c=a(2271),u=a(8948),p=a(2),y=a(3349),g=a(5861),v=a(6189),m=a(7199),f=a(5529),h=a(6449),S=a(3656),F=a(7730),k=a(3805),b=a(8440),T=a(5950),j=a(9622),C="[object Arguments]",L="[object Function]",P="[object Object]",I={};I[C]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[P]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[L]=I["[object WeakMap]"]=!1,e.exports=function e(t,a,O,_,E,A){var M,D=1&a,R=2&a,U=4&a;if(O&&(M=E?O(t,_,E,A):O(t)),void 0!==M)return M;if(!k(t))return t;var w=h(t);if(w){if(M=v(t),!D)return l(t,M)}else{var x=g(t),W=x==L||"[object GeneratorFunction]"==x;if(S(t))return o(t,D);if(x==P||x==C||W&&!E){if(M=R||W?{}:f(t),!D)return R?u(t,n(M,t)):c(t,d(M,t))}else{if(!I[x])return E?t:{};M=m(t,x,D)}}A||(A=new r);var V=A.get(t);if(V)return V;A.set(t,M),b(t)?t.forEach((function(r){M.add(e(r,a,O,r,t,A))})):F(t)&&t.forEach((function(r,i){M.set(i,e(r,a,O,i,t,A))}));var q=w?void 0:(U?R?y:p:R?j:T)(t);return i(q||t,(function(r,i){q&&(r=t[i=r]),s(M,i,e(r,a,O,i,t,A))})),M}}}]);
//# sourceMappingURL=394.45987ce6.chunk.js.map